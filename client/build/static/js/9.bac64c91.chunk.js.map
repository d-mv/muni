{"version":3,"sources":["layout/SubTitle.tsx","layout/style/SubTitle.module.scss","features/New/components/style/PhotoUpload.module.scss","features/New/components/style/Step.module.scss","features/New/components/style/Steps.module.scss","components/style/Message.module.scss","layout/style/Center.module.scss","features/New/components/Preview.tsx","features/New/components/PhotoUpload.tsx","features/New/components/Step.tsx","features/New/components/Steps.tsx","components/Message.tsx","features/New/components/ContentBlock.tsx","layout/Center.tsx","features/New/components/CatDescription.tsx","features/New/index.tsx","features/New/indexMuni.tsx","pages/New.tsx"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_style_SubTitle_module_scss__WEBPACK_IMPORTED_MODULE_1__","_style_SubTitle_module_scss__WEBPACK_IMPORTED_MODULE_1___default","SubTitle","props","a","createElement","className","direction","styles","titleR","title","module","exports","container","image-template","image","imageDef","input","step","filled","line-template","line","lineRTL","message","messageRTL","messageForm","messageFormRTL","attention","cancel","primary","secondary","center","centerBlock","Preview","react_default","style","wrapper","data-testid","post","components","category","photo","src","edit","text","link","Text","problem","muni","back","solution","PhotoUpload","_React$useState","React","useState","_React$useState2","Object","slicedToArray","setPhoto","showPhoto","alt","id","type","name","onChange","e","event","imageEncoder","target","files","image64","imageDecoder","action","htmlFor","button","primarySmall","label","Step","iconStyle","current","onClick","Steps","stepsStyle","styleFactory","stepsArray","map","components_Step","key","Message","use","toUpperCase","slice","messageStyle","concat","messageMode","mode","children","ContentBlock","Content","paddedFlat","stepOne","stepTwo","stepThree","stepFour","stepFive","preview","components_Message","loadingElement","Center","centerStyle","block","CatDescription","Line","_id","categories","result","cat","value","desc","getCategoryDescription","connect","state","auth","language","locations","token","submitResult","submitPost","prevModule","newPost","loading","setStep","setModule","typingPost","setLoading","createPost","short","review","setReview","_React$useState3","_React$useState4","setMessage","useEffect","handleInputChange","_event$target","defineProperty","pageSubTitle","stepsComponent","components_Steps","newStep","buttonPrimary","Button","check","response","RegExp","test","console","log","Utils","formSection","placeholder","length","focus","preparedCategories","values","push","description","getCategories","formSelection","list","components_CatDescription","Section","Label","components_PhotoUpload","categoryName","categoryIdToName","Preview_Preview","Loading","padded","layout_Center","Paragraph","components_ContentBlock","ButtonsWrapper","row","disabled","createNews","New","Page","opposite","indexMuni","features_New"],"mappings":"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","file":"static/js/9.bac64c91.chunk.js","sourcesContent":["import React from \"react\";\n\nimport styles from \"./style/SubTitle.module.scss\";\n\nconst SubTitle = (props: { title: string; direction: string }) => {\n  return (\n    <h2 className={props.direction === \"rtl\" ? styles.titleR : styles.title}>\n      {props.title}\n    </h2>\n  );\n};\n\nexport default SubTitle;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"SubTitle_title__2Xfou\",\"titleR\":\"SubTitle_titleR__3z-AB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PhotoUpload_container__3-TSE\",\"image-template\":\"PhotoUpload_image-template__1t75u\",\"image\":\"PhotoUpload_image__1sY1D\",\"imageDef\":\"PhotoUpload_imageDef__3T8x_\",\"input\":\"PhotoUpload_input__3S7tz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"step\":\"Step_step__3iB9b\",\"filled\":\"Step_filled__1wVIt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"line-template\":\"Steps_line-template__2LYuQ\",\"line\":\"Steps_line__2uDDB\",\"lineRTL\":\"Steps_lineRTL__3xZak\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__wCUkq\",\"messageRTL\":\"Message_messageRTL__pxl-h\",\"messageForm\":\"Message_messageForm__3meN4\",\"messageFormRTL\":\"Message_messageFormRTL__17eOj\",\"attention\":\"Message_attention__384Il\",\"cancel\":\"Message_cancel__3bI_Z\",\"primary\":\"Message_primary__eLBOT\",\"secondary\":\"Message_secondary__8AWKh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"center\":\"Center_center__SOzh3\",\"centerBlock\":\"Center_centerBlock__2xXiY\"};","import React from \"react\";\nimport { TopBlock, Photo, Link } from \"../../Post/components\";\nimport Text from \"../../Post/components/Text\";\nimport style from \"../../Post/style/Post.module.scss\";\n\nexport const Preview = (props: {\n  post: {\n    title: string;\n    category?: string;\n    problem: string;\n    solution?: string;\n    photo: string;\n    link: string;\n  };\n  direction: string;\n  text: { problem: string; solution: string };\n  muni?: boolean;\n}) => (\n  <div className={style.wrapper}>\n    <div data-testid='post__preview' className={style.post}>\n      <TopBlock title={props.post.title} category={props.post.category} />\n      {props.post.photo ? <Photo src={props.post.photo} edit={false} /> : null}\n      <Link\n        primary\n        text={props.post.link}\n        direction={props.direction}\n        edit={false}\n      />\n      <div className={style.text}>\n        <Text\n          step\n          title={props.text.problem}\n          text={props.post.problem}\n          direction={props.direction}\n        />\n        {props.muni ? null : (\n          <Text\n            back\n            title={props.text.solution}\n            text={props.post.solution || \"\"}\n            direction={props.direction}\n          />\n        )}\n      </div>\n    </div>\n  </div>\n);\n","import React from \"react\";\nimport { imageDecoder, imageEncoder } from \"../../../modules/image_coder\";\n\nimport button from \"../../../components/style/Button.module.scss\";\nimport style from \"./style/PhotoUpload.module.scss\";\n\nconst PhotoUpload = (props: {\n  label: string;\n  direction: string;\n  action: (arg0: any) => void;\n  photo?: string;\n}) => {\n  const defaultPhoto =\n    \"https://res.cloudinary.com/diciu4xpu/image/upload/v1560088174/dev/photo.svg\";\n  const [photo, setPhoto] = React.useState(props.photo ? props.photo : null);\n\n  /**\n   * Function to convert file to base64, send it to props,set local URL as preview\n   * @params {Array} files - File selected by client\n   */\n  const getBaseFile = (event: any) => {\n    imageEncoder(event.target.files[0], (image64: any) => {\n      const image = imageDecoder(image64);\n      setPhoto(image);\n      props.action(image64);\n    });\n  };\n\n  const showPhoto = photo ? (\n    <img src={photo} alt='upload-image' className={style.image} />\n  ) : (\n    <img src={defaultPhoto} alt='upload-image' className={style.imageDef} />\n  );\n\n  return (\n    <div className={style.container}>\n      {showPhoto}\n      <input\n        id='file'\n        type='file'\n        name='file'\n        className={style.input}\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) => getBaseFile(e)}\n      />\n      <label htmlFor='file' className={button.primarySmall}>\n        {props.label}\n      </label>\n    </div>\n  );\n};\n\nexport default PhotoUpload;\n","import React from \"react\";\n\nimport style from \"./style/Step.module.scss\";\n\nconst Step = (props: {\n  step: number;\n  current: number;\n  action: (arg0: number) => void;\n}) => {\n  const iconStyle = props.current < props.step + 1 ? style.step : style.filled;\n  return (\n    <div\n      data-testid='step-icon'\n      className={iconStyle}\n      onClick={() => props.action(props.step)}>\n      {props.step}\n    </div>\n  );\n};\n\nexport default Step;\n","import React from \"react\";\n\nimport Step from \"./Step\";\n\nimport style from \"./style/Steps.module.scss\";\nimport styleFactory from \"../../../modules/style_factory\";\n\n/**\n * Function to create React.FunctionalComponent with set of step icons, clickable\n * @param {Object} props\n * @returns {React.FC}\n */\nconst Steps = (props: {\n  current: number;\n  direction: string;\n  action: (arg0: number) => void;\n  muni?: boolean\n}) => {\n  const stepsStyle = style[styleFactory(\"line\", props.direction)];\n  const stepsArray = props.muni ? [1, 2, 3] : [1,2,3,4,5]\n  return (\n    <section className={stepsStyle}>\n      {stepsArray.map((step: number) => {\n        return (\n          <Step\n            key={step}\n            step={step}\n            current={props.current}\n            action={props.action}\n          />\n        );\n      })}\n    </section>\n  );\n};\n\nexport default Steps;\n","import React from \"react\";\n\nimport styleFactory from \"../modules/style_factory\";\n\nimport style from \"./style/Message.module.scss\";\n\n/**\n * React JSX component to wrap message\n * @param {object} props - Children to display, mode/color\n * @returns {JSX.Element}\n */\nconst Message = (props: { children: any; direction: string; mode: string;use?:string }) => {\n  const styles: any = style;\n  const use = props.use ? props.use[0].toUpperCase() + props.use.slice(1) : ''\n  const messageStyle = styles[styleFactory(`message${use}`, props.direction)];\n  const messageMode = styles[props.mode];\n  return (\n    <div className={messageStyle}>\n      <span className={messageMode}>{props.children}</span>\n    </div>\n  );\n};\n\nexport default Message;\n","import React from \"react\";\n\nimport Message from \"../../../components/Message\";\n\nimport Content from \"../../../layout/Content\";\n\nconst ContentBlock = (props: {\n  stepOne: React.ClassicElement<any> | null;\n  stepTwo: React.ClassicElement<any> | null;\n  stepThree: React.ClassicElement<any> | null;\n  stepFour?: React.ClassicElement<any> | null;\n  stepFive?: React.ClassicElement<any> | null;\n  preview: React.ClassicElement<any> | null;\n  loadingElement: React.ClassicElement<any> | null;\n  message: string;\n\n  direction: string;\n}) => (\n  <Content paddedFlat>\n    {props.stepOne}\n    {props.stepTwo}\n    {props.stepThree}\n    {props.stepFour}\n    {props.stepFive}\n    {props.preview}\n    <Message direction={props.direction} mode='attention' use='form'>\n      {props.message}\n    </Message>\n    {props.loadingElement}\n  </Content>\n);\n\nexport default ContentBlock;\n","import React from \"react\";\n\nimport styles from \"./style/Center.module.scss\";\n\n/**\n * React JSX component to center content of the line\n *\n * @param {object} props - Children to display, boolean to show as block\n *\n * @returns {JSX.Element}\n *\n */\nconst Center = (props: { children: any; block?: boolean }) => {\n\n  const centerStyle = styles[`center${props.block ? \"Block\" : \"\"}`];\n  return <div className={centerStyle}>{props.children}</div>;\n};\n\nexport default Center;\n","import React from \"react\";\nimport { data } from \"../../../store/types\";\nimport Line from \"../../../layout/Line\";\n\nconst getCategoryDescription = (_id: string, categories: data) => {\n  let result = \"\";\n  categories.map((cat: data) => {\n    if (cat.value === _id) result = cat.desc;\n  });\n  return result;\n};\n\nconst CatDescription = (props: {\n  direction: string;\n  category: string;\n  categories: data;\n}) => (\n  <Line direction={props.direction}>\n    <p className='textStandard'>\n      {getCategoryDescription(props.category, props.categories)}\n    </p>\n  </Line>\n);\n\nexport default CatDescription;\n","import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { formSection, formSelection } from \"../../components/formSection\";\nimport { Preview } from \"./components\";\nimport { AppState } from \"../../store\";\nimport { setStep } from \"../../store/app/actions\";\nimport { typingPost, createPost } from \"../../store/post/actions\";\nimport { setModule, setLoading } from \"../../store/users/actions\";\nimport { data } from \"../../store/types\";\n\nimport Button from \"../../components/Button\";\nimport Loading from \"../../components/Loading\";\nimport PhotoUpload from \"./components/PhotoUpload\";\nimport Steps from \"./components/Steps\";\nimport ContentBlock from \"./components/ContentBlock\";\n\nimport ButtonsWrapper from \"../../layout/ButtonsWrapper\";\nimport Center from \"../../layout/Center\";\nimport Content from \"../../layout/Content\";\nimport Label from \"../../layout/Label\";\nimport Section from \"../../layout/Section\";\nimport Paragraph from \"../../layout/Paragraph\";\nimport SubTitle from \"../../layout/SubTitle\";\nimport { Zero } from \"../../layout/Utils\";\nimport CatDescription from \"./components/CatDescription\";\nimport { categoryIdToName } from \"../../modules/category_processor\";\n\nconst NewPost = (props: {\n  language: data;\n  auth: data;\n  categories: any;\n  // locations: data;\n  token: string;\n  step: number;\n  submitResult: data;\n  setStep: (arg0: number) => void;\n  // submitPost: (arg0: indexedObjAny) => void;\n  setModule: (arg0: string) => void;\n  prevModule: string;\n  //\n  loading: boolean;\n  setLoading: (arg0: boolean) => void;\n  typingPost: (arg0: { [index: string]: any }) => void;\n  newPost: {\n    title: \"\";\n    category: \"\";\n    problem: \"\";\n    solution: \"\";\n    photo: \"\";\n    link: \"\";\n  };\n  createPost: (arg0: any) => void;\n}) => {\n  const { language, categories, newPost, typingPost, step, setStep } = props;\n  const { direction, text, short } = language;\n  const [review, setReview] = React.useState(false);\n  // form fields\n  const { title, category, problem, solution, photo, link } = newPost;\n  // message\n  const [message, setMessage] = React.useState(\"\");\n\n  useEffect(() => {\n    if (step === 6 && review === false) {\n      setReview(true);\n    }\n  }, [step]);\n\n  useEffect(() => {\n    typingPost({ category: categories[0]._id });\n  }, []);\n\n  const getCategories = () => {\n    let result: { value: string; label: string; desc: string }[] = [];\n    Object.values(categories).map((value: any) => {\n      result.push({\n        value: value._id,\n        label: value.name[short],\n        desc: value.description[short]\n      });\n    });\n    return result;\n  };\n\n  const handleNextStep = () => {\n    let check = \"\";\n    if (step + 1 <= 6) {\n      let response: string = text[\"new.message.fieldEmpty\"];\n      switch (step) {\n        case 1:\n          check = title;\n          break;\n        case 2:\n          check = category;\n          break;\n        case 3:\n          check = problem;\n          break;\n        case 4:\n          check = solution;\n          break;\n        case 5:\n          if (link) {\n            const regex = new RegExp(\n              \"^([0-9A-Za-z-\\\\.@:%_+~#=]+)+((\\\\.[a-zA-Z]{2,3})+)(/(.)*)?(\\\\?(.)*)?\"\n            );\n            check = regex.test(link) ? \"true\" : \"\";\n            if (!check) {\n              response = text[\"new.message.urlMalformed\"];\n            }\n          } else {\n            check = \" \";\n          }\n          break;\n      }\n      console.log(check);\n      if (check) {\n        setMessage(\"\");\n        setStep(step + 1);\n      } else {\n        setMessage(response);\n      }\n    }\n  };\n\n  const handleBackStep = () => {\n    if (step - 1 > 0) {\n      setStep(step - 1);\n    }\n  };\n\n  const handleAnyStep = (newStep: number) => {\n    if (review) {\n      setStep(newStep);\n    }\n  };\n\n  const handleInputChange = (event: any) => {\n    const { name, value } = event.target;\n    setMessage(\"\");\n    typingPost({ [name]: value });\n  };\n  const handleDropDown = (event: any) => {\n    typingPost({ category: event.target.value });\n  };\n\n  const handleSetPhoto = (props: any) => {\n    typingPost({ photo: props });\n  };\n\n  const handleSubmit = () => {\n    props.createPost(newPost);\n  };\n\n  let pageSubTitle = text[\"new.steps.title\"];\n  let stepsComponent = (\n    <Steps current={step} direction={direction} action={handleAnyStep} />\n  );\n  let buttonPrimary = (\n    <Button mode='primary' action={handleNextStep}>\n      {text[\"new.steps.button.next\"]}\n    </Button>\n  );\n\n  if (step === 6) {\n    stepsComponent = <Zero />;\n    pageSubTitle = text[\"new.preview\"];\n    buttonPrimary = (\n      <Button mode='primary' action={handleSubmit}>\n        {text[\"new.steps.button.submit\"]}\n      </Button>\n    );\n  }\n\n  const stepOne =\n    step === 1\n      ? formSection({\n          label: text[\"new.field.title.label\"],\n          type: \"text\",\n          name: \"title\",\n          value: title,\n          placeholder: text[\"new.field.title.prompt\"],\n          action: handleInputChange,\n          length: 2,\n          focus: true\n        })\n      : null;\n\n  const preparedCategories = getCategories();\n\n  const stepTwo =\n    step === 2 ? (\n      <div className='none'>\n        {formSelection({\n          list: preparedCategories,\n          direction,\n          label: text[\"new.field.category.label\"],\n          action: handleDropDown,\n          focus: true,\n          value: category\n        })}\n        <CatDescription\n          direction={direction}\n          category={category}\n          categories={preparedCategories}\n        />\n      </div>\n    ) : null;\n\n  const stepThree =\n    step === 3\n      ? formSection({\n          label: text[\"new.field.problem.label\"],\n          type: \"textarea\",\n          name: \"problem\",\n          value: problem,\n          placeholder: text[\"new.field.problem.prompt\"],\n          action: handleInputChange,\n          length: 50,\n          focus: true\n        })\n      : null;\n  const stepFour =\n    step === 4\n      ? formSection({\n          label: text[\"new.field.solution.label\"],\n          type: \"textarea\",\n          name: \"solution\",\n          value: solution,\n          placeholder: text[\"new.field.solution.prompt\"],\n          action: handleInputChange,\n          length: 50,\n          focus: true\n        })\n      : null;\n  const stepFive =\n    step === 5 ? (\n      <Section>\n        <Label direction={direction} value={text[\"new.field.photo.label\"]} />\n        <PhotoUpload\n          label={text[\"new.field.photo.prompt\"]}\n          direction={direction}\n          action={handleSetPhoto}\n          photo={photo}\n        />\n        {formSection({\n          label: text[\"new.field.link.label\"],\n          type: \"url\",\n          name: \"link\",\n          value: link,\n          placeholder: text[\"new.field.link.prompt\"],\n          action: handleInputChange,\n          length: 5\n        })}\n      </Section>\n    ) : null;\n\n  const mockFn = (props: any) => {};\n\n  const categoryName = categoryIdToName(\n    categories,\n    props.language.short,\n    category\n  );\n\n  const post = {\n    title,\n    category: categoryName,\n    problem,\n    solution,\n    photo,\n    link\n  };\n  // TODO: fix below\n  const preview =\n    step === 6 ? (\n      <Preview\n        post={post}\n        direction={direction}\n        text={{\n          problem: text[\"post.problem\"],\n          solution: text[\"post.solution\"]\n        }}\n      />\n    ) : null;\n  const loadingElement = props.loading ? <Loading /> : null;\n\n  const goHome = () => {\n    props.setModule(props.prevModule);\n  };\n  const headerObject = {\n    name: \"New Post\",\n    left: { icon: <div>back</div>, action: goHome }\n  };\n  // console.log(message)\n  return (\n    <Content padded>\n      {/* <Header {...headerObject} /> */}\n      <Center>\n        <SubTitle title={pageSubTitle} direction={direction} />\n        {stepsComponent}\n      </Center>\n      <Paragraph direction={direction}>\n        {text[`new.steps.step.${step}`]}\n      </Paragraph>\n      <ContentBlock\n        stepOne={stepOne}\n        stepTwo={stepTwo}\n        stepThree={stepThree}\n        stepFour={stepFour}\n        stepFive={stepFive}\n        preview={preview}\n        loadingElement={loadingElement}\n        direction={direction}\n        message={message}\n      />\n      <ButtonsWrapper row direction={direction}>\n        {buttonPrimary}\n        <Button mode='secondary' disabled={step === 1} action={handleBackStep}>\n          {text[\"new.steps.button.back\"]}\n        </Button>\n      </ButtonsWrapper>\n    </Content>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    auth: state.auth,\n    language: state.language,\n    categories: state.categories,\n    locations: state.locations,\n    token: state.token,\n    submitResult: state.submitPost,\n    step: state.step,\n    prevModule: state.prevModule,\n    newPost: state.newPost,\n    loading: state.loading\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { setStep,setModule, typingPost, setLoading, createPost }\n)(NewPost);\n","import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\n\nimport { formSection, formSelection } from \"../../components/formSection\";\nimport { Preview } from \"./components\";\nimport { AppState } from \"../../store\";\nimport { setStep } from \"../../store/app/actions\";\nimport { createNews, typingPost } from \"../../store/post/actions\";\nimport { setModule } from \"../../store/users/actions\";\nimport { indexedObjAny, data } from \"../../store/types\";\n\nimport Button from \"../../components/Button\";\nimport Loading from \"../../components/Loading\";\nimport PhotoUpload from \"./components/PhotoUpload\";\nimport Steps from \"./components/Steps\";\nimport ContentBlock from \"./components/ContentBlock\";\n\nimport ButtonsWrapper from \"../../layout/ButtonsWrapper\";\nimport Center from \"../../layout/Center\";\nimport Content from \"../../layout/Content\";\nimport Label from \"../../layout/Label\";\nimport Section from \"../../layout/Section\";\nimport Paragraph from \"../../layout/Paragraph\";\nimport SubTitle from \"../../layout/SubTitle\";\nimport { Zero } from \"../../layout/Utils\";\nimport CatDescription from \"./components/CatDescription\";\nimport Header from \"../../components/Header\";\nimport { categoryIdToName } from \"../../modules/category_processor\";\nimport { AuthState } from \"../../models\";\n\nconst NewPost = (props: {\n  language: data;\n  // location: data;\n  auth: AuthState;\n  token: string;\n  step: number;\n  // submitResult: data;\n  setStep: (arg0: number) => void;\n  // submitPost: (arg0: indexedObjAny) => void;\n  setModule: (arg0: string) => void;\n  prevModule: string;\n  //\n  loading: boolean;\n  // setLoading: (arg0: boolean) => void;\n  typingPost: (arg0: { [index: string]: any }) => void;\n  newPost: {\n    title: \"\";\n    text: \"\";\n    photo: \"\";\n    link: \"\";\n  };\n  createNews: (arg0: any) => void;\n}) => {\n  const { language, newPost, typingPost, loading, step, setStep } = props;\n  const { direction, text, short } = language;\n  const [review, setReview] = React.useState(false);\n  // form fields\n  const { title, photo, link } = newPost;\n  // message\n  const [message, setMessage] = React.useState(\"\");\n\n  useEffect(() => {\n    if (step === 6 && review === false) {\n      setReview(true);\n    }\n  }, [step]);\n\n  const handleNextStep = () => {\n    let check = \"\";\n    if (step + 1 <= 4) {\n      let response: string = text[\"new.message.fieldEmpty\"];\n      switch (step) {\n        case 1:\n          check = title;\n          break;\n        case 2:\n          check = props.newPost.text;\n          break;\n        case 3:\n          if (link) {\n            const regex = new RegExp(\n              \"^([0-9A-Za-z-\\\\.@:%_+~#=]+)+((\\\\.[a-zA-Z]{2,3})+)(/(.)*)?(\\\\?(.)*)?\"\n            );\n            check = regex.test(link) ? \"true\" : \"\";\n            if (!check) {\n              response = text[\"new.message.urlMalformed\"];\n            }\n          } else {\n            check = \"\";\n          }\n          break;\n      }\n      console.log(check);\n      if (check) {\n        setMessage(\"\");\n        setStep(step + 1);\n      } else {\n        setMessage(response);\n      }\n    }\n  };\n  // console.log(step);\n  const handleBackStep = () => {\n    if (step - 1 > 0) {\n      setStep(step - 1);\n    }\n  };\n\n  const handleAnyStep = (newStep: number) => {\n    if (review) {\n      setStep(newStep);\n    }\n  };\n\n  const handleInputChange = (event: any) => {\n    const { name, value } = event.target;\n    setMessage(\"\");\n    typingPost({ [name]: value });\n  };\n\n  const handleSetPhoto = (props: any) => {\n    typingPost({ photo: props });\n  };\n\n  const handleSubmit = () => {\n    props.createNews(newPost);\n  };\n\n  let pageSubTitle = text[\"new.steps.title\"];\n  let stepsComponent = (\n    <Steps muni current={step} direction={direction} action={handleAnyStep} />\n  );\n  let buttonPrimary = (\n    <Button mode='primary' action={handleNextStep}>\n      {text[\"new.steps.button.next\"]}\n    </Button>\n  );\n\n  if (step === 4) {\n    stepsComponent = <Zero />;\n    pageSubTitle = text[\"new.preview\"];\n    buttonPrimary = (\n      <Button mode='primary' action={handleSubmit}>\n        {text[\"new.steps.button.submit\"]}\n      </Button>\n    );\n  }\n\n  const stepOne =\n    step === 1\n      ? formSection({\n          label: text[\"new.field.title.label\"],\n          type: \"text\",\n          name: \"title\",\n          value: title,\n          placeholder: text[\"new.field.title.prompt\"],\n          action: handleInputChange,\n          length: 2,\n          focus: true\n        })\n      : null;\n\n  const stepTwo =\n    step === 2\n      ? formSection({\n          label: text[\"new.field.problem.label\"],\n          type: \"textarea\",\n          name: \"text\",\n          value: props.newPost.text,\n          placeholder: text[\"new.field.problem.prompt\"],\n          action: handleInputChange,\n          length: 50,\n          focus: true\n        })\n      : null;\n\n  const stepThree =\n    step === 3 ? (\n      <Section>\n        <Label direction={direction} value={text[\"new.field.photo.label\"]} />\n        <PhotoUpload\n          label={text[\"new.field.photo.prompt\"]}\n          direction={direction}\n          action={handleSetPhoto}\n          photo={photo}\n        />\n        {formSection({\n          label: text[\"new.field.link.label\"],\n          type: \"url\",\n          name: \"link\",\n          value: link,\n          placeholder: text[\"new.field.link.prompt\"],\n          action: handleInputChange,\n          length: 5\n        })}\n      </Section>\n    ) : null;\n\n  const mockFn = (props: any) => {};\n\n  const post = {\n    title,\n    problem: props.newPost.text,\n    photo,\n    link\n  };\n  // TODO: fix below\n  const preview =\n    step === 4 ? (\n      <Preview\n        muni\n        post={post}\n        direction={direction}\n        text={{\n          problem: text[\"post.problem\"],\n          solution: text[\"post.solution\"]\n        }}\n      />\n    ) : null;\n  const loadingElement = loading ? <Loading /> : null;\n\n  const goHome = () => {\n    props.setModule(props.prevModule);\n  };\n\n  const headerObject = {\n    name: \"New Post\",\n    left: { icon: <div>back</div>, action: goHome }\n  };\n\n  // console.log(message);\n  return (\n    <Content padded>\n      {/* <Header {...headerObject} /> */}\n      <Center>\n        <SubTitle title={pageSubTitle} direction={direction} />\n        {stepsComponent}\n      </Center>\n      <Paragraph direction={direction}>\n        {text[`new.steps.step.${step}`]}\n      </Paragraph>\n      <ContentBlock\n        stepOne={stepOne}\n        stepTwo={stepTwo}\n        stepThree={stepThree}\n        preview={preview}\n        loadingElement={loadingElement}\n        direction={direction}\n        message={message}\n      />\n      <ButtonsWrapper row direction={direction}>\n        {buttonPrimary}\n        <Button mode='secondary' disabled={step === 1} action={handleBackStep}>\n          {text[\"new.steps.button.back\"]}\n        </Button>\n      </ButtonsWrapper>\n    </Content>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    auth: state.auth,\n    language: state.language,\n    categories: state.categories,\n    locations: state.locations,\n    token: state.token,\n    submitResult: state.submitPost,\n    step: state.step,\n    prevModule: state.prevModule,\n    newPost: state.newPost,\n    loading: state.loading\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { setStep, setModule, createNews, typingPost }\n)(NewPost);\n","import React from \"react\";\n\nimport NewPost from \"../features/New\";\nimport NewPostMuni from \"../features/New/indexMuni\";\n\nimport Page from \"../layout/Page\";\n\nconst New = (props: { muni?: boolean }) => {\n  return <Page opposite>{props.muni ? <NewPostMuni /> : <NewPost />}</Page>;\n};\n\nexport default New;\n"],"sourceRoot":""}