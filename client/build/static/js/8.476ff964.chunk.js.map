{"version":3,"sources":["features/Card/styles/PinnedCard.module.scss","icons/Municipality.tsx","features/Card/PinnedCard.tsx","pages/Home.tsx"],"names":["module","exports","line","lineRTL","title","date","text","icon-template","icon","iconRTL","iconMunicipality","props","color","colorCode","Object","keys","colorsArray","includes","filled","react_default","a","createElement","width","height","viewBox","xmlns","fillRule","clipRule","strokeMiterlimit","d","fill","stroke","strokeWidth","strokeLinejoin","x","y","municipality","connect","state","language","direction","iconStyle","styleFactory","Card","id","post","_id","margin","action","className","style","Municipality","Block","Line","shortText","thin","dateBeautify","Paragraph","locationData","help","showHelp","_props$locationData","posts","pinned","_useState","useState","_useState2","slicedToArray","postsLcl","setPosts","_useState3","_useState4","pinnedLcl","_useState5","createdBy","_useState6","setPost","_useState7","_useState8","pinnedPost","viewPinnedPost","useEffect","toggleHelp","handleAction","actions","console","log","header","Header","returnTo","pinnedCard","main","PostList","newPost","edit","complain","ShowPost","Card_PinnedCard","muni","Page","Content","contentFactory"],"mappings":"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","file":"static/js/8.476ff964.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"line\":\"PinnedCard_line__CWah8\",\"lineRTL\":\"PinnedCard_lineRTL__1U8yv\",\"title\":\"PinnedCard_title__Zd35D\",\"date\":\"PinnedCard_date__p1PXH\",\"text\":\"PinnedCard_text__-1h-N\",\"icon-template\":\"PinnedCard_icon-template__iCaHr\",\"icon\":\"PinnedCard_icon__1ygcU\",\"iconRTL\":\"PinnedCard_iconRTL__HyXqG\"};","import React from \"react\";\n\nimport { colorsArray } from \"../style/_colors\";\n\nconst municipality = (color: string) => (\n  <svg\n    width='90%'\n    height='90%'\n    viewBox='0 0 379 418'\n    xmlns='http://www.w3.org/2000/svg'\n    fillRule='evenodd'\n    clipRule='evenodd'\n    strokeLinejoin='round'\n    strokeMiterlimit='1.414'>\n    <g fill={color}>\n      <rect x='157.057' y='150.972' width='13.088' height='12.241' />\n      <rect x='183.234' y='150.972' width='13.088' height='12.241' />\n      <rect x='209.41' y='150.972' width='13.088' height='12.241' />\n      <path\n        d='M352.561,379.469l0,-150.971l26.177,0l0,-38.355l-30.046,0l-153.188,-101.612l0,-29.774l52.352,0l0,-51.412l-52.352,0l0,-7.345l-12.27,0l0,88.531l-152.371,101.612l-30.863,0l0,38.355l26.176,0l0,150.971l-26.176,0l0,38.355l378.738,0l0,-38.355l-26.177,0Zm-12.27,0l-26.994,0l0,-150.971l26.994,0l0,150.971Zm-222.498,-150.971l0,137.098l12.27,0l0,-137.098l26.994,0l0,150.971l-79.346,0l0,-150.971l40.082,0Zm51.535,0l40.082,0l0,150.971l-40.082,0l0,-150.971Zm52.352,0l26.994,0l0,150.971l-26.994,0l0,-150.971Zm39.264,0l40.083,0l0,150.971l-40.083,0l0,-150.971Zm-25.358,-208.912l0,26.93l-40.082,0l0,-26.93l40.082,0Zm-45.808,79.577l136.794,90.98l-273.59,0l136.796,-90.98Zm-177.508,103.221l354.197,0l0,13.873l-354.197,0l0,-13.873Zm26.176,26.114l26.995,0l0,150.971l-26.995,0l0,-150.971Zm328.021,177.085l-354.197,0l0,-13.873l354.197,0l0,13.873Z'\n        fillRule='nonzero'\n      />\n    </g>\n  </svg>\n);\n\nconst municipalityFilled = (color: string) => (\n  <svg\n    width='90%'\n    height='90%'\n    viewBox='0 0 390 429'\n    xmlns='http://www.w3.org/2000/svg'\n    fillRule='evenodd'\n    clipRule='evenodd'\n    strokeMiterlimit='1.414'>\n    <path\n      d='M369.367,408.915l-349.467,0l0,-13.721l349.467,0l0,13.721Zm-25.826,-25.827l-26.634,0l0,-149.311l26.634,0l0,149.311Zm-180.787,0l-78.287,0l0,-149.311l39.547,0l0,135.59l12.106,0l0,-135.59l26.634,0l0,149.311Zm51.653,0l-39.547,0l0,-149.311l39.547,0l0,149.311Zm38.74,0l-26.633,0l0,-149.311l26.633,0l0,149.311Zm51.654,0l-39.547,0l0,-149.311l39.547,0l0,149.311Zm-232.44,0l-26.634,0l0,-149.311l26.634,0l0,149.311Zm297.006,-161.417l-349.467,0l0,-13.72l349.467,0l0,13.72Zm-39.362,-25.826l-269.936,0l134.968,-89.979l134.968,89.979Zm-154.337,-38.74l-12.914,0l0,12.106l12.914,0l0,-12.106Zm51.653,0l-12.914,0l0,12.106l12.914,0l0,-12.106Zm-25.827,0l-12.913,0l0,12.106l12.913,0l0,-12.106Zm38.74,-103.307l-39.547,0l0,-26.634l39.547,0l0,26.634Z'\n      fill={color}\n    />\n    <path\n      d='M355.647,383.088l0,-149.311l25.827,0l0,-37.932l-29.644,0l-151.143,-100.494l0,-29.447l51.653,0l0,-50.846l-51.653,0l0,-7.264l-12.106,0l0,87.557l-150.336,100.494l-30.451,0l0,37.932l25.827,0l0,149.311l-25.827,0l0,37.933l373.68,0l0,-37.933l-25.827,0Zm-115.413,-355.924l0,26.634l-39.547,0l0,-26.634l39.547,0Zm-220.334,180.787l349.467,0l0,13.72l-349.467,0l0,-13.72Zm349.467,200.964l-349.467,0l0,-13.721l349.467,0l0,13.721Z'\n      fill='none'\n      fillRule='nonzero'\n      stroke={color}\n      strokeWidth='9'\n    />\n  </svg>\n);\n\nconst iconMunicipality = (props: { filled?: boolean; color: string }) => {\n  const colorCode = Object.keys(colorsArray).includes(props.color)\n    ? colorsArray[props.color]\n    : \"white\";\n  return props.filled ? municipalityFilled(colorCode) : municipality(colorCode);\n};\n\nexport default iconMunicipality;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { AppState } from \"../../store\";\nimport { indexedObjAny, postMuni } from \"../../store/types\";\n\nimport dateBeautify from \"../../modules/date_beautify\";\nimport shortText from \"../../modules/short_text\";\nimport styleFactory from \"../../modules/style_factory\";\n\nimport Block from \"../../layout/Block\";\nimport Card from \"../../layout/Card\";\nimport Line from \"../../layout/Line\";\nimport Paragraph from \"../../layout/Paragraph\";\nimport IconMunicipality from \"../../icons/Municipality\";\n\nimport style from \"./styles/PinnedCard.module.scss\";\n\nconst PinnedCard = (props: {\n  post: postMuni;\n  language: indexedObjAny;\n  action: (arg0: postMuni) => void;\n}) => {\n  const handleClick = () => {\n    props.action(props.post);\n  };\n\n  const { direction } = props.language;\n  const iconStyle = styleFactory(\"icon\", direction);\n  return (\n    <Card\n      direction={direction}\n      id={props.post._id}\n      margin={25}\n      action={handleClick}>\n      <div className={style[iconStyle]}>\n        <IconMunicipality filled color='primary' />\n      </div>\n      <Block>\n        <Line direction={direction}>\n          <span className={style.title}>{shortText(props.post.title, 55)}</span>\n        </Line>\n        <Line thin direction={direction}>\n          <span className={style.date}>\n            {dateBeautify(props.post.date, direction)}\n          </span>\n        </Line>\n        <Paragraph direction={direction}>\n          {shortText(props.post.text, 95)}\n        </Paragraph>\n      </Block>\n    </Card>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    language: state.language\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  {}\n)(PinnedCard);\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { AppState } from \"../store\";\nimport { data, indexedObjAny } from \"../store/types\";\nimport { showHelp } from \"../store/app/actions\";\n\nimport PinnedCard from \"../features/Card/PinnedCard\";\n\nimport Header from \"../components/Header\";\nimport ShowPost from \"../components/ShowPost\";\nimport PostList from \"../components/PostList\";\n\nimport Page from \"../layout/Page\";\nimport Content from \"../layout/Content\";\n\nconst contentFactory = (props: {\n  header: React.ClassicElement<any>;\n  pinnedCard: React.ClassicElement<any> | null;\n  main: React.ClassicElement<any>;\n}) => (\n  <Page>\n    {props.header}{\" \"}\n    <Content>\n      {props.pinnedCard}\n      {props.main}\n    </Content>\n  </Page>\n);\n\nconst Home = (props: {\n  language: data;\n  locationData: indexedObjAny;\n  help: boolean;\n  showHelp: (arg0: boolean) => void;\n}) => {\n  const { posts, pinned } = props.locationData;\n  const [postsLcl, setPosts] = useState(posts ? posts : []);\n  const [pinnedLcl, setPinned] = useState(pinned ? pinned : {});\n  const [post, setPost] = useState({ _id: \"\", createdBy: \"\" });\n  const [pinnedPost, viewPinnedPost] = useState({ _id: \"\", createdBy: \"\" });\n\n  useEffect(() => {\n    if (posts) {\n      setPosts(posts);\n    }\n  }, [props.locationData, posts]);\n\n  const handleSetPost = (newPost: any) => {\n    if (post !== newPost) {\n      setPost(newPost);\n    }\n  };\n  const handleViewPinnedPost = (newPost: any) => {\n    if (pinnedPost !== newPost) {\n      viewPinnedPost(newPost);\n    }\n  };\n\n  const handleClearPost = () => {\n    setPost({ _id: \"\", createdBy: \"\" });\n  };\n\n  const toggleHelp = () => {\n    props.showHelp(!props.help);\n  };\n\n  const handleAction = (actions: { mode: string; details: string }) => {\n    console.log(actions);\n  };\n\n  let header = <Header help={toggleHelp} returnTo='home' />;\n  let pinnedCard = null;\n  let main = <PostList posts={postsLcl} action={handleSetPost} />;\n\n  if (post[\"_id\"] !== \"\") {\n    const author = post.createdBy === props.locationData._id;\n    header = author ? (\n      <Header help={toggleHelp} returnTo='home' edit action={handleAction} />\n    ) : (\n      <Header\n        help={toggleHelp}\n        returnTo='home'\n        complain\n        action={handleAction}\n      />\n    );\n    main = <ShowPost post={post} />;\n    pinnedCard = null;\n  } else if (pinnedLcl !== {}) {\n    pinnedCard = <PinnedCard post={pinnedLcl} action={handleViewPinnedPost} />;\n  }\n\n  if (pinnedPost._id !== \"\") {\n    main = <ShowPost muni post={pinnedPost} />;\n    pinnedCard = null;\n    header = <Header help={toggleHelp} returnTo='home' />;\n  }\n\n  return contentFactory({ header, pinnedCard, main });\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    language: state.language,\n    locationData: state.locationData,\n    help: state.help\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { showHelp }\n)(Home);\n"],"sourceRoot":""}