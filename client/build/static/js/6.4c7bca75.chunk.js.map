{"version":3,"sources":["layout/SubTitle.tsx","layout/style/SubTitle.module.scss","pages/Mine.tsx"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_style_SubTitle_module_scss__WEBPACK_IMPORTED_MODULE_1__","_style_SubTitle_module_scss__WEBPACK_IMPORTED_MODULE_1___default","SubTitle","props","a","createElement","className","direction","styles","titleR","title","module","exports","makePostsArray","posts","id","result","map","post","createdBy","push","connect","state","language","locationData","help","login","showHelp","_props$language","text","_id","payload","_props$locationData","_useState","pinned","useState","_useState2","Object","_Users_dmitry_Desktop_Projects_muni_app_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","postsLcl","setPosts","_useState3","_useState4","setPost","useEffect","toggleHelp","header","react__WEBPACK_IMPORTED_MODULE_1___default","_components_Header__WEBPACK_IMPORTED_MODULE_5__","returnTo","_features_Help__WEBPACK_IMPORTED_MODULE_4__","mode","cancel","subtitle","_layout_SubTitle__WEBPACK_IMPORTED_MODULE_9__","content","_components_PostList__WEBPACK_IMPORTED_MODULE_7__","action","newPost","_components_ShowPost__WEBPACK_IMPORTED_MODULE_6__","_layout_Page__WEBPACK_IMPORTED_MODULE_8__"],"mappings":"0FAAA,IAAAA,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAI,EAAAH,EAAA,KAAAI,EAAAJ,EAAAE,EAAAC,GAYeE,IARE,SAACC,GAChB,OACEL,EAAAM,EAAAC,cAAA,MAAIC,UAA+B,QAApBH,EAAMI,UAAsBC,IAAOC,OAASD,IAAOE,OAC/DP,EAAMO,6BCNbC,EAAAC,QAAA,CAAkBF,MAAA,wBAAAD,OAAA,iKCgBZI,EAAiB,SAACC,EAAoBC,GAC1C,IAAIC,EAAsB,GAI1B,OAHAF,EAAMG,IAAI,SAACC,GACLA,EAAKC,YAAcJ,GAAIC,EAAOI,KAAKF,KAElCF,GA2EMK,sBATS,SAACC,GACvB,MAAO,CACLC,SAAUD,EAAMC,SAChBC,aAAcF,EAAME,aACpBC,KAAMH,EAAMG,KACZC,MAAOJ,EAAMI,QAMf,CAAEC,cAFWN,CAxEF,SAAClB,GAMR,IAAAyB,EACwBzB,EAAMoB,SAA1BhB,EADJqB,EACIrB,UAAWsB,EADfD,EACeC,KACXC,EAAQ3B,EAAMuB,MAAMK,QAApBD,IAFJE,EAGsB7B,EAAMqB,aAAxBV,EAHJkB,EAGIlB,MAHJmB,GAAAD,EAGWE,OACcC,mBAC3BrB,EAAQD,EAAeC,EAAOgB,GAAO,KALnCM,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GAIGM,EAJHH,EAAA,GAIaI,EAJbJ,EAAA,GAAAK,EAOoBN,mBAAS,CAAEL,IAAK,KAPpCY,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAOGvB,EAPHwB,EAAA,GAOSC,EAPTD,EAAA,GASJE,oBAAU,WACJ9B,GACF0B,EAAS3B,EAAeC,EAAOgB,KAEhC,CAAC3B,EAAMqB,aAAcV,IAExB,IAUM+B,EAAa,WACjB1C,EAAMwB,UAAUxB,EAAMsB,OAGlBqB,EAASC,EAAA3C,EAAAC,cAAC2C,EAAA,EAAD,CAAQvB,KAAMoB,EAAYI,SAAS,SAC5CxB,EAAOtB,EAAMsB,KACjBsB,EAAA3C,EAAAC,cAAC6C,EAAA,EAAD,CACEC,KAAMjC,EAAI,IAAU,OAAS,OAC7BX,UAAWA,EACX6C,OAAQP,IAER,KACEQ,EACJN,EAAA3C,EAAAC,cAACiD,EAAA,EAAD,CAAU5C,MAAOmB,EAAK,iBAAkBtB,UAAWA,IAGjDgD,EAAUR,EAAA3C,EAAAC,cAACmD,EAAA,EAAD,CAAU1C,MAAOyB,EAAUkB,OA1BnB,SAACC,GACjBxC,IAASwC,GACXf,EAAQe,MA8BZ,OAJIxC,EAAI,MACNqC,EAAUR,EAAA3C,EAAAC,cAACsD,EAAA,EAAD,CAAUzC,KAAMA,KAI1B6B,EAAA3C,EAAAC,cAACuD,EAAA,EAAD,KACGd,EACArB,EACA4B,EACAE","file":"static/js/6.4c7bca75.chunk.js","sourcesContent":["import React from \"react\";\n\nimport styles from \"./style/SubTitle.module.scss\";\n\nconst SubTitle = (props: { title: string; direction: string }) => {\n  return (\n    <h2 className={props.direction === \"rtl\" ? styles.titleR : styles.title}>\n      {props.title}\n    </h2>\n  );\n};\n\nexport default SubTitle;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"SubTitle_title__2Xfou\",\"titleR\":\"SubTitle_titleR__3z-AB\"};","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { AppState } from \"../store\";\nimport { data, indexedObjAny, post } from \"../store/types\";\nimport { showHelp } from \"../store/app/actions\";\n\nimport Help from \"../features/Help\";\n\nimport Header from \"../components/Header\";\nimport ShowPost from \"../components/ShowPost\";\nimport PostList from \"../components/PostList\";\n\nimport Page from \"../layout/Page\";\nimport SubTitle from \"../layout/SubTitle\";\n\n\nconst makePostsArray = (posts: Array<post>, id: string) => {\n  let result: Array<post> = [];\n  posts.map((post: post) => {\n    if (post.createdBy === id) result.push(post);\n  });\n  return result;\n};\n\nconst Mine = (props: {\n  language: data;\n  locationData: indexedObjAny;\n  login: data;\n  help: boolean;\n  showHelp: (arg0: boolean) => void;\n}) => {\n  const { direction, text } = props.language;\n  const { _id } = props.login.payload;\n  const { posts, pinned } = props.locationData;\n  const [postsLcl, setPosts] = useState(\n    posts ? makePostsArray(posts, _id) : []\n  );\n  const [post, setPost] = useState({ _id: \"\" });\n\n  useEffect(() => {\n    if (posts) {\n      setPosts(makePostsArray(posts, _id));\n    }\n  }, [props.locationData, posts]);\n\n  const handleSetPost = (newPost: any) => {\n    if (post !== newPost) {\n      setPost(newPost);\n    }\n  };\n\n  const handleClearPost = () => {\n    setPost({ _id: \"\" });\n  };\n\n  const toggleHelp = () => {\n    props.showHelp(!props.help);\n  };\n\n  const header = <Header help={toggleHelp} returnTo='mine' />;\n  const help = props.help ? (\n    <Help\n      mode={post[\"_id\"] ? \"post\" : \"home\"}\n      direction={direction}\n      cancel={toggleHelp}\n    />\n  ) : null;\n  const subtitle = (\n    <SubTitle title={text[\"mine.subtitle\"]} direction={direction} />\n  );\n\n  let content = <PostList posts={postsLcl} action={handleSetPost} />;\n\n  if (post[\"_id\"]) {\n    content = <ShowPost post={post} />;\n  }\n\n  return (\n    <Page>\n      {header}\n      {help}\n      {subtitle}\n      {content}\n    </Page>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    language: state.language,\n    locationData: state.locationData,\n    help: state.help,\n    login: state.login\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { showHelp }\n)(Mine);\n"],"sourceRoot":""}