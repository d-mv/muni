(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{104:function(e,t,a){"use strict";a.d(t,"a",function(){return c}),a.d(t,"b",function(){return s});var n=a(0),l=a.n(n),o=a(99),i=a(16),r=a(21),c=function(e){var t="textarea"===e.type?l.a.createElement("textarea",{autoFocus:e.focus,name:e.name,value:e.value,onChange:function(t){return e.action(t)},placeholder:e.value?"":e.placeholder,minLength:e.length?e.length:0,rows:10,required:!0}):l.a.createElement("input",{autoFocus:e.focus,type:e.type,name:e.name,value:e.value,onChange:function(t){return e.action(t)},placeholder:e.value?"":e.placeholder,minLength:e.length?e.length:0,required:!0});return l.a.createElement("section",{className:"section"},l.a.createElement(o.a,{direction:e.direction||"ltr",value:e.label}),t)},s=function(e){return l.a.createElement("section",{className:Object(r.a)("section",e.direction),onChange:function(t){return e.action(t)}},l.a.createElement(o.a,{direction:e.direction||"ltr",value:e.label}),l.a.createElement("div",{className:"inline"},l.a.createElement("select",{autoFocus:e.focus},e.list.map(function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)})),i.e))}},105:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(112),i=a.n(o);t.a=function(){return l.a.createElement("div",{className:i.a.loading},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null))}},107:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(21);t.a=function(e){var t=e.column?"vertical":"horizontal",a=e.column?"vertical":Object(o.a)(t,e.direction);return l.a.createElement("section",{className:a},e.children)}},112:function(e,t,a){e.exports={loading:"Loading_loading__2BKoV","left-swing":"Loading_left-swing__hRiH5","right-swing":"Loading_right-swing__2CuJs"}},114:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(115),i=a.n(o);t.a=function(e){return l.a.createElement("h2",{className:"rtl"===e.direction?i.a.titleR:i.a.title},e.title)}},115:function(e,t,a){e.exports={title:"SubTitle_title__2Xfou",titleR:"SubTitle_titleR__3z-AB"}},131:function(e,t,a){e.exports={image:"PhotoUpload_image__2Zabf",imageDef:"PhotoUpload_imageDef__2JDPm",input:"PhotoUpload_input__1piRJ"}},132:function(e,t,a){e.exports={step:"Step_step__2Ob0-",filled:"Step_filled__1vPZN"}},133:function(e,t,a){e.exports={"line-template":"Steps_line-template__1pr6S",line:"Steps_line__3O_Uu",lineRTL:"Steps_lineRTL__3yzCh"}},134:function(e,t,a){e.exports={message:"Message_message__1Ow9o",messageRTL:"Message_messageRTL__3vHmD",messageForm:"Message_messageForm__2lKkb",messageFormRTL:"Message_messageFormRTL__34syT",attention:"Message_attention__3IUqP",cancel:"Message_cancel__2CF6p",primary:"Message_primary__1iLkV",secondary:"Message_secondary__1TENZ"}},135:function(e,t,a){e.exports={center:"Center_center__SOzh3",centerBlock:"Center_centerBlock__2xXiY"}},143:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(30),i=a(7),r=a(5),c=a.n(r),s=a(104),u=a(116),m=a(111),p=a.n(m),d=function(e){var t=e.post,a=t.title,n=t.category,o=t.problem,i=t.solution,r=t.photo,c=t.link,s=l.a.createElement("span",null);return l.a.createElement("div",{className:p.a.wrapper},l.a.createElement("div",{"data-testid":"post__preview",className:p.a.post},l.a.createElement(u.l,{category:n,title:a,numbersLine:s}),r?l.a.createElement(u.g,{src:r,edit:!1}):null,l.a.createElement(u.a,{primary:!0,text:c,direction:e.direction,edit:!1}),l.a.createElement("div",{className:p.a.text},l.a.createElement(u.k,{step:!0,title:e.text.problem,text:o,direction:e.direction}),l.a.createElement(u.k,{back:!0,title:e.text.solution,text:i,direction:e.direction}))))},g=a(22),f=a(31),b=a(9),_=a(74),v=a(105),E=a(106),h=a(76),w=a.n(h),k=a(131),y=a.n(k),O=function(e){var t=l.a.useState(),a=Object(o.a)(t,2),n=a[0],i=a[1],r=function(t){!function(e,t){var a=new FileReader;a.readAsDataURL(e),a.onloadend=function(){t(a.result)}}(t.target.files[0],function(t){var a=function(e){for(var t=e.split(";base64,"),a=t[0].split(":")[1],n=window.atob(t[1]),l=new Uint8Array(n.length),o=0;o<n.length;++o)l[o]=n.charCodeAt(o);return URL.createObjectURL(new Blob([l],{type:a}))}(t);i(a),e.action(t)})},c=n?l.a.createElement("img",{src:n,alt:"upload-image",className:y.a.image}):l.a.createElement("img",{src:"https://res.cloudinary.com/diciu4xpu/image/upload/v1560088174/dev/photo.svg",alt:"upload-image",className:y.a.imageDef});return l.a.createElement(E.a,{border:!0},c,l.a.createElement("input",{id:"file",type:"file",name:"file",className:y.a.input,onChange:function(e){return r(e)}}),l.a.createElement("label",{htmlFor:"file",className:w.a.primarySmall},e.label))},x=a(132),S=a.n(x),j=function(e){var t=e.current<e.step+1?S.a.step:S.a.filled;return l.a.createElement("div",{"data-testid":"step-icon",className:t,onClick:function(){return e.action(e.step)}},e.step)},N=a(133),R=a.n(N),L=a(21),F=function(e){var t=R.a[Object(L.a)("line",e.direction)];return l.a.createElement("section",{className:t},[1,2,3,4,5].map(function(t){return l.a.createElement(j,{key:t,step:t,current:e.current,action:e.action})}))},T=a(134),M=a.n(T),C=function(e){var t=M.a,a=e.use?e.use[0].toUpperCase()+e.use.slice(1):"",n=t[Object(L.a)("message".concat(a),e.direction)],o=t[e.mode];return l.a.createElement("div",{className:n},l.a.createElement("span",{className:o},e.children))},U=a(79),P=function(e){return l.a.createElement(U.a,{paddedFlat:!0},e.stepOne,e.stepTwo,e.stepThree,e.stepFour,e.stepFive,e.preview,l.a.createElement(C,{direction:e.direction,mode:"attention",use:"form"},e.message),e.loadingElement)},D=a(107),z=a(135),A=a.n(z),B=function(e){var t=A.a["center".concat(e.block?"Block":"")];return l.a.createElement("div",{className:t},e.children)},J=a(99),Z=a(101),q=a(92),H=a(114),K=a(33),V=a(93),X=function(e){return console.log("catdescripton"),console.log(e.direction),console.log(e.category),console.log(e.categories),l.a.createElement(V.a,{direction:e.direction},l.a.createElement("p",{className:"textStandard"},function(e,t){var a="";return t.map(function(t){t._id===e&&(a=t.description)}),a}(e.category,e.categories)))},I=a(85),Y=Object(i.b)(function(e){return{language:e.language,location:e.locationData,token:e.token,submitResult:e.submitPost,step:e.step,prevModule:e.prevModule}},{setStep:g.c,submitPost:f.b,setModule:b.i})(function(e){var t=e.language,a=t.direction,n=t.text,i=e.location,r=i.categories,u=i._id,m=i.location,p=l.a.useState(e.step),g=Object(o.a)(p,2),f=g[0],b=g[1],E=l.a.useState(!1),h=Object(o.a)(E,2),w=h[0],k=h[1],y=l.a.useState(!1),x=Object(o.a)(y,2),S=x[0],j=x[1],N=l.a.useState(""),R=Object(o.a)(N,2),L=R[0],T=R[1],M=l.a.useState(r[0]._id),C=Object(o.a)(M,2),z=C[0],A=C[1],V=l.a.useState(""),Y=Object(o.a)(V,2),G=Y[0],Q=Y[1],W=l.a.useState(""),$=Object(o.a)(W,2),ee=$[0],te=$[1],ae=l.a.useState(""),ne=Object(o.a)(ae,2),le=ne[0],oe=ne[1],ie=l.a.useState(""),re=Object(o.a)(ie,2),ce=re[0],se=re[1],ue=l.a.useState(""),me=Object(o.a)(ue,2),pe=me[0],de=me[1];l.a.useEffect(function(){6===f&&!1===w&&k(!0)},[f]);console.log(f);var ge=function(e){switch(de(""),e.target.name){case"title":T(e.target.value);break;case"problem":Q(e.target.value);break;case"solution":te(e.target.value);break;case"link":se(e.target.value)}},fe=n["new.steps.title"],be=l.a.createElement(F,{current:f,direction:a,action:function(e){w&&b(e)}}),_e=l.a.createElement(_.a,{mode:"primary",action:function(){if(f+1<=6){var e=!0,t=n["new.message.fieldEmpty"];switch(f){case 1:e=""!==L;break;case 2:e=""!==z;break;case 3:e=""!==G;break;case 4:e=""!==ee;break;case 5:ce&&((e=new RegExp("^([0-9A-Za-z-\\.@:%_+~#=]+)+((\\.[a-zA-Z]{2,3})+)(/(.)*)?(\\?(.)*)?").test(ce))||(t=n["new.message.urlMalformed"]))}e?(de(""),b(f+1)):de(t)}}},n["new.steps.button.next"]);6===f&&(be=l.a.createElement(K.c,null),fe=n["new.preview"],_e=l.a.createElement(_.a,{mode:"primary",action:function(){var t={user:u,location:m,token:e.token,post:{title:L,category:z,problem:G,solution:ee,photo:le,link:ce}};c.a.post("/post/create",t).then(function(t){j(!1),de(t.data.message),t.status&&e.setModule("home")}).catch(function(e){e.response?e.response.data:e.toString()}),j(!0),e.setStep(6),e.submitPost(t)}},n["new.steps.button.submit"]));var ve=1===f?Object(s.a)({label:n["new.field.title.label"],type:"text",name:"title",value:L,placeholder:n["new.field.title.prompt"],action:ge,length:2,focus:!0}):null,Ee=2===f?l.a.createElement("div",{className:"none"},Object(s.b)({list:function(){var t=[];return r.map(function(a){var n=Object.keys(a).includes(e.language.short)?e.language.short:"\u05e2\u05d1";t.push({value:a._id,label:a[n]})}),t}(),direction:a,label:n["new.field.category.label"],action:function(e){A(e.target.value)},focus:!0}),l.a.createElement(X,{direction:a,category:z,categories:r})):null,he=3===f?Object(s.a)({label:n["new.field.problem.label"],type:"textarea",name:"problem",value:G,placeholder:n["new.field.problem.prompt"],action:ge,length:50,focus:!0}):null,we=4===f?Object(s.a)({label:n["new.field.solution.label"],type:"textarea",name:"solution",value:ee,placeholder:n["new.field.solution.prompt"],action:ge,length:50,focus:!0}):null,ke=5===f?l.a.createElement(Z.a,null,l.a.createElement(J.a,{direction:a,value:n["new.field.photo.label"]}),l.a.createElement(O,{label:n["new.field.photo.prompt"],direction:a,action:function(e){oe(e)}}),Object(s.a)({label:n["new.field.link.label"],type:"url",name:"link",value:ce,placeholder:n["new.field.link.prompt"],action:ge,length:5})):null,ye=Object(I.a)(r,e.language.short,z),Oe={title:L,category:ye,problem:G,solution:ee,photo:le,link:ce},xe=6===f?l.a.createElement(d,{post:Oe,direction:a,text:{problem:n["post.problem"],solution:n["post.solution"]}}):null,Se=S?l.a.createElement(v.a,null):null;l.a.createElement("div",null,"back");return l.a.createElement(U.a,{padded:!0},l.a.createElement(B,null,l.a.createElement(H.a,{title:fe,direction:a}),be),l.a.createElement(q.a,{direction:a},n["new.steps.step.1"]),l.a.createElement(P,{stepOne:ve,stepTwo:Ee,stepThree:he,stepFour:we,stepFive:ke,preview:xe,loadingElement:Se,direction:a,message:pe}),l.a.createElement(D.a,{row:!0,direction:a},_e,l.a.createElement(_.a,{mode:"secondary",disabled:1===f,action:function(){f-1>0&&b(f-1)}},n["new.steps.button.back"])))}),G=a(32);t.default=function(){return l.a.createElement(G.a,{opposite:!0},l.a.createElement(Y,null))}}}]);
//# sourceMappingURL=9.ede06f07.chunk.js.map