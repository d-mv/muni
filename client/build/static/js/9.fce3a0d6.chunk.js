(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{129:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(135),i=a.n(o);t.a=function(e){return l.a.createElement("h2",{className:"rtl"===e.direction?i.a.titleR:i.a.title},e.title)}},135:function(e,t,a){e.exports={title:"SubTitle_title__2Xfou",titleR:"SubTitle_titleR__3z-AB"}},155:function(e,t,a){e.exports={container:"PhotoUpload_container__3-TSE","image-template":"PhotoUpload_image-template__1t75u",image:"PhotoUpload_image__1sY1D",imageDef:"PhotoUpload_imageDef__3T8x_",input:"PhotoUpload_input__3S7tz"}},156:function(e,t,a){e.exports={step:"Step_step__3iB9b",filled:"Step_filled__1wVIt"}},157:function(e,t,a){e.exports={"line-template":"Steps_line-template__2LYuQ",line:"Steps_line__2uDDB",lineRTL:"Steps_lineRTL__3xZak"}},158:function(e,t,a){e.exports={message:"Message_message__wCUkq",messageRTL:"Message_messageRTL__pxl-h",messageForm:"Message_messageForm__3meN4",messageFormRTL:"Message_messageFormRTL__17eOj",attention:"Message_attention__384Il",cancel:"Message_cancel__3bI_Z",primary:"Message_primary__eLBOT",secondary:"Message_secondary__8AWKh"}},159:function(e,t,a){e.exports={center:"Center_center__SOzh3",centerBlock:"Center_centerBlock__2xXiY"}},171:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(28),i=a(22),c=a(8),r=a(35),s=a(130),u=a(125),p=a(134),m=a.n(p),d=function(e){return l.a.createElement("div",{className:m.a.wrapper},l.a.createElement("div",{"data-testid":"post__preview",className:m.a.post},l.a.createElement(s.k,{title:e.post.title,category:e.post.category}),e.post.photo?l.a.createElement(s.h,{src:e.post.photo,edit:!1}):null,l.a.createElement(s.b,{primary:!0,text:e.post.link,direction:e.direction,edit:!1}),l.a.createElement("div",{className:m.a.text},l.a.createElement(u.a,{step:!0,title:e.text.problem,text:e.post.problem,direction:e.direction}),e.muni||!e.post.solution?null:l.a.createElement(u.a,{back:!0,title:e.text.solution,text:e.post.solution||"",direction:e.direction}))))},b=a(19),f=a(14),g=a(6),_=a(33),E=a(44),w=a(138),v=a(26),h=a.n(v),y=a(155),k=a.n(y),x=function(e){var t=l.a.useState(e.photo?e.photo:null),a=Object(i.a)(t,2),n=a[0],o=a[1],c=n?l.a.createElement("img",{src:n,alt:"upload-image",className:k.a.image}):l.a.createElement("img",{src:"https://res.cloudinary.com/diciu4xpu/image/upload/v1560088174/dev/photo.svg",alt:"upload-image",className:k.a.imageDef});return l.a.createElement("div",{className:k.a.container},c,l.a.createElement("input",{id:"file",type:"file",name:"file",className:k.a.input,onChange:function(t){return a=t,void Object(w.b)(a.target.files[0],function(t){var a=Object(w.a)(t);o(a),e.action(t)});var a}}),l.a.createElement("label",{htmlFor:"file",className:h.a.primarySmall},e.label))},O=a(156),j=a.n(O),P=function(e){var t=e.current<e.step+1?j.a.step:j.a.filled;return l.a.createElement("div",{"data-testid":"step-icon",className:t,onClick:function(){return e.action(e.step)}},e.step)},S=a(157),N=a.n(S),T=a(13),M=function(e){var t=N.a[Object(T.a)("line",e.direction)],a=e.muni?[1,2,3]:[1,2,3,4,5];return l.a.createElement("section",{className:t},a.map(function(t){return l.a.createElement(P,{key:t,step:t,current:e.current,action:e.action})}))},R=a(158),F=a.n(R),L=function(e){var t=F.a,a=e.use?e.use[0].toUpperCase()+e.use.slice(1):"",n=t[Object(T.a)("message".concat(a),e.direction)],o=t[e.mode];return l.a.createElement("div",{className:n},l.a.createElement("span",{className:o},e.children))},B=a(102),U=function(e){return l.a.createElement(B.a,{paddedFlat:!0},e.stepOne,e.stepTwo,e.stepThree,e.stepFour,e.stepFive,e.preview,l.a.createElement(L,{direction:e.direction,mode:"attention",use:"form"},e.message),e.loadingElement)},C=a(45),D=a(159),z=a.n(D),I=function(e){var t=z.a["center".concat(e.block?"Block":"")];return l.a.createElement("div",{className:t},e.children)},Y=a(34),A=a(118),J=a(116),X=a(129),Z=a(43),q=a(119),K=function(e){return l.a.createElement(q.a,{direction:e.direction},l.a.createElement("p",{className:"textStandard"},function(e,t){var a="";return t.map(function(t){t.value===e&&(a=t.desc)}),a}(e.category,e.categories)))},Q=a(108),V=Object(c.b)(function(e){return{auth:e.auth,language:e.language,categories:e.categories,locations:e.locations,token:e.token,submitResult:e.submitPost,step:e.step,prevModule:e.prevModule,newPost:e.newPost,loading:e.loading}},{setStep:b.c,setModule:g.setModule,typingPost:f.i,setLoading:g.setLoading,createPost:f.b})(function(e){var t=e.language,a=e.categories,c=e.newPost,s=e.typingPost,u=e.step,p=e.setStep,m=t.direction,b=t.text,f=t.short,g=l.a.useState(!1),w=Object(i.a)(g,2),v=w[0],h=w[1],y=c.title,k=c.category,O=c.problem,j=c.solution,P=c.photo,S=c.link,N=l.a.useState(""),T=Object(i.a)(N,2),R=T[0],F=T[1];Object(n.useEffect)(function(){6===u&&!1===v&&h(!0)},[u]),Object(n.useEffect)(function(){s({category:a[0]._id})},[]);var L=function(e){var t=e.target,a=t.name,n=t.value;F(""),s(Object(o.a)({},a,n))},D=b["new.steps.title"],z=l.a.createElement(M,{current:u,direction:m,action:function(e){v&&p(e)}}),q=l.a.createElement(_.a,{mode:"primary",action:function(){var e="";if(u+1<=6){var t=b["new.message.fieldEmpty"];switch(u){case 1:e=y;break;case 2:e=k;break;case 3:e=O;break;case 4:case 5:e="_"}e?(F(""),p(u+1)):F(t)}}},b["new.steps.button.next"]);6===u&&(z=l.a.createElement(Z.c,null),D=b["new.preview"],q=l.a.createElement(_.a,{mode:"primary",action:function(){e.createPost(c)}},b["new.steps.button.submit"]));var V=1===u?Object(r.a)({label:b["new.field.title.label"],type:"text",name:"title",value:y,placeholder:b["new.field.title.prompt"],action:L,length:2,focus:!0}):null,W=function(){var e=[];return Object.values(a).map(function(t){e.push({value:t._id,label:t.name[f],desc:t.description[f]})}),e}(),G=2===u?l.a.createElement("div",{className:"none"},Object(r.b)({list:W,direction:m,label:b["new.field.category.label"],action:function(e){s({category:e.target.value})},focus:!0,value:k}),l.a.createElement(K,{direction:m,category:k,categories:W})):null,H=3===u?Object(r.a)({label:b["new.field.problem.label"],type:"textarea",name:"problem",value:O,placeholder:b["new.field.problem.prompt"],action:L,length:50,focus:!1}):null,$=4===u?Object(r.a)({label:b["new.field.solution.label"],type:"textarea",name:"solution",value:j,placeholder:b["new.field.solution.prompt"],action:L,length:50,focus:!1}):null,ee=5===u?l.a.createElement(A.a,null,l.a.createElement(Y.a,{direction:m,value:b["new.field.photo.label"]}),l.a.createElement(x,{label:b["new.field.photo.prompt"],direction:m,action:function(e){s({photo:e})},photo:P}),Object(r.a)({label:b["new.field.link.label"],type:"url",name:"link",value:S,placeholder:b["new.field.link.prompt"],action:L,length:5})):null,te=Object(Q.a)(a,e.language.short,k),ae={title:y,category:te,problem:O,solution:j,photo:P,link:S},ne=6===u?l.a.createElement(d,{post:ae,direction:m,text:{problem:b["post.problem"],solution:b["post.solution"]}}):null,le=e.loading?l.a.createElement(E.a,null):null;l.a.createElement("div",null,"back");return l.a.createElement(B.a,{padded:!0},l.a.createElement(I,null,l.a.createElement(X.a,{title:D,direction:m}),z),l.a.createElement(J.a,{direction:m},b["new.steps.step.".concat(u)]),l.a.createElement(U,{stepOne:V,stepTwo:G,stepThree:H,stepFour:$,stepFive:ee,preview:ne,loadingElement:le,direction:m,message:R}),l.a.createElement(C.a,{row:!0,direction:m},l.a.createElement(_.a,{mode:"secondary",disabled:1===u,action:function(){u-1>0&&p(u-1)}},b["new.steps.button.back"]),q))}),W=Object(c.b)(function(e){return{auth:e.auth,language:e.language,categories:e.categories,locations:e.locations,token:e.token,submitResult:e.submitPost,step:e.step,prevModule:e.prevModule,newPost:e.newPost,loading:e.loading}},{setStep:b.c,setModule:g.setModule,createNews:f.a,typingPost:f.i})(function(e){var t=e.language,a=e.newPost,c=e.typingPost,s=e.loading,u=e.step,p=e.setStep,m=t.direction,b=t.text,f=(t.short,l.a.useState(!1)),g=Object(i.a)(f,2),w=g[0],v=g[1],h=a.title,y=a.photo,k=a.link,O=l.a.useState(""),j=Object(i.a)(O,2),P=j[0],S=j[1];Object(n.useEffect)(function(){6===u&&!1===w&&v(!0)},[u]);var N=function(e){var t=e.target,a=t.name,n=t.value;S(""),c(Object(o.a)({},a,n))},T=b["new.steps.title"],R=l.a.createElement(M,{muni:!0,current:u,direction:m,action:function(e){w&&p(e)}}),F=l.a.createElement(_.a,{mode:"primary",action:function(){var t="";if(u+1<=4){var a=b["new.message.fieldEmpty"];switch(u){case 1:t=h;break;case 2:t=e.newPost.text;break;case 3:t="_"}t?(S(""),p(u+1)):S(a)}}},b["new.steps.button.next"]);4===u&&(R=l.a.createElement(Z.c,null),T=b["new.preview"],F=l.a.createElement(_.a,{mode:"primary",action:function(){e.createNews(a)}},b["new.steps.button.submit"]));var L=1===u?Object(r.a)({label:b["new.field.title.label"],type:"text",name:"title",value:h,placeholder:b["new.field.title.prompt"],action:N,length:2,focus:!0}):null,D=2===u?Object(r.a)({label:b["new.field.problem.label"],type:"textarea",name:"text",value:e.newPost.text,placeholder:b["new.field.problem.prompt"],action:N,length:50,focus:!1}):null,z=3===u?l.a.createElement(A.a,null,l.a.createElement(Y.a,{direction:m,value:b["new.field.photo.label"]}),l.a.createElement(x,{label:b["new.field.photo.prompt"],direction:m,action:function(e){c({photo:e})},photo:y}),Object(r.a)({label:b["new.field.link.label"],type:"url",name:"link",value:k,placeholder:b["new.field.link.prompt"],action:N,length:5})):null,q={title:h,problem:e.newPost.text,photo:y,link:k},K=4===u?l.a.createElement(d,{muni:!0,post:q,direction:m,text:{problem:b["post.problem"],solution:b["post.solution"]}}):null,Q=s?l.a.createElement(E.a,null):null;l.a.createElement("div",null,"back");return l.a.createElement(B.a,{padded:!0},l.a.createElement(I,null,l.a.createElement(X.a,{title:T,direction:m}),R),l.a.createElement(J.a,{direction:m},b["new.steps.step.".concat(u)]),l.a.createElement(U,{stepOne:L,stepTwo:D,stepThree:z,preview:K,loadingElement:Q,direction:m,message:P}),l.a.createElement(C.a,{row:!0,direction:m},F,l.a.createElement(_.a,{mode:"secondary",disabled:1===u,action:function(){u-1>0&&p(u-1)}},b["new.steps.button.back"])))}),G=a(42);t.default=function(e){return l.a.createElement(G.a,{opposite:!0},e.muni?l.a.createElement(W,null):l.a.createElement(V,null))}}}]);
//# sourceMappingURL=9.fce3a0d6.chunk.js.map