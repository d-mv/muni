{"version":3,"sources":["layout/SubTitle.tsx","layout/style/SubTitle.module.scss","features/New/components/styles/PhotoUpload.module.scss","features/New/components/styles/Step.module.scss","features/New/components/styles/Steps.module.scss","components/style/Message.module.scss","layout/style/Center.module.scss","features/New/components/Preview.tsx","features/New/components/PhotoUpload.tsx","features/New/components/Step.tsx","features/New/components/Steps.tsx","components/Message.tsx","features/New/components/ContentBlock.tsx","layout/Center.tsx","features/New/components/CatDescription.tsx","features/New/index.tsx","features/New/indexMuni.tsx","pages/New.tsx"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_style_SubTitle_module_scss__WEBPACK_IMPORTED_MODULE_1__","_style_SubTitle_module_scss__WEBPACK_IMPORTED_MODULE_1___default","SubTitle","props","a","createElement","className","direction","styles","titleR","title","module","exports","container","image","imageDef","input","step","filled","line-template","line","lineRTL","message","messageRTL","messageForm","messageFormRTL","attention","cancel","primary","secondary","center","centerBlock","Preview","_props$post","post","problem","category","solution","photo","link","react_default","style","wrapper","data-testid","components","muni","src","edit","text","Text","back","PhotoUpload","_React$useState","React","useState","_React$useState2","Object","slicedToArray","setPhoto","showPhoto","alt","id","type","name","onChange","e","event","imageEncoder","target","files","image64","imageDecoder","action","htmlFor","button","primarySmall","label","Step","iconStyle","current","onClick","Steps","stepsStyle","styleFactory","stepsArray","map","components_Step","key","Message","use","toUpperCase","slice","messageStyle","concat","messageMode","mode","children","ContentBlock","Content","paddedFlat","stepOne","stepTwo","stepThree","stepFour","stepFive","preview","components_Message","loadingElement","Center","centerStyle","block","CatDescription","Line","_id","categories","result","cat","description","getCategoryDescription","connect","state","language","location","locationData","token","submitResult","submitPost","prevModule","setStep","setModule","_props$language","_props$location","_React$useState3","_React$useState4","review","setReview","_React$useState5","_React$useState6","loading","setLoading","_React$useState7","_React$useState8","setTitle","_React$useState9","_React$useState10","setCategory","_React$useState11","_React$useState12","setProblem","_React$useState13","_React$useState14","setSolution","_React$useState15","_React$useState16","_React$useState17","_React$useState18","setLink","_React$useState19","_React$useState20","setMessage","useEffect","handleInputChange","value","pageSubTitle","stepsComponent","components_Steps","newStep","buttonPrimary","Button","check","response","RegExp","test","Utils","objectToSubmit","user","axios","then","data","status","catch","error","toString","formSection","placeholder","length","focus","formSelection","list","keys","includes","short","push","getCategories","components_CatDescription","Section","Label","components_PhotoUpload","categoryName","categoryIdToName","Preview_Preview","Loading","console","log","padded","layout_Center","Paragraph","components_ContentBlock","ButtonsWrapper","row","disabled","New","Page","opposite","indexMuni","features_New"],"mappings":"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","file":"static/js/6.dfa6d059.chunk.js","sourcesContent":["import React from \"react\";\n\nimport styles from \"./style/SubTitle.module.scss\";\n\nconst SubTitle = (props: { title: string; direction: string }) => {\n  return (\n    <h2 className={props.direction === \"rtl\" ? styles.titleR : styles.title}>\n      {props.title}\n    </h2>\n  );\n};\n\nexport default SubTitle;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"SubTitle_title__2Xfou\",\"titleR\":\"SubTitle_titleR__3z-AB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PhotoUpload_container__1-JOj\",\"image\":\"PhotoUpload_image__2Zabf\",\"imageDef\":\"PhotoUpload_imageDef__2JDPm\",\"input\":\"PhotoUpload_input__1piRJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"step\":\"Step_step__2Ob0-\",\"filled\":\"Step_filled__1vPZN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"line-template\":\"Steps_line-template__1pr6S\",\"line\":\"Steps_line__3O_Uu\",\"lineRTL\":\"Steps_lineRTL__3yzCh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__wCUkq\",\"messageRTL\":\"Message_messageRTL__pxl-h\",\"messageForm\":\"Message_messageForm__3meN4\",\"messageFormRTL\":\"Message_messageFormRTL__17eOj\",\"attention\":\"Message_attention__384Il\",\"cancel\":\"Message_cancel__3bI_Z\",\"primary\":\"Message_primary__eLBOT\",\"secondary\":\"Message_secondary__8AWKh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"center\":\"Center_center__SOzh3\",\"centerBlock\":\"Center_centerBlock__2xXiY\"};","import React from \"react\";\nimport { TopBlock, Photo, Link } from \"../../Post/components\";\nimport Text from '../../Post/components/Text'\nimport style from \"../../Post/style/Post.module.scss\";\n\nexport const Preview = (props: {\n  post: {\n    title: string;\n    category?: string;\n    problem: string;\n    solution?: string;\n    photo: string;\n    link: string;\n  };\n  direction: string;\n  text: { problem: string; solution: string };\n  muni?: boolean;\n}) => {\n  const { title, category, problem, solution, photo, link } = props.post;\n  const numbersLine = <span />;\n  return (\n    <div className={style.wrapper}>\n      <div data-testid='post__preview' className={style.post}>\n        <TopBlock muni title={title} />\n        {photo ? <Photo src={photo} edit={false} /> : null}\n        <Link primary text={link} direction={props.direction} edit={false} />\n        <div className={style.text}>\n          <Text\n            step\n            title={props.text.problem}\n            text={problem}\n            direction={props.direction}\n          />\n          {props.muni ? (\n            <Text\n              back\n              title={props.text.solution}\n              text={solution||''}\n              direction={props.direction}\n            />\n          ) : null}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { imageDecoder, imageEncoder } from \"../../../modules/image_coder\";\n\nimport button from \"../../../components/style/Button.module.scss\";\nimport style from \"./styles/PhotoUpload.module.scss\";\n\nconst PhotoUpload = (props: {\n  label: string;\n  direction: string;\n  action: (arg0: any) => void;\n  photo?: string;\n}) => {\n  const defaultPhoto =\n    \"https://res.cloudinary.com/diciu4xpu/image/upload/v1560088174/dev/photo.svg\";\n  const [photo, setPhoto] = React.useState(props.photo ? props.photo : null);\n\n  /**\n   * Function to convert file to base64, send it to props,set local URL as preview\n   * @params {Array} files - File selected by client\n   */\n  const getBaseFile = (event: any) => {\n    imageEncoder(event.target.files[0], (image64: any) => {\n      const image = imageDecoder(image64);\n      setPhoto(image);\n      props.action(image64);\n    });\n  };\n\n  const showPhoto = photo ? (\n    <img src={photo} alt='upload-image' className={style.image} />\n  ) : (\n    <img src={defaultPhoto} alt='upload-image' className={style.imageDef} />\n  );\n\n  return (\n    <div className={style.container}>\n      {showPhoto}\n      <input\n        id='file'\n        type='file'\n        name='file'\n        className={style.input}\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) => getBaseFile(e)}\n      />\n      <label htmlFor='file' className={button.primarySmall}>\n        {props.label}\n      </label>\n    </div>\n  );\n};\n\nexport default PhotoUpload;\n","import React from \"react\";\n\nimport style from \"./styles/Step.module.scss\";\n\nconst Step = (props: {\n  step: number;\n  current: number;\n  action: (arg0: number) => void;\n}) => {\n  const iconStyle = props.current < props.step + 1 ? style.step : style.filled;\n  return (\n    <div\n      data-testid='step-icon'\n      className={iconStyle}\n      onClick={() => props.action(props.step)}>\n      {props.step}\n    </div>\n  );\n};\n\nexport default Step;\n","import React from \"react\";\n\nimport Step from \"./Step\";\n\nimport style from \"./styles/Steps.module.scss\";\nimport styleFactory from \"../../../modules/style_factory\";\n\n/**\n * Function to create React.FunctionalComponent with set of step icons, clickable\n * @param {Object} props\n * @returns {React.FC}\n */\nconst Steps = (props: {\n  current: number;\n  direction: string;\n  action: (arg0: number) => void;\n  muni?: boolean\n}) => {\n  const stepsStyle = style[styleFactory(\"line\", props.direction)];\n  const stepsArray = props.muni ? [1, 2, 3] : [1,2,3,4,5]\n  return (\n    <section className={stepsStyle}>\n      {stepsArray.map((step: number) => {\n        return (\n          <Step\n            key={step}\n            step={step}\n            current={props.current}\n            action={props.action}\n          />\n        );\n      })}\n    </section>\n  );\n};\n\nexport default Steps;\n","import React from \"react\";\n\nimport styleFactory from \"../modules/style_factory\";\n\nimport style from \"./style/Message.module.scss\";\n\n/**\n * React JSX component to wrap message\n * @param {object} props - Children to display, mode/color\n * @returns {JSX.Element}\n */\nconst Message = (props: { children: any; direction: string; mode: string;use?:string }) => {\n  const styles: any = style;\n  const use = props.use ? props.use[0].toUpperCase() + props.use.slice(1) : ''\n  const messageStyle = styles[styleFactory(`message${use}`, props.direction)];\n  const messageMode = styles[props.mode];\n  return (\n    <div className={messageStyle}>\n      <span className={messageMode}>{props.children}</span>\n    </div>\n  );\n};\n\nexport default Message;\n","import React from \"react\";\n\nimport Message from \"../../../components/Message\";\n\nimport Content from \"../../../layout/Content\";\n\nconst ContentBlock = (props: {\n  stepOne: React.ClassicElement<any> | null;\n  stepTwo: React.ClassicElement<any> | null;\n  stepThree: React.ClassicElement<any> | null;\n  stepFour?: React.ClassicElement<any> | null;\n  stepFive?: React.ClassicElement<any> | null;\n  preview: React.ClassicElement<any> | null;\n  loadingElement: React.ClassicElement<any> | null;\n  message: string;\n\n  direction: string;\n}) => (\n  <Content paddedFlat>\n    {props.stepOne}\n    {props.stepTwo}\n    {props.stepThree}\n    {props.stepFour}\n    {props.stepFive}\n    {props.preview}\n    <Message direction={props.direction} mode='attention' use='form'>\n      {props.message}\n    </Message>\n    {props.loadingElement}\n  </Content>\n);\n\nexport default ContentBlock;\n","import React from \"react\";\n\nimport styles from \"./style/Center.module.scss\";\n\n/**\n * React JSX component to center content of the line\n *\n * @param {object} props - Children to display, boolean to show as block\n *\n * @returns {JSX.Element}\n *\n */\nconst Center = (props: { children: any; block?: boolean }) => {\n\n  const centerStyle = styles[`center${props.block ? \"Block\" : \"\"}`];\n  return <div className={centerStyle}>{props.children}</div>;\n};\n\nexport default Center;\n","import React from \"react\";\nimport { data } from \"../../../store/types\";\nimport Line from \"../../../layout/Line\";\n\nconst getCategoryDescription = (_id: string, categories: data) => {\n  let result = \"\";\n  categories.map((cat: data) => {\n    if (cat._id === _id) result = cat.description;\n  });\n\n  return result;\n};\n\nconst CatDescription = (props: {\n  direction: string;\n  category: string;\n  categories: data;\n}) => {\n  return (\n    <Line direction={props.direction}>\n      <p className='textStandard'>\n        {getCategoryDescription(props.category, props.categories)}\n      </p>\n    </Line>\n  );\n};\n\nexport default CatDescription;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\n\nimport { formSection, formSelection } from \"../../components/formSection\";\nimport { Preview } from \"./components\";\nimport { AppState } from \"../../store\";\nimport { setStep } from \"../../store/app/actions\";\nimport { submitPost } from \"../../store/post/actions\";\nimport { setModule } from \"../../store/users/actions\";\nimport { indexedObjAny, data } from \"../../store/types\";\n\nimport Button from \"../../components/Button\";\nimport Loading from \"../../components/Loading\";\nimport PhotoUpload from \"./components/PhotoUpload\";\nimport Steps from \"./components/Steps\";\nimport ContentBlock from \"./components/ContentBlock\";\n\nimport ButtonsWrapper from \"../../layout/ButtonsWrapper\";\nimport Center from \"../../layout/Center\";\nimport Content from \"../../layout/Content\";\nimport Label from \"../../layout/Label\";\nimport Section from \"../../layout/Section\";\nimport Paragraph from \"../../layout/Paragraph\";\nimport SubTitle from \"../../layout/SubTitle\";\nimport { Zero } from \"../../layout/Utils\";\nimport CatDescription from \"./components/CatDescription\";\nimport Header from \"../../components/Header\";\nimport { categoryIdToName } from \"../../modules/category_processor\";\n\nconst NewPost = (props: {\n  language: data;\n  location: data;\n  token: string;\n  step: number;\n  submitResult: data;\n  setStep: (arg0: number) => void;\n  submitPost: (arg0: indexedObjAny) => void;\n  setModule: (arg0: string) => void;\n  prevModule: string;\n}) => {\n  const { direction, text } = props.language;\n  const { categories, _id, location } = props.location;\n  const [step, setStep] = React.useState(props.step);\n  const [review, setReview] = React.useState(false);\n  const [loading, setLoading] = React.useState(false);\n  // form fields\n  const [title, setTitle] = React.useState(\"\");\n  const [category, setCategory] = React.useState(categories[0]._id);\n  const [problem, setProblem] = React.useState(\"\");\n  const [solution, setSolution] = React.useState(\"\");\n  const [photo, setPhoto] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n  // message\n  const [message, setMessage] = React.useState(\"\");\n\n  React.useEffect(() => {\n    if (step === 6 && review === false) {\n      setReview(true);\n    }\n  }, [step]);\n\n  const getCategories = () => {\n    let result: { value: string; label: string }[] = [];\n    categories.map((cat: any) => {\n      const language = !Object.keys(cat).includes(props.language.short)\n        ? \"עב\"\n        : props.language.short;\n      result.push({ value: cat._id, label: cat[language] });\n    });\n    return result;\n  };\n\n  const handleNextStep = () => {\n    if (step + 1 <= 6) {\n      let check: boolean = true;\n      let response: string = text[\"new.message.fieldEmpty\"];\n      switch (step) {\n        case 1:\n          check = title !== \"\";\n          break;\n        case 2:\n          check = category !== \"\";\n          break;\n        case 3:\n          check = problem !== \"\";\n          break;\n        case 4:\n          check = solution !== \"\";\n          break;\n        case 5:\n          if (link) {\n            const regex = new RegExp(\n              \"^([0-9A-Za-z-\\\\.@:%_+~#=]+)+((\\\\.[a-zA-Z]{2,3})+)(/(.)*)?(\\\\?(.)*)?\"\n            );\n            check = regex.test(link);\n            if (!check) {\n              response = text[\"new.message.urlMalformed\"];\n            }\n          }\n          break;\n      }\n      if (check) {\n        setMessage(\"\");\n        setStep(step + 1);\n      } else {\n        setMessage(response);\n      }\n    }\n  };\n  // console.log(step);\n  const handleBackStep = () => {\n    if (step - 1 > 0) {\n      setStep(step - 1);\n    }\n  };\n\n  const handleAnyStep = (newStep: number) => {\n    if (review) {\n      setStep(newStep);\n    }\n  };\n\n  const handleInputChange = (event: any) => {\n    setMessage(\"\");\n    switch (event.target.name) {\n      case \"title\":\n        setTitle(event.target.value);\n        break;\n      case \"problem\":\n        setProblem(event.target.value);\n        break;\n      case \"solution\":\n        setSolution(event.target.value);\n        break;\n      case \"link\":\n        setLink(event.target.value);\n        break;\n    }\n  };\n  const handleDropDown = (event: any) => {\n    setCategory(event.target.value);\n  };\n\n  const handleSetPhoto = (props: any) => {\n    setPhoto(props);\n  };\n\n  const handleSubmit = () => {\n    const objectToSubmit: indexedObjAny = {\n      user: _id,\n      location,\n      token: props.token,\n      post: {\n        title,\n        category,\n        problem,\n        solution,\n        photo,\n        link\n      }\n    };\n\n    let check = 0;\n    let counter = 0;\n\n    // Object.keys(objectToSubmit).map((el: any) => {\n    //   if (typeof objectToSubmit[el] === \"object\") {\n    //     Object.keys(objectToSubmit[el]).map((ele: any) => {\n    //       const empty = objectToSubmit[el][ele] === \"\";\n    //       if (!empty) {\n    //         check += 1;\n    //       }\n    //       counter += 1;\n    //     });\n    //   } else if (\n    //     objectToSubmit[el] === \"photo\" ||\n    //     objectToSubmit[el] === \"link\"\n    //   ) {\n    //     check += 1;\n    //     counter += 1;\n    //   } else {\n    //     const empty = objectToSubmit[el] === \"\";\n    //     if (!empty) {\n    //       check += 1;\n    //     }\n    //     counter += 1;\n    //   }\n    // });\n\n    const url = \"/post/create\";\n    axios\n      .post(url, objectToSubmit)\n      .then((response: any) => {\n        setLoading(false);\n        setMessage(response.data.message);\n        if (response.status) {\n          props.setModule(\"home\");\n        }\n      })\n      .catch(error => {\n        const payload = error.response ? error.response.data : error.toString();\n      });\n\n    if (check === counter) {\n      setLoading(true);\n      props.setStep(6);\n      props.submitPost(objectToSubmit);\n    } else {\n      setMessage(text[\"new.error.incomplete\"]);\n    }\n  };\n\n  let pageSubTitle = text[\"new.steps.title\"];\n  let stepsComponent = (\n    <Steps current={step} direction={direction} action={handleAnyStep} />\n  );\n  let buttonPrimary = (\n    <Button mode='primary' action={handleNextStep}>\n      {text[\"new.steps.button.next\"]}\n    </Button>\n  );\n\n  if (step === 6) {\n    stepsComponent = <Zero />;\n    pageSubTitle = text[\"new.preview\"];\n    buttonPrimary = (\n      <Button mode='primary' action={handleSubmit}>\n        {text[\"new.steps.button.submit\"]}\n      </Button>\n    );\n  }\n\n  const stepOne =\n    step === 1\n      ? formSection({\n          label: text[\"new.field.title.label\"],\n          type: \"text\",\n          name: \"title\",\n          value: title,\n          placeholder: text[\"new.field.title.prompt\"],\n          action: handleInputChange,\n          length: 2,\n          focus: true\n        })\n      : null;\n\n  const stepTwo =\n    step === 2 ? (\n      <div className='none'>\n        {formSelection({\n          list: getCategories(),\n          direction,\n          label: text[\"new.field.category.label\"],\n          action: handleDropDown,\n          focus: true\n        })}\n        <CatDescription\n          direction={direction}\n          category={category}\n          categories={categories}\n        />\n      </div>\n    ) : null;\n\n  const stepThree =\n    step === 3\n      ? formSection({\n          label: text[\"new.field.problem.label\"],\n          type: \"textarea\",\n          name: \"problem\",\n          value: problem,\n          placeholder: text[\"new.field.problem.prompt\"],\n          action: handleInputChange,\n          length: 50,\n          focus: true\n        })\n      : null;\n  const stepFour =\n    step === 4\n      ? formSection({\n          label: text[\"new.field.solution.label\"],\n          type: \"textarea\",\n          name: \"solution\",\n          value: solution,\n          placeholder: text[\"new.field.solution.prompt\"],\n          action: handleInputChange,\n          length: 50,\n          focus: true\n        })\n      : null;\n  const stepFive =\n    step === 5 ? (\n      <Section>\n        <Label direction={direction} value={text[\"new.field.photo.label\"]} />\n        <PhotoUpload\n          label={text[\"new.field.photo.prompt\"]}\n          direction={direction}\n          action={handleSetPhoto}\n          photo={photo}\n        />\n        {formSection({\n          label: text[\"new.field.link.label\"],\n          type: \"url\",\n          name: \"link\",\n          value: link,\n          placeholder: text[\"new.field.link.prompt\"],\n          action: handleInputChange,\n          length: 5\n        })}\n      </Section>\n    ) : null;\n\n  const mockFn = (props: any) => {};\n\n  const categoryName = categoryIdToName(categories, props.language.short, category);\n\n\n  const post = {\n    title,\n    category: categoryName,\n    problem,\n    solution,\n    photo,\n    link\n  };\n  // TODO: fix below\n  const preview =\n    step === 6 ? (\n      <Preview\n        post={post}\n        direction={direction}\n        text={{\n          problem: text[\"post.problem\"],\n          solution: text[\"post.solution\"]\n        }}\n      />\n    ) : null;\n  const loadingElement = loading ? <Loading /> : null;\n\n  const goHome = () => {\n    props.setModule(props.prevModule);\n  };\n  const headerObject = {\n    name: \"New Post\",\n    left: { icon: <div>back</div>, action: goHome }\n  };\nconsole.log(message)\n  return (\n    <Content padded>\n      {/* <Header {...headerObject} /> */}\n      <Center>\n        <SubTitle title={pageSubTitle} direction={direction} />\n        {stepsComponent}\n      </Center>\n      <Paragraph direction={direction}>{text[`new.steps.step.${step}`]}</Paragraph>\n      <ContentBlock\n        stepOne={stepOne}\n        stepTwo={stepTwo}\n        stepThree={stepThree}\n        stepFour={stepFour}\n        stepFive={stepFive}\n        preview={preview}\n        loadingElement={loadingElement}\n        direction={direction}\n        message={message}\n      />\n      <ButtonsWrapper row direction={direction}>\n        {buttonPrimary}\n        <Button mode='secondary' disabled={step === 1} action={handleBackStep}>\n          {text[\"new.steps.button.back\"]}\n        </Button>\n      </ButtonsWrapper>\n    </Content>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    language: state.language,\n    location: state.locationData,\n    token: state.token,\n    submitResult: state.submitPost,\n    step: state.step,\n    prevModule: state.prevModule\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { setStep, submitPost, setModule }\n)(NewPost);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\n\nimport { formSection, formSelection } from \"../../components/formSection\";\nimport { Preview } from \"./components\";\nimport { AppState } from \"../../store\";\nimport { setStep } from \"../../store/app/actions\";\nimport { submitPost } from \"../../store/post/actions\";\nimport { setModule } from \"../../store/users/actions\";\nimport { indexedObjAny, data } from \"../../store/types\";\n\nimport Button from \"../../components/Button\";\nimport Loading from \"../../components/Loading\";\nimport PhotoUpload from \"./components/PhotoUpload\";\nimport Steps from \"./components/Steps\";\nimport ContentBlock from \"./components/ContentBlock\";\n\nimport ButtonsWrapper from \"../../layout/ButtonsWrapper\";\nimport Center from \"../../layout/Center\";\nimport Content from \"../../layout/Content\";\nimport Label from \"../../layout/Label\";\nimport Section from \"../../layout/Section\";\nimport Paragraph from \"../../layout/Paragraph\";\nimport SubTitle from \"../../layout/SubTitle\";\nimport { Zero } from \"../../layout/Utils\";\nimport CatDescription from \"./components/CatDescription\";\nimport Header from \"../../components/Header\";\nimport { categoryIdToName } from \"../../modules/category_processor\";\n\nconst NewPost = (props: {\n  language: data;\n  location: data;\n  token: string;\n  step: number;\n  submitResult: data;\n  setStep: (arg0: number) => void;\n  submitPost: (arg0: indexedObjAny) => void;\n  setModule: (arg0: string) => void;\n  prevModule: string;\n}) => {\n  const { direction, text } = props.language;\n  const { _id, location } = props.location;\n  const [step, setStep] = React.useState(props.step);\n  const [review, setReview] = React.useState(false);\n  const [loading, setLoading] = React.useState(false);\n  // form fields\n  const [title, setTitle] = React.useState(\"\");\n  const [problem, setProblem] = React.useState(\"\");\n  const [photo, setPhoto] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n  // message\n  const [message, setMessage] = React.useState(\"\");\n\n  React.useEffect(() => {\n    if (step === 6 && review === false) {\n      setReview(true);\n    }\n  }, [step]);\n\n  const handleNextStep = () => {\n    if (step + 1 <= 4) {\n      let check: boolean = true;\n      let response: string = text[\"new.message.fieldEmpty\"];\n      switch (step) {\n        case 1:\n          check = title !== \"\";\n          break;\n        case 2:\n          check = problem !== \"\";\n          break;\n        case 3:\n          if (link) {\n            const regex = new RegExp(\n              \"^([0-9A-Za-z-\\\\.@:%_+~#=]+)+((\\\\.[a-zA-Z]{2,3})+)(/(.)*)?(\\\\?(.)*)?\"\n            );\n            check = regex.test(link);\n            if (!check) {\n              response = text[\"new.message.urlMalformed\"];\n            }\n          }\n          break;\n      }\n      if (check) {\n        setMessage(\"\");\n        setStep(step + 1);\n      } else {\n        setMessage(response);\n      }\n    }\n  };\n  // console.log(step);\n  const handleBackStep = () => {\n    if (step - 1 > 0) {\n      setStep(step - 1);\n    }\n  };\n\n  const handleAnyStep = (newStep: number) => {\n    if (review) {\n      setStep(newStep);\n    }\n  };\n\n  const handleInputChange = (event: any) => {\n    setMessage(\"\");\n    switch (event.target.name) {\n      case \"title\":\n        setTitle(event.target.value);\n        break;\n      case \"problem\":\n        setProblem(event.target.value);\n        break;\n      case \"link\":\n        setLink(event.target.value);\n        break;\n    }\n  };\n\n  const handleSetPhoto = (props: any) => {\n    setPhoto(props);\n  };\n\n  const handleSubmit = () => {\n    const objectToSubmit: indexedObjAny = {\n      location,\n      token: props.token,\n      post: {\n        title,\n        problem,\n        photo,\n        link\n      }\n    };\n\n    let check = 0;\n    let counter = 0;\n\n    // Object.keys(objectToSubmit).map((el: any) => {\n    //   if (typeof objectToSubmit[el] === \"object\") {\n    //     Object.keys(objectToSubmit[el]).map((ele: any) => {\n    //       const empty = objectToSubmit[el][ele] === \"\";\n    //       if (!empty) {\n    //         check += 1;\n    //       }\n    //       counter += 1;\n    //     });\n    //   } else if (\n    //     objectToSubmit[el] === \"photo\" ||\n    //     objectToSubmit[el] === \"link\"\n    //   ) {\n    //     check += 1;\n    //     counter += 1;\n    //   } else {\n    //     const empty = objectToSubmit[el] === \"\";\n    //     if (!empty) {\n    //       check += 1;\n    //     }\n    //     counter += 1;\n    //   }\n    // });\n\n    const url = \"/muni/create\";\n    axios\n      .post(url, objectToSubmit)\n      .then((response: any) => {\n        setLoading(false);\n        setMessage(response.data.message);\n        if (response.status) {\n          props.setModule(\"municipality\");\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      });\n\n    // if (check === counter) {\n    //   setLoading(true);\n    //   props.setStep(4);\n    //   props.submitPost(objectToSubmit);\n    // } else {\n    //   setMessage(text[\"new.error.incomplete\"]);\n    // }\n  };\n\n  let pageSubTitle = text[\"new.steps.title\"];\n  let stepsComponent = (\n    <Steps muni current={step} direction={direction} action={handleAnyStep} />\n  );\n  let buttonPrimary = (\n    <Button mode='primary' action={handleNextStep}>\n      {text[\"new.steps.button.next\"]}\n    </Button>\n  );\n\n  if (step === 4) {\n    stepsComponent = <Zero />;\n    pageSubTitle = text[\"new.preview\"];\n    buttonPrimary = (\n      <Button mode='primary' action={handleSubmit}>\n        {text[\"new.steps.button.submit\"]}\n      </Button>\n    );\n  }\n\n  const stepOne =\n    step === 1\n      ? formSection({\n          label: text[\"new.field.title.label\"],\n          type: \"text\",\n          name: \"title\",\n          value: title,\n          placeholder: text[\"new.field.title.prompt\"],\n          action: handleInputChange,\n          length: 2,\n          focus: true\n        })\n      : null;\n\n  const stepTwo =\n    step === 2\n      ? formSection({\n          label: text[\"new.field.problem.label\"],\n          type: \"textarea\",\n          name: \"problem\",\n          value: problem,\n          placeholder: text[\"new.field.problem.prompt\"],\n          action: handleInputChange,\n          length: 50,\n          focus: true\n        })\n      : null;\n\n  const stepThree =\n    step === 3 ? (\n      <Section>\n        <Label direction={direction} value={text[\"new.field.photo.label\"]} />\n        <PhotoUpload\n          label={text[\"new.field.photo.prompt\"]}\n          direction={direction}\n          action={handleSetPhoto}\n          photo={photo}\n        />\n        {formSection({\n          label: text[\"new.field.link.label\"],\n          type: \"url\",\n          name: \"link\",\n          value: link,\n          placeholder: text[\"new.field.link.prompt\"],\n          action: handleInputChange,\n          length: 5\n        })}\n      </Section>\n    ) : null;\n\n  const mockFn = (props: any) => {};\n\n  const post = {\n    title,\n    problem,\n    photo,\n    link\n  };\n  // TODO: fix below\n  const preview =\n    step === 4 ? (\n      <Preview\n        muni\n        post={post}\n        direction={direction}\n        text={{\n          problem: text[\"post.problem\"],\n          solution: text[\"post.solution\"]\n        }}\n      />\n    ) : null;\n  const loadingElement = loading ? <Loading /> : null;\n\n  const goHome = () => {\n    props.setModule(props.prevModule);\n  };\n\n  const headerObject = {\n    name: \"New Post\",\n    left: { icon: <div>back</div>, action: goHome }\n  };\n\n  console.log(message);\n  return (\n    <Content padded>\n      {/* <Header {...headerObject} /> */}\n      <Center>\n        <SubTitle title={pageSubTitle} direction={direction} />\n        {stepsComponent}\n      </Center>\n      <Paragraph direction={direction}>\n        {text[`new.steps.step.${step}`]}\n      </Paragraph>\n      <ContentBlock\n        stepOne={stepOne}\n        stepTwo={stepTwo}\n        stepThree={stepThree}\n        preview={preview}\n        loadingElement={loadingElement}\n        direction={direction}\n        message={message}\n      />\n      <ButtonsWrapper row direction={direction}>\n        {buttonPrimary}\n        <Button mode='secondary' disabled={step === 1} action={handleBackStep}>\n          {text[\"new.steps.button.back\"]}\n        </Button>\n      </ButtonsWrapper>\n    </Content>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    language: state.language,\n    location: state.locationData,\n    token: state.token,\n    submitResult: state.submitPost,\n    step: state.step,\n    prevModule: state.prevModule\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { setStep, submitPost, setModule }\n)(NewPost);\n","import React from \"react\";\n\nimport NewPost from \"../features/New\";\nimport NewPostMuni from \"../features/New/indexMuni\";\n\nimport Page from \"../layout/Page\";\n\nconst New = (props: { muni?: boolean }) => {\n  return <Page opposite>{props.muni ? <NewPostMuni /> : <NewPost />}</Page>;\n};\n\nexport default New;\n"],"sourceRoot":""}