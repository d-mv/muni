{"version":3,"sources":["styles/Title.ts","features/Help/components/Home.tsx","features/Help/index.tsx","components/Header.tsx","components/style/Header.module.scss","features/Help/components/style/index.module.scss","styles/Card.ts","styles/Content.ts","layout/Block.tsx","layout/style/Block.module.scss","styles/VoteButton.ts","components/VoteButton.tsx","styles/post/ReplyTag.ts","styles/post/AlreadyPosted.ts","styles/post/Reply.ts","features/Post/index.tsx","modules/reply_style_generator.ts","features/Post/News.tsx","pages/Post.tsx"],"names":["Title","styled","h1","_templateObject","props","muni","secondary","primary","connect","state","language","type","_props$language","direction","text","headerStyle","style","styleFactory","headerDescStyle","titleStyle","react_default","a","createElement","className","content","Button","mode","action","cancel","iconHelp","pinned","card","photo","category","title","lineThree","voteButtonText","navLeft","navRight","module","help","showHelp","contentStyle","handleShowHelp","components_Home","onClick","user","auth","name","makeIcon","icon","noRtl","styles","useEffect","settings","left","right","styles_Title","features_Help","exports","plank","plankRTL","iconRTL","central","header","headerRTL","titleRTL","headerDesc","headerDescRTL","Card","article","radiusMed","cardShadow","Content","div","padding","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_style_Block_module_scss__WEBPACK_IMPORTED_MODULE_1__","_style_Block_module_scss__WEBPACK_IMPORTED_MODULE_1___default","Block","blockStyle","block","border","rectangle","borderRectangle","children","button","buttonShadow","primary30","borderPrimaryLight","_templateObject2","textButtonVote","white","VoteButton","ReplyTag","Category","AlreadyPosted","AlreadyPosted_templateObject","textMessageSmall","Reply","Reply_templateObject","color","locations","posts","post","prevModule","token","categories","vote","updatePost","setModule","fetchData","getPosts","deletePost","showPost","votePost","short","_useState","useState","_useState2","Object","slicedToArray","textOpened","setTextOpened","_useState3","_useState4","replyOpened","_useState5","_useState6","showConfirm","setShowConfirm","_useState7","_useState8","showNewReply","setShowNewReply","originalPost","React","createRef","filter","_id","_useState9","_useState10","edit","setEdit","_useState11","_useState12","deleteConfirmation","setDeleteConfirmation","_useState13","_useState14","updateConfirmation","showUpdateConfirmation","_useState15","_useState16","muniEdit","setMuniEdit","_useState17","_useState18","muniDeleteConfirmation","setMuniDeleteConfirmation","_useState19","_useState20","showMuniEditModal","setMuniEditModal","location","el","showStyle","textClosed","voterText","votes","length","categoryIdToName","showMoreLessText","more","less","includes","author","createdBy","muniUser","console","log","allowToReply","reply","up","down","concat","toConsumableArray","newReplyComponent","toggleShowNewReplyButton","toggleCloseSave","toggleDeleteConfirmation","toggleMuniEdit","toggleMuniDeleteConfirmation","toggleMuniEditModal","handleReplyChange","event","target","value","submitUpdatePost","answer","logger","emph","handleReplyVoting","updown","toString","push","objectSpread","ageText","modal","components","close","voted","renderVoteButton","post_AlreadyPosted","voteButton","setTimeout","ReplyMessage","setOfThumbs","newReplyButton","_replyCardStyleUtil","opened","replyCardColor","replyCardStyle","t1","t2","t3","styleName","toUpperCase","slice","generateStyleName","replyCardStyleUtil","goBack","setOfEditButtons","muniDeleteModal","muniEditModal","actionMessage","newPost","Field","autoFocus","onChange","placeholder","required","post_Reply","InLine","justify","replies","Section","PlainText","Spacer","space","deleteConfirmationComponent","Modal","disabled","label","submit","submitText","updateConfirmComponent","deleteButton","editIcon","iconEdit","iconClose","headerObject","show","emptyPost","Header","styles_Post","post_ReplyTag","back","secondary70","date","createdAt","daysText","src","actions","set","remove","link","editText","message","confirm","Text","step","problem","solution","news","getNews","setPost","url","axios","patch","then","response","catch","reason","put","Post","Page","News","features_Post"],"mappings":"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","file":"static/js/8.bb294857.chunk.js","sourcesContent":["import styled from 'styled-components';\nimport { secondary, primary } from './_colors';\nimport { h1 } from './_typography';\n\nexport interface IProps {\nmuni?:boolean\n}\n\nconst Title = styled.h1<IProps>`\ncolor: ${props => props.muni ? secondary : primary}\nfont: ${h1}\n`\n\nexport default Title","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport styleFactory from \"../../../modules/style_factory\";\n\nimport { AppState } from \"../../../store\";\nimport { data } from \"../../../store/types\";\n\nimport Button from \"../../../components/Button\";\nimport { iconHelp } from \"../../../icons\";\nimport style from \"./style/index.module.scss\";\n\nconst Home = (props: { language: data; cancel: () => void,type:any }) => {\n  const { direction, text } = props.language;\n\n  const headerStyle = style[styleFactory(\"header\", direction)];\n  const headerDescStyle = style[styleFactory(\"headerDesc\", direction)];\n  const titleStyle = style[styleFactory(\"title\", direction)];\n\n  return (\n    <div className={style.content}>\n      <section className={headerStyle}>\n        <Button mode='minimal' action={props.cancel}>\n          {iconHelp(\"white\")}\n        </Button>\n        <div className={titleStyle}>{text[\"help.mycity\"]}</div>\n        <Button mode='minimal'></Button>\n      </section>\n      <section className={headerDescStyle}>\n        <div>{text[\"help.button.help\"]}</div>\n      </section>\n      <section className={style.pinned}>\n        <div>{text[\"help.post.pinned\"]}</div>\n      </section>\n      <section className={style.card}>\n        <div className={style.photo}>{text[\"help.post.photo\"]}</div>\n        <div className={style.category}>{text[\"help.post.category\"]}</div>\n        <div className={style.title}>{text[\"help.post.title\"]}</div>\n        <div className={style.lineThree}>{text[\"help.post.age\"]}</div>\n      </section>\n      <section>\n        <div className={style.voteButtonText}>\n          {text[props.type === \"muni\" ? \"help.new.muni\" : \"help.new\"]}\n        </div>\n      </section>\n      <section>\n        <div className={style.navLeft}>{text[\"help.navigation\"]}</div>\n        <div className={style.navRight}>{text[\"help.navigation\"]}</div>\n      </section>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    language: state.language,\n    type:state.type\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  {}\n)(Home);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { AppState } from \"../../store\";\nimport { showHelp } from \"../../store/users/actions\";\nimport styleFactory from \"../../modules/style_factory\";\n\nimport { data } from \"../../store/types\";\nimport Home from \"./components/Home\";\n\nconst Help = (props: {\n  language: data;\n  module: string;\n  help: boolean;\n  showHelp: (arg0: boolean) => void;\n}) => {\n  const { direction } = props.language;\n  const contentStyle = styleFactory(\"help-content\", direction);\n\n  const handleShowHelp = () => {\n    props.showHelp(!props.help);\n  };\n\n  let content = <div className={contentStyle} />;\n  switch (props.module) {\n    case \"post\":\n      break;\n    case \"home\":\n      content = <Home cancel={handleShowHelp} />;\n      break;\n  }\n\n  const component = (\n    <div onClick={() => handleShowHelp()} className='help'>\n      {content}\n    </div>\n  );\n  return component;\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    module: state.module,\n    language: state.language,\n    help: state.help\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  {\n    showHelp\n  }\n)(Help);\n","import { indexedObj } from \"../store/types\";\n\nimport { AppState } from \"../store\";\nimport styleFactory from \"../modules/style_factory\";\nimport Button from \"./Button\";\nimport { iconHelp } from \"../icons/\";\nimport React, { useEffect } from \"react\";\nimport Title from \"../styles/Title\";\nimport { connect } from \"react-redux\";\nimport styles from \"./style/Header.module.scss\";\nimport Help from \"../features/Help\";\nimport { showHelp } from \"../store/users/actions\";\n\nconst Header = (props: {\n  help: boolean;\n  language: indexedObj;\n  name: string;\n  right?: {\n    icon: JSX.Element;\n    action: () => void;\n    noRtl?: boolean;\n  };\n  left?: {\n    icon: JSX.Element;\n    action: () => void;\n    noRtl?: boolean;\n  };\n  user: any;\n  module: string;\n  showHelp: (arg0: boolean) => void;\n}) => {\n  const { direction } = props.language;\n  const { name, user, module } = props;\n\n  const makeIcon = (icon: any, noRtl?: boolean) => {\n    const style = noRtl\n      ? styles[\"icon\"]\n      : styles[styleFactory(\"icon\", direction)];\n    return <div className={style}>{icon}</div>;\n  };\n\n  useEffect(() => {\n    if (user.settings.help) {\n      props.showHelp(true);\n    }\n  }, []);\n\n  const toggleHelp = () => {\n    props.showHelp(!props.help);\n  };\n\n  const handleLeftAction = () => {\n    if (props.left) {\n      props.left.action();\n    } else if (module === \"home\") {\n      toggleHelp();\n    }\n  };\n  const handleRightAction = () => {\n    if (props.right) props.right.action();\n  };\n\n  const left = props.left ? (\n    makeIcon(props.left.icon, props.left.noRtl)\n  ) : module === \"home\" ? (\n    makeIcon(\n      iconHelp(props.user.type === \"muni\" ? \"secondary\" : \"primary\"),\n      true\n    )\n  ) : (\n    <div />\n  );\n\n  const right = props.right ? (\n    makeIcon(props.right.icon, props.right.noRtl)\n  ) : (\n    <div />\n  );\n\n  return (\n    <header className={styles[styleFactory(\"plank\", direction)]}>\n      <Button mode='minimal' action={handleLeftAction}>\n        {left}\n      </Button>\n      <Title muni={props.user.type==='muni'}>{name}</Title>\n      <Button mode='minimal' action={handleRightAction}>\n        {right}\n      </Button>\n      {props.help ? <Help /> : null}\n    </header>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    language: state.language,\n    user: state.auth.user,\n    help: state.help,\n    module: state.module\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { showHelp }\n)(Header);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"plank\":\"Header_plank__1Xkcj\",\"plankRTL\":\"Header_plankRTL__22swp\",\"icon\":\"Header_icon__1KqqL\",\"iconRTL\":\"Header_iconRTL__2ufUE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"style_content__2T40g\",\"central\":\"style_central__ADLjj\",\"header\":\"style_header__tQ9Sx\",\"headerRTL\":\"style_headerRTL__2kFRT\",\"icon\":\"style_icon__1YFTz\",\"iconRTL\":\"style_iconRTL__3HH5-\",\"title\":\"style_title__1WHmK\",\"titleRTL\":\"style_titleRTL__vpycB\",\"headerDesc\":\"style_headerDesc__3ANCb\",\"headerDescRTL\":\"style_headerDescRTL__3knRN\",\"pinned\":\"style_pinned__Kl-fS\",\"card\":\"style_card__1D5C-\",\"photo\":\"style_photo__2fnix\",\"category\":\"style_category__24IMX\",\"lineThree\":\"style_lineThree__NkwpN\",\"voteButtonText\":\"style_voteButtonText__2_n0m\",\"navLeft\":\"style_navLeft__bzWVA\",\"navRight\":\"style_navRight__k7-Uq\"};","import styled from \"styled-components\";\nimport { cardShadow, radiusMed } from \"./_ui\";\n\nconst Card = styled.article`\n  margin: 1.5rem auto;\n  width: 90%;\n  border-radius: ${radiusMed};\n  box-shadow: ${cardShadow};\n`;\nexport default Card;\n","import styled from \"styled-components\";\n\nexport interface IProps {\n  padding?: string;\n}\n\nconst Content = styled.div<IProps>`\n  padding: ${props => (props.padding ? props.padding : 0)};\n`;\n\nexport default Content;\n","import React from \"react\";\n\nimport styles from \"./style/Block.module.scss\";\n\n/**\n * React JSX component to wrap block with paragraph style\n *\n * @param {object} props - Children to display, boolean label - thin\n *\n * @returns {JSX.Element}\n */\nconst Block = (props: {\n  children: any;\n  border?: boolean;\n  rectangle?: boolean;\n}): JSX.Element => {\n  let blockStyle = styles.block;\n\n  if (props.border) {\n    blockStyle = styles.border;\n  } else if (props.rectangle) {\n    blockStyle = styles.borderRectangle;\n  }\n\n  return <div className={blockStyle}>{props.children}</div>;\n};\n\nexport default Block;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Block_block__25D3U\",\"border\":\"Block_border__3jZ4R\",\"borderRectangle\":\"Block_borderRectangle__bDkgw\"};","import styled from \"styled-components\";\nimport { primary, white, primary30 } from \"./_colors\";\nimport { buttonShadow, borderPrimaryLight } from \"./_ui\";\nimport { textButtonVote } from \"./_typography\";\n\nexport const Button = styled.button`\n  box-shadow: ${buttonShadow(primary30)};\n  width: 6.5rem;\n  height: 6.5rem;\n  border-radius: 50%;\n  background-color: ${primary};\n  border: ${borderPrimaryLight} !important;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const Title = styled.div`\n  width: 100%;\n  text-align: center;\n  user-select: none;\n  font: ${textButtonVote};\n  color: ${white};\n`;\n","import React from \"react\";\n\nimport { Button, Title } from \"../styles/VoteButton\";\n\nconst VoteButton = (props: { title: string }) => (\n  <Button>\n    <Title>{props.title}</Title>\n  </Button>\n);\n\nexport default VoteButton;\n","import styled from \"styled-components\";\nimport Category from \"../common/Category\";\n\nconst ReplyTag = styled(Category)`\n  height: 2.5rem;\n  width: 1.5rem;\n  padding: .5rem 1rem .5rem .8rem;\n  transform: rotate(270deg);\n`;\n\nexport default ReplyTag;\n","import styled from \"styled-components\";\n\nimport { white, primary } from \"../_colors\";\nimport { textMessageSmall } from \"../_typography\";\n\nconst AlreadyPosted = styled.div`\nwhite-space: nowrap;\npadding: 0.5rem 2rem;\ntext-align: center;\nmargin: 0 auto;\nbackground-color: white;\ncolor: ${primary}\nfont: ${textMessageSmall}\n`;\n\nexport default AlreadyPosted;\n","import styled from \"styled-components\";\nimport { textSubtitle } from \"../_typography\";\nimport Card from \"../Card\";\n\nexport interface IProps {\n  color?: string;\n}\n\nconst Reply = styled(Card)<IProps>`\n  background-color: ${props => (props.color ? props.color : \"white\")};\n  width:90%;\n  margin: 0 auto;\n`;\n\nexport default Reply;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { connect } from \"react-redux\";\nimport { categoryIdToName } from \"../../modules/category_processor\";\nimport { replyCardStyleUtil } from \"../../modules/reply_style_generator\";\nimport { goBack, iconEdit, iconClose, votersSecondary } from \"../../icons\";\n\nimport { AppState } from \"../../store\";\nimport { vote, setModule, fetchData } from \"../../store/users/actions\";\nimport {\n  updatePost,\n  deletePost,\n  showPost,\n  getPosts,\n  votePost\n} from \"../../store/post/actions\";\nimport { indexedObjAny, data } from \"../../store/types\";\n\nimport VoteButton from \"../../components/VoteButton\";\nimport Header from \"../../components/Header\";\nimport Modal from \"../../components/Modal\";\n\nimport {\n  Photo,\n  Link,\n  ShowMore,\n  NumbersLine,\n  NewReply,\n  Voted,\n  ReplyVotes,\n  NewReplyButton,\n  ModalView,\n  Confirm,\n  ModalEdit\n} from \"./components\";\nimport Text from \"./components/Text\";\n\nimport PostCard from \"../../styles/Post\";\nimport Content from \"../../styles/Content\";\nimport style from \"./style/Post.module.scss\";\nimport styleFactory from \"../../modules/style_factory\";\nimport Button from \"../../components/Button\";\nimport { AuthState } from \"../../models\";\nimport { emptyPost } from \"../../store/defaults\";\nimport logger from \"../../modules/logger\";\nimport ReplyTag from \"../../styles/post/ReplyTag\";\nimport Spacer from \"../../styles/utils/Spacer\";\nimport ScrolledContent from \"../../styles/ScrolledContent\";\nimport AlreadyPosted from \"../../styles/post/AlreadyPosted\";\nimport InLine from \"../../styles/utils/InLine\";\nimport Section from \"../../styles/Section\";\nimport Category from \"../../styles/common/Category\";\nimport Title from \"../../styles/common/Title\";\nimport Field from \"../../styles/form/Field\";\nimport Reply from \"../../styles/post/Reply\";\nimport { secondary70, attention, secondary } from \"../../styles/_colors\";\nimport DownIcon from \"../../styles/form/DownIcon\";\nimport Votes from \"../../styles/post/Votes\";\nimport PlainText from \"../../styles/post/PlainText\";\nimport Thumb from \"../../icons/Thumb\";\n\nconst Post = (props: {\n  posts: any;\n  post: any;\n  language: indexedObjAny;\n  votePost: (arg0: string) => void;\n  // location: data;\n  vote: (arg0: string, arg1: string) => void;\n  updatePost: (arg0: any) => void;\n  setModule: (arg0: string) => void;\n  getPosts: (arg0: string) => void;\n  prevModule: string;\n  token: string;\n  deletePost: (arg0: string) => void;\n  showPost: (arg0: any) => void;\n  auth: AuthState;\n  categories: any;\n  locations: data;\n}) => {\n  // destructuring props\n  const { categories, auth, locations, post } = props;\n  const { user } = auth;\n  const { direction, text, short } = props.language;\n  // state\n  const [textOpened, setTextOpened] = useState(false);\n  const [replyOpened, setReplyOpened] = useState(false);\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [showNewReply, setShowNewReply] = useState(false);\n  // const [newReply, setNewReply] = useState(post.reply.text);\n  const replyRef = React.createRef<HTMLDivElement>();\n\n  const originalPost = props.posts.filter(\n    (post: any) => post._id === props.post._id\n  )[0];\n\n  const [edit, setEdit] = useState(false);\n  const [deleteConfirmation, setDeleteConfirmation] = useState(false);\n  const [updateConfirmation, showUpdateConfirmation] = useState(false);\n  const [muniEdit, setMuniEdit] = useState(false);\n  const [muniDeleteConfirmation, setMuniDeleteConfirmation] = useState(false);\n  const [showMuniEditModal, setMuniEditModal] = useState(false);\n\n  const location = locations.filter((el: any) => el._id === user.location)[0];\n\n  // definitions\n  const showStyle = textOpened ? style.text : style.textClosed;\n  const voterText =\n    post.votes.length === 1 ? text[\"post.voter\"] : text[\"post.voters\"];\n  const category = categoryIdToName(categories, short, post.category);\n  const showMoreLessText = {\n    more: text[\"post.show-more\"],\n    less: text[\"post.show-less\"]\n  };\n  const includes = post.votes.includes(props.auth.user._id);\n  const author = post.createdBy === props.auth.user._id;\n  const muniUser = auth.user.type === \"muni\";\n\n  useEffect(() => {\n    console.log(\"posts changed\");\n    props.showPost(\n      props.posts.filter((post: any) => post._id === props.post._id)[0]\n    );\n  }, [props.posts]);\n\n  let allowToReply = false;\n  if (!post.reply.up && !post.reply.down) {\n    allowToReply = true;\n  } else if (post.reply.up.length > 0 && post.reply.down.length > 0) {\n    allowToReply = [...post.reply.up, ...post.reply.down].includes(\n      props.auth.user._id\n    );\n  } else if (post.reply.up.length > 0) {\n    allowToReply = post.reply.up.includes(props.auth.user._id);\n  } else if (post.reply.down.length > 0) {\n    allowToReply = post.reply.down.includes(props.auth.user._id);\n  }\n\n  // toggles\n  const toggleShowNewReplyButton = () => {\n    setShowNewReply(!showNewReply);\n  };\n  const toggleEdit = () => {\n    setEdit(!edit);\n  };\n  const toggleCloseSave = () => {\n    showUpdateConfirmation(!updateConfirmation);\n  };\n\n  const toggleShowConfirm = () => {\n    setShowConfirm(!showConfirm);\n  };\n\n  const toggleDeleteConfirmation = () => {\n    setDeleteConfirmation(!deleteConfirmation);\n  };\n\n  const toggleMuniEdit = () => {\n    setMuniEdit(!muniEdit);\n  };\n  const toggleMuniDeleteConfirmation = () => {\n    setMuniDeleteConfirmation(!muniDeleteConfirmation);\n  };\n  const toggleMuniEditModal = () => {\n    setMuniEditModal(!showMuniEditModal);\n  };\n\n  // small functions\n  const goHome = () => {\n    props.showPost({ show: false, ...emptyPost });\n    props.setModule(props.prevModule);\n  };\n\n  // edit\n  const handleRemovePhoto = () => {\n    props.showPost({ photo: \"\" });\n  };\n  const handleRemoveLink = () => {\n    props.showPost({ link: \"\" });\n  };\n  const handleSetPhoto = (photo: string) => {\n    props.showPost({ photo });\n  };\n  const handleSetLink = (link: string) => {\n    props.showPost({ link });\n  };\n\n  const handleReplyChange = (event: any) => {\n    props.showPost({ reply: { text: event.target.value } });\n  };\n\n  // submit\n  const submitUpdatePost = (answer?: string) => {\n    logger({\n      text: \"submitUpdatePost:\",\n      emph: answer || \"\",\n      type: \"positive\"\n    });\n    setMuniEditModal(false);\n    setMuniEdit(false);\n    setShowNewReply(false);\n    if (answer) {\n      setEdit(false);\n      showUpdateConfirmation(false);\n      if (answer === \"attention\") {\n        props.showPost(originalPost);\n      } else {\n        props.updatePost(post);\n      }\n    } else {\n      props.updatePost(post);\n    }\n  };\n  const submitVote = () => {\n    setShowConfirm(true);\n    setTimeout(() => {\n      setShowConfirm(false);\n    }, 2000);\n    props.showPost({ ...post, votes: [post.votes, user._id] });\n    props.votePost(post._id);\n  };\n\n  const submitDeletePost = (answer: string) => {\n    logger({ text: \"submitDeletePost:\", emph: answer, type: \"positive\" });\n\n    if (answer === \"secondary\") {\n      props.deletePost(post._id);\n      props.setModule(props.prevModule);\n    }\n  };\n\n  const submitDeleteMuniReply = (answer: string) => {\n    logger({ text: \"submitDeletePost:\", emph: answer, type: \"positive\" });\n\n    if (answer === \"primary\") {\n      const newPost = { ...post, reply: {} };\n      props.showPost(newPost);\n      props.updatePost(newPost);\n    }\n    setMuniEdit(false);\n  };\n\n  // TODO: refactor\n\n  const handleReplyVoting = (updown: boolean) => {\n    console.log(\"object\");\n    logger({\n      text: \"handleReplyVoting:\",\n      emph: updown.toString(),\n      type: \"positive\"\n    });\n\n    let up = post.reply.up;\n    let down = post.reply.down;\n\n    if (updown) {\n      up.push(props.auth.user._id);\n    } else {\n      down.push(props.auth.user._id);\n    }\n    const reply = { ...post.reply, reply: { ...post.reply, up, down } };\n    props.updatePost({ ...post, reply });\n  };\n\n  // numbers line\n  const ageText: { [index: string]: string } = text[\"post.age\"];\n\n  // setting up components\n  const modal = showConfirm ? (\n    <ModalView close={toggleShowConfirm} text={text[\"vote.thanks\"]} />\n  ) : null;\n\n  const voted = post.votes.includes(props.auth.user._id);\n\n  const renderVoteButton = () => {\n    if (voted) return <AlreadyPosted>{text[\"post.voted\"]}</AlreadyPosted>;\n\n    const allowed = includes || author || muniUser;\n    if (!allowed)\n      return (\n        <div className={style.voteButton} onClick={() => submitVote()}>\n          <VoteButton title={text[\"card.button.vote\"]} />\n        </div>\n      );\n  };\n\n  let newReplyComponent: any = \"\";\n  let ReplyMessage: any = \"\";\n  let setOfThumbs: any = \"\";\n\n  const newReplyButton =\n    muniUser && !post.reply.text ? (\n      <NewReplyButton\n        action={toggleShowNewReplyButton}\n        text={text[\"post.muni.newreply\"]}\n      />\n    ) : null;\n\n  // if there is muni reply\n  if (post.reply) {\n    const { replyCardStyle, replyCardColor } = replyCardStyleUtil(\n      post.reply,\n      replyOpened\n    );\n\n    if (post.reply.text && !allowToReply) {\n      setOfThumbs = (\n        <div className={style[styleFactory(\"thumbsContainer\", direction)]}>\n          <div onClick={(event: any) => handleReplyVoting(true)}>\n            {goBack(\"white\")}\n          </div>\n          <div onClick={(event: any) => handleReplyVoting(false)}>\n            {goBack(\"white\")}\n          </div>\n        </div>\n      );\n    } else if (allowToReply) {\n      setOfThumbs = \"\";\n    }\n\n    let setOfEditButtons = null;\n    let muniDeleteModal = null;\n    let muniEditModal = null;\n\n    if (muniUser) {\n      setOfEditButtons = muniEdit ? (\n        <div className={style[styleFactory(\"replyEditButtons\", direction)]}>\n          <Button\n            mode='secondary'\n            title={text[\"muni-reply.edit\"]}\n            action={toggleMuniEditModal}\n          />\n          <Button\n            mode='attention'\n            title={text[\"muni-reply.delete\"]}\n            actionMessage={toggleMuniDeleteConfirmation}\n          />\n        </div>\n      ) : null;\n      muniDeleteModal = muniDeleteConfirmation ? (\n        <ModalEdit\n          close={toggleMuniDeleteConfirmation}\n          action={submitDeleteMuniReply}\n          text={text[\"muni-reply.delete.text\"]}></ModalEdit>\n      ) : null;\n\n      muniEditModal = showMuniEditModal ? (\n        <ModalEdit\n          close={toggleMuniEditModal}\n          action={submitUpdatePost}\n          text={text[\"muni-reply.edit.text\"]}>\n          {\n            <div className='section'>\n              <Field\n                direction={direction}\n                autoFocus={true}\n                type='text'\n                name='reply'\n                value={post.reply.text}\n                onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n                  handleReplyChange(event)\n                }\n                placeholder={text[\"muni.post.prompt.text\"]}\n                required\n              />\n            </div>\n          }\n        </ModalEdit>\n      ) : null;\n    }\n    ReplyMessage = post.reply.text ? (\n      <Reply>\n        <InLine\n          padding='1rem 1rem 0 1rem'\n          direction={direction}\n          justify='space-between'>\n          <Title direction={direction}>{text[\"munireply.title\"]}</Title>\n          <ReplyVotes\n            replies={{ up: post.reply.up, down: post.reply.down }}\n            direction={direction}\n          />\n        </InLine>\n        <Section direction={direction}>\n          <PlainText direction={direction}>{post.reply.text}</PlainText>\n          {voted ? null : <AlreadyPosted>{text[\"post.voted\"]}</AlreadyPosted>}\n        </Section>\n\n        {/* {post.reply.text.length > 50 ? (\n          <ShowMore\n            color={replyCardColor === \"white\" ? \"primary\" : \"white\"}\n            title={showMoreLessText}\n            direction={direction}\n            opened={replyOpened}\n            action={setReplyOpened}\n          />\n        ) : null} */}\n        {setOfEditButtons}\n        {muniDeleteModal}\n        {muniEditModal}\n        <Spacer space={5} />\n      </Reply>\n    ) : null;\n    if (muniUser) setOfThumbs = null;\n  }\n\n  // modals\n  const deleteConfirmationComponent = deleteConfirmation ? (\n    <Confirm\n      text={text[\"post.delete.confirm\"]}\n      close={toggleDeleteConfirmation}\n      action={submitDeletePost}\n      direction={direction}\n    />\n  ) : null;\n\n  newReplyComponent = showNewReply ? (\n    <Modal disabled close={toggleShowNewReplyButton}>\n      <NewReply\n        label={text[\"newreply.label\"]}\n        value={post.reply.text}\n        placeholder={text[\"newreply.placeholder\"]}\n        action={handleReplyChange}\n        direction={direction}\n        submit={submitUpdatePost}\n        submitText={text[\"login.button.submit\"]}\n      />\n    </Modal>\n  ) : null;\n\n  const updateConfirmComponent = updateConfirmation ? (\n    <div>\n      <Confirm\n        text={text[\"post.update.confirm\"]}\n        close={toggleCloseSave}\n        action={submitUpdatePost}\n        direction={direction}\n      />\n    </div>\n  ) : null;\n\n  const deleteButton = edit ? (\n    <div className={style.deleteButton}>\n      <Button mode='attention' action={toggleDeleteConfirmation}>\n        {text[\"post.delete.button\"]}\n      </Button>\n    </div>\n  ) : null;\n\n  // default\n  let editIcon =\n    author || muniUser\n      ? {\n          right: {\n            icon: iconEdit(muniUser ? \"secondary\" : \"primary\"),\n            action: muniUser ? toggleMuniEdit : toggleEdit,\n            noRtl: true\n          }\n        }\n      : null;\n  // edit mode\n  if (edit || muniEdit)\n    editIcon = {\n      right: {\n        icon: iconClose(muniEdit ? \"secondary\" : \"primary\"),\n        action: muniEdit ? toggleMuniEdit : toggleCloseSave,\n        noRtl: true\n      }\n    };\n\n  const headerObject = {\n    name: location.name[user.settings.language],\n    ...editIcon,\n    left: { icon: goBack(muniUser ? \"secondary\" : \"primary\"), action: goHome }\n  };\n\n  return (\n    <Content>\n      <Header {...headerObject} />\n      <Spacer space={7} />\n      <PostCard>\n        <Section direction={direction} padding='0 1rem'>\n          <InLine direction={direction} justify='space-between'>\n            <Category>{category}</Category>\n            {post.reply.text ? (\n              <ReplyTag back={secondary70}>{goBack(\"white\")}</ReplyTag>\n            ) : null}\n          </InLine>\n          <Title direction={direction} padding='0 1rem;'>\n            {post.title}\n          </Title>\n          <NumbersLine\n            date={post.createdAt}\n            daysText={ageText}\n            direction={direction}\n            votes={post.votes.length}\n            voterText={voterText}\n          />\n        </Section>\n        <Photo\n          src={post.photo}\n          edit={edit}\n          actions={{ set: handleSetPhoto, remove: handleRemovePhoto }}\n        />\n        <Link\n          primary\n          text={post.link}\n          direction={direction}\n          edit={edit}\n          actions={{ set: handleSetLink, remove: handleRemoveLink }}\n          editText={{\n            message: text[\"post.link.edit\"],\n            confirm: text[\"confirm\"],\n            cancel: text[\"cancel\"],\n            label: text[\"new.field.link.label\"],\n            placeholder: text[\"new.field.link.prompt\"]\n          }}\n        />\n        <div className={showStyle}>\n          <Text\n            step\n            title={text[\"post.problem\"]}\n            text={post.problem}\n            direction={direction}\n          />\n          {post.solution ? (\n            <Text\n              back\n              title={text[\"post.solution\"]}\n              text={post.solution}\n              direction={direction}\n            />\n          ) : null}\n        </div>\n        <InLine direction={direction} justify='space-between'>\n          {voted ? renderVoteButton() : null}\n          <ShowMore\n            color='primary'\n            title={showMoreLessText}\n            direction={direction}\n            opened={textOpened}\n            action={setTextOpened}\n          />\n        </InLine>\n      </PostCard>\n      {voted ? null : renderVoteButton()}\n      <Spacer space={3} />\n      {modal}\n      {newReplyButton}\n      {newReplyComponent}\n      {ReplyMessage}\n      {post.reply.text ? setOfThumbs : null}\n      {deleteButton}\n      {deleteConfirmationComponent}\n      {updateConfirmComponent}\n    </Content>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    language: state.language,\n    locations: state.locations,\n    posts: state.posts,\n    post: state.post,\n    mode: state.mode,\n    prevModule: state.prevModule,\n    token: state.token,\n    auth: state.auth,\n    categories: state.categories\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  {\n    vote,\n    updatePost,\n    setModule,\n    fetchData,\n    getPosts,\n    deletePost,\n    showPost,\n    votePost\n  }\n)(Post);\n","const generateStyleName = (t1: string, t2: string, t3?: string) => {\n  let styleName = t1 + t2[0].toUpperCase() + t2.slice(1);\n  if (t3) styleName = styleName + t3[0].toUpperCase() + t3.slice(1);\n  return styleName;\n};\n\nexport const replyCardStyleUtil = (\n  reply: {\n    up: string[];\n    down: string[];\n  },\n  opened: boolean\n) => {\n  const up = reply.up ? reply.up.length : 0;\n  const down = reply.down ? reply.down.length : 0;\n\n  let replyCardColor = \"secondary\";\n  if (up < down) replyCardColor = \"attention\";\n  if (up === down) replyCardColor = \"white\";\n\n  const replyHeight = opened ? \"open\" : \"closed\";\n  const replyCardStyle = generateStyleName(\"card\", replyCardColor, replyHeight);\n  return { replyCardStyle, replyCardColor };\n};\n","import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport axios, { AxiosResponse } from \"axios\";\nimport { AppState } from \"../../store\";\nimport { setModule } from \"../../store/users/actions\";\nimport { getNews } from \"../../store/post/actions\";\nimport { indexedObjAny } from \"../../store/types\";\n\nimport { Photo, Link, Confirm, NumbersLine } from \"./components\";\nimport Text from \"./components/Text\";\n\nimport Block from \"../../layout/Block\";\n\nimport style from \"./style/Post.module.scss\";\nimport PostCard from \"../../styles/Post\";\nimport Content from \"../../styles/Content\";\nimport Header from \"../../components/Header\";\nimport { goBack, iconEdit, iconClose } from \"../../icons\";\nimport Button from \"../../components/Button\";\nimport { AuthState, NewsType } from \"../../models\";\nimport Section from \"../../styles/Section\";\nimport Title from \"../../styles/common/Title\";\nimport Spacer from \"../../styles/utils/Spacer\";\n\nconst PostMuni = (props: {\n  auth: AuthState;\n  post: NewsType;\n  language: indexedObjAny;\n  locations: indexedObjAny;\n  setModule: (arg0: string) => void;\n  getNews: (arg0: string) => void;\n  prevModule: string;\n}) => {\n  const { direction, text } = props.language;\n  const { user } = props.auth;\n  const location = props.locations.filter(\n    (el: any) => el._id === user.location\n  )[0];\n\n  const [post, setPost] = useState(props.post);\n  const [deleteConfirmation, setDeleteConfirmation] = useState(false);\n  const [updateConfirmation, showUpdateConfirmation] = useState(false);\n\n  const [muniEdit, setMuniEdit] = useState(false);\n\n  // !\n  const muniUser = user.type === \"muni\";\n  console.log(post.title);\n  const toggleMuniEdit = () => {\n    setMuniEdit(!muniEdit);\n  };\n  const toggleDeleteConfirmation = () => {\n    setDeleteConfirmation(!deleteConfirmation);\n  };\n  const toggleCloseSave = () => {\n    showUpdateConfirmation(!updateConfirmation);\n  };\n  const goHome = () => {\n    props.setModule(props.prevModule);\n  };\n\n  const handleEdits = (editedText: string) => {\n    setPost({ ...post, text: editedText });\n  };\n\n  const handleUpdate = (answer: string) => {\n    // console.log(answer);\n    if (answer === \"attention\") {\n      toggleMuniEdit();\n      setPost(props.post);\n      toggleCloseSave();\n    } else {\n      const url = `/muni/${user.location}`;\n      axios\n        .patch(url, { ...post })\n        .then((response: AxiosResponse<any>) => {\n          toggleMuniEdit();\n          props.getNews(user.location);\n        })\n        .catch((reason: any) => {\n          console.log(reason);\n        });\n    }\n  };\n\n  const handleDelete = (mode: string) => {\n    if (mode === \"secondary\") {\n      const url = `/muni/${user.location}`;\n      axios\n        .put(url, { post: post._id })\n        .then((response: AxiosResponse<any>) => {\n          toggleMuniEdit();\n          props.getNews(user.location);\n        })\n        .catch((reason: any) => {\n          console.log(reason);\n        });\n    }\n  };\n  const handleRemovePhoto = () => {\n    setPost({ ...post, photo: \"\" });\n  };\n  const handleRemoveLink = () => {\n    setPost({ ...post, link: \"\" });\n  };\n  const handleSetPhoto = (photo: string) => {\n    setPost({ ...post, photo });\n  };\n  const handleSetLink = (link: string) => {\n    setPost({ ...post, link });\n  };\n  const handleSetText = (text: string) => {\n    setPost({ ...post, text });\n  };\n\n  const deleteButton = muniEdit ? (\n    <div className={style.deleteButton}>\n      <Button mode='attention' action={toggleDeleteConfirmation}>\n        {text[\"post.delete.button\"]}\n      </Button>\n    </div>\n  ) : null;\n\n  const updateConfirmComponent = updateConfirmation ? (\n    <div>\n      <Confirm\n        text={text[\"post.update.confirm\"]}\n        close={toggleCloseSave}\n        action={handleUpdate}\n        direction={direction}\n      />\n    </div>\n  ) : null;\n\n  const deleteConfirmationComponent = deleteConfirmation ? (\n    <Confirm\n      text={text[\"post.delete.confirm\"]}\n      close={toggleDeleteConfirmation}\n      action={handleDelete}\n      direction={direction}\n    />\n  ) : null;\n  const ageText: { [index: string]: string } = text[\"post.age\"];\n\n  // header\n  let editIcon = muniUser\n    ? {\n        right: {\n          icon: iconEdit(\"secondary\"),\n          action: toggleMuniEdit,\n          noRtl: true\n        }\n      }\n    : null;\n  // edit mode\n  if (muniEdit)\n    editIcon = {\n      right: {\n        icon: iconClose(\"secondary\"),\n        action: toggleCloseSave,\n        noRtl: true\n      }\n    };\n\n  const headerObject = {\n    name: location.name[user.settings.language],\n    ...editIcon,\n    left: { icon: goBack(muniUser ? \"secondary\" : \"primary\"), action: goHome }\n  };\n  console.log(location);\n  return (\n    <Content>\n      <Header {...headerObject} />\n      <Spacer space={7} />\n      <PostCard>\n        <Section direction={direction} padding='0 1rem'>\n          <Spacer space={1} />\n          <Title direction={direction} padding='0 1rem;'>\n            {post.title}\n          </Title>\n          <NumbersLine\n            date={post.createdAt}\n            daysText={ageText}\n            direction={direction}\n          />\n        </Section>\n        <Photo\n          src={post.photo}\n          edit={muniEdit}\n          actions={{ set: handleSetPhoto, remove: handleRemovePhoto }}\n        />\n        <Block>\n          <Link\n            primary\n            text={post.link}\n            direction={direction}\n            edit={muniEdit}\n            actions={{ set: handleSetLink, remove: handleRemoveLink }}\n            editText={{\n              message: text[\"post.link.edit\"],\n              confirm: text[\"confirm\"],\n              cancel: text[\"cancel\"],\n              label: text[\"new.field.link.label\"],\n              placeholder: text[\"new.field.link.prompt\"]\n            }}\n          />\n        </Block>\n        <Text\n          muni\n          text={post.text}\n          direction={direction}\n          edit={muniEdit}\n          action={handleSetText}\n          // setAction={handleUpdate}\n        />\n      </PostCard>\n      {deleteButton}\n      {deleteConfirmationComponent}\n      {updateConfirmComponent}\n    </Content>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    auth: state.auth,\n    language: state.language,\n    locations: state.locations,\n    prevModule: state.prevModule,\n    post: state.news.filter(\n      // @ts-ignore\n      (post: NewsType) => post._id === state.post._id\n    )[0]\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { setModule, getNews }\n)(PostMuni);\n","import React from \"react\";\n\nimport PostUser from \"../features/Post/\";\nimport News from \"../features/Post/News\";\n\nimport { Page } from \"../styles/Page\";\n\nconst Post = (props: { news?: boolean }) => (\n  <Page>{props.news ? <News /> : <PostUser />}</Page>\n);\n\nexport default Post;\n"],"sourceRoot":""}