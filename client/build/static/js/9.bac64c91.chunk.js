(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{127:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(133),i=a.n(o);t.a=function(e){return l.a.createElement("h2",{className:"rtl"===e.direction?i.a.titleR:i.a.title},e.title)}},133:function(e,t,a){e.exports={title:"SubTitle_title__2Xfou",titleR:"SubTitle_titleR__3z-AB"}},154:function(e,t,a){e.exports={container:"PhotoUpload_container__3-TSE","image-template":"PhotoUpload_image-template__1t75u",image:"PhotoUpload_image__1sY1D",imageDef:"PhotoUpload_imageDef__3T8x_",input:"PhotoUpload_input__3S7tz"}},155:function(e,t,a){e.exports={step:"Step_step__3iB9b",filled:"Step_filled__1wVIt"}},156:function(e,t,a){e.exports={"line-template":"Steps_line-template__2LYuQ",line:"Steps_line__2uDDB",lineRTL:"Steps_lineRTL__3xZak"}},157:function(e,t,a){e.exports={message:"Message_message__wCUkq",messageRTL:"Message_messageRTL__pxl-h",messageForm:"Message_messageForm__3meN4",messageFormRTL:"Message_messageFormRTL__17eOj",attention:"Message_attention__384Il",cancel:"Message_cancel__3bI_Z",primary:"Message_primary__eLBOT",secondary:"Message_secondary__8AWKh"}},158:function(e,t,a){e.exports={center:"Center_center__SOzh3",centerBlock:"Center_centerBlock__2xXiY"}},168:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(26),i=a(19),c=a(8),r=a(33),s=a(128),u=a(123),p=a(132),m=a.n(p),d=function(e){return l.a.createElement("div",{className:m.a.wrapper},l.a.createElement("div",{"data-testid":"post__preview",className:m.a.post},l.a.createElement(s.k,{title:e.post.title,category:e.post.category}),e.post.photo?l.a.createElement(s.h,{src:e.post.photo,edit:!1}):null,l.a.createElement(s.b,{primary:!0,text:e.post.link,direction:e.direction,edit:!1}),l.a.createElement("div",{className:m.a.text},l.a.createElement(u.a,{step:!0,title:e.text.problem,text:e.post.problem,direction:e.direction}),e.muni?null:l.a.createElement(u.a,{back:!0,title:e.text.solution,text:e.post.solution||"",direction:e.direction}))))},b=a(20),g=a(15),f=a(6),E=a(31),_=a(42),w=a(136),v=a(24),h=a.n(v),k=a(154),y=a.n(k),x=function(e){var t=l.a.useState(e.photo?e.photo:null),a=Object(i.a)(t,2),n=a[0],o=a[1],c=n?l.a.createElement("img",{src:n,alt:"upload-image",className:y.a.image}):l.a.createElement("img",{src:"https://res.cloudinary.com/diciu4xpu/image/upload/v1560088174/dev/photo.svg",alt:"upload-image",className:y.a.imageDef});return l.a.createElement("div",{className:y.a.container},c,l.a.createElement("input",{id:"file",type:"file",name:"file",className:y.a.input,onChange:function(t){return a=t,void Object(w.b)(a.target.files[0],function(t){var a=Object(w.a)(t);o(a),e.action(t)});var a}}),l.a.createElement("label",{htmlFor:"file",className:h.a.primarySmall},e.label))},O=a(155),j=a.n(O),P=function(e){var t=e.current<e.step+1?j.a.step:j.a.filled;return l.a.createElement("div",{"data-testid":"step-icon",className:t,onClick:function(){return e.action(e.step)}},e.step)},S=a(156),N=a.n(S),M=a(13),T=function(e){var t=N.a[Object(M.a)("line",e.direction)],a=e.muni?[1,2,3]:[1,2,3,4,5];return l.a.createElement("section",{className:t},a.map(function(t){return l.a.createElement(P,{key:t,step:t,current:e.current,action:e.action})}))},R=a(157),F=a.n(R),L=function(e){var t=F.a,a=e.use?e.use[0].toUpperCase()+e.use.slice(1):"",n=t[Object(M.a)("message".concat(a),e.direction)],o=t[e.mode];return l.a.createElement("div",{className:n},l.a.createElement("span",{className:o},e.children))},z=a(100),B=function(e){return l.a.createElement(z.a,{paddedFlat:!0},e.stepOne,e.stepTwo,e.stepThree,e.stepFour,e.stepFive,e.preview,l.a.createElement(L,{direction:e.direction,mode:"attention",use:"form"},e.message),e.loadingElement)},U=a(43),A=a(158),C=a.n(A),D=function(e){var t=C.a["center".concat(e.block?"Block":"")];return l.a.createElement("div",{className:t},e.children)},Z=a(32),I=a(116),Y=a(114),J=a(127),X=a(41),q=a(117),K=function(e){return l.a.createElement(q.a,{direction:e.direction},l.a.createElement("p",{className:"textStandard"},function(e,t){var a="";return t.map(function(t){t.value===e&&(a=t.desc)}),a}(e.category,e.categories)))},Q=a(106),V=Object(c.b)(function(e){return{auth:e.auth,language:e.language,categories:e.categories,locations:e.locations,token:e.token,submitResult:e.submitPost,step:e.step,prevModule:e.prevModule,newPost:e.newPost,loading:e.loading}},{setStep:b.c,setModule:f.setModule,typingPost:g.i,setLoading:f.setLoading,createPost:g.b})(function(e){var t=e.language,a=e.categories,c=e.newPost,s=e.typingPost,u=e.step,p=e.setStep,m=t.direction,b=t.text,g=t.short,f=l.a.useState(!1),w=Object(i.a)(f,2),v=w[0],h=w[1],k=c.title,y=c.category,O=c.problem,j=c.solution,P=c.photo,S=c.link,N=l.a.useState(""),M=Object(i.a)(N,2),R=M[0],F=M[1];Object(n.useEffect)(function(){6===u&&!1===v&&h(!0)},[u]),Object(n.useEffect)(function(){s({category:a[0]._id})},[]);var L=function(e){var t=e.target,a=t.name,n=t.value;F(""),s(Object(o.a)({},a,n))},A=b["new.steps.title"],C=l.a.createElement(T,{current:u,direction:m,action:function(e){v&&p(e)}}),q=l.a.createElement(E.a,{mode:"primary",action:function(){var e="";if(u+1<=6){var t=b["new.message.fieldEmpty"];switch(u){case 1:e=k;break;case 2:e=y;break;case 3:e=O;break;case 4:e=j;break;case 5:S?(e=new RegExp("^([0-9A-Za-z-\\.@:%_+~#=]+)+((\\.[a-zA-Z]{2,3})+)(/(.)*)?(\\?(.)*)?").test(S)?"true":"")||(t=b["new.message.urlMalformed"]):e=" "}console.log(e),e?(F(""),p(u+1)):F(t)}}},b["new.steps.button.next"]);6===u&&(C=l.a.createElement(X.c,null),A=b["new.preview"],q=l.a.createElement(E.a,{mode:"primary",action:function(){e.createPost(c)}},b["new.steps.button.submit"]));var V=1===u?Object(r.a)({label:b["new.field.title.label"],type:"text",name:"title",value:k,placeholder:b["new.field.title.prompt"],action:L,length:2,focus:!0}):null,W=function(){var e=[];return Object.values(a).map(function(t){e.push({value:t._id,label:t.name[g],desc:t.description[g]})}),e}(),G=2===u?l.a.createElement("div",{className:"none"},Object(r.b)({list:W,direction:m,label:b["new.field.category.label"],action:function(e){s({category:e.target.value})},focus:!0,value:y}),l.a.createElement(K,{direction:m,category:y,categories:W})):null,H=3===u?Object(r.a)({label:b["new.field.problem.label"],type:"textarea",name:"problem",value:O,placeholder:b["new.field.problem.prompt"],action:L,length:50,focus:!0}):null,$=4===u?Object(r.a)({label:b["new.field.solution.label"],type:"textarea",name:"solution",value:j,placeholder:b["new.field.solution.prompt"],action:L,length:50,focus:!0}):null,ee=5===u?l.a.createElement(I.a,null,l.a.createElement(Z.a,{direction:m,value:b["new.field.photo.label"]}),l.a.createElement(x,{label:b["new.field.photo.prompt"],direction:m,action:function(e){s({photo:e})},photo:P}),Object(r.a)({label:b["new.field.link.label"],type:"url",name:"link",value:S,placeholder:b["new.field.link.prompt"],action:L,length:5})):null,te=Object(Q.a)(a,e.language.short,y),ae={title:k,category:te,problem:O,solution:j,photo:P,link:S},ne=6===u?l.a.createElement(d,{post:ae,direction:m,text:{problem:b["post.problem"],solution:b["post.solution"]}}):null,le=e.loading?l.a.createElement(_.a,null):null;l.a.createElement("div",null,"back");return l.a.createElement(z.a,{padded:!0},l.a.createElement(D,null,l.a.createElement(J.a,{title:A,direction:m}),C),l.a.createElement(Y.a,{direction:m},b["new.steps.step.".concat(u)]),l.a.createElement(B,{stepOne:V,stepTwo:G,stepThree:H,stepFour:$,stepFive:ee,preview:ne,loadingElement:le,direction:m,message:R}),l.a.createElement(U.a,{row:!0,direction:m},q,l.a.createElement(E.a,{mode:"secondary",disabled:1===u,action:function(){u-1>0&&p(u-1)}},b["new.steps.button.back"])))}),W=Object(c.b)(function(e){return{auth:e.auth,language:e.language,categories:e.categories,locations:e.locations,token:e.token,submitResult:e.submitPost,step:e.step,prevModule:e.prevModule,newPost:e.newPost,loading:e.loading}},{setStep:b.c,setModule:f.setModule,createNews:g.a,typingPost:g.i})(function(e){var t=e.language,a=e.newPost,c=e.typingPost,s=e.loading,u=e.step,p=e.setStep,m=t.direction,b=t.text,g=(t.short,l.a.useState(!1)),f=Object(i.a)(g,2),w=f[0],v=f[1],h=a.title,k=a.photo,y=a.link,O=l.a.useState(""),j=Object(i.a)(O,2),P=j[0],S=j[1];Object(n.useEffect)(function(){6===u&&!1===w&&v(!0)},[u]);var N=function(e){var t=e.target,a=t.name,n=t.value;S(""),c(Object(o.a)({},a,n))},M=b["new.steps.title"],R=l.a.createElement(T,{muni:!0,current:u,direction:m,action:function(e){w&&p(e)}}),F=l.a.createElement(E.a,{mode:"primary",action:function(){var t="";if(u+1<=4){var a=b["new.message.fieldEmpty"];switch(u){case 1:t=h;break;case 2:t=e.newPost.text;break;case 3:y?(t=new RegExp("^([0-9A-Za-z-\\.@:%_+~#=]+)+((\\.[a-zA-Z]{2,3})+)(/(.)*)?(\\?(.)*)?").test(y)?"true":"")||(a=b["new.message.urlMalformed"]):t=""}console.log(t),t?(S(""),p(u+1)):S(a)}}},b["new.steps.button.next"]);4===u&&(R=l.a.createElement(X.c,null),M=b["new.preview"],F=l.a.createElement(E.a,{mode:"primary",action:function(){e.createNews(a)}},b["new.steps.button.submit"]));var L=1===u?Object(r.a)({label:b["new.field.title.label"],type:"text",name:"title",value:h,placeholder:b["new.field.title.prompt"],action:N,length:2,focus:!0}):null,A=2===u?Object(r.a)({label:b["new.field.problem.label"],type:"textarea",name:"text",value:e.newPost.text,placeholder:b["new.field.problem.prompt"],action:N,length:50,focus:!0}):null,C=3===u?l.a.createElement(I.a,null,l.a.createElement(Z.a,{direction:m,value:b["new.field.photo.label"]}),l.a.createElement(x,{label:b["new.field.photo.prompt"],direction:m,action:function(e){c({photo:e})},photo:k}),Object(r.a)({label:b["new.field.link.label"],type:"url",name:"link",value:y,placeholder:b["new.field.link.prompt"],action:N,length:5})):null,q={title:h,problem:e.newPost.text,photo:k,link:y},K=4===u?l.a.createElement(d,{muni:!0,post:q,direction:m,text:{problem:b["post.problem"],solution:b["post.solution"]}}):null,Q=s?l.a.createElement(_.a,null):null;l.a.createElement("div",null,"back");return l.a.createElement(z.a,{padded:!0},l.a.createElement(D,null,l.a.createElement(J.a,{title:M,direction:m}),R),l.a.createElement(Y.a,{direction:m},b["new.steps.step.".concat(u)]),l.a.createElement(B,{stepOne:L,stepTwo:A,stepThree:C,preview:K,loadingElement:Q,direction:m,message:P}),l.a.createElement(U.a,{row:!0,direction:m},F,l.a.createElement(E.a,{mode:"secondary",disabled:1===u,action:function(){u-1>0&&p(u-1)}},b["new.steps.button.back"])))}),G=a(40);t.default=function(e){return l.a.createElement(G.a,{opposite:!0},e.muni?l.a.createElement(W,null):l.a.createElement(V,null))}}}]);
//# sourceMappingURL=9.bac64c91.chunk.js.map