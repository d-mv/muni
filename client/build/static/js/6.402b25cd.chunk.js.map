{"version":3,"sources":["layout/SubTitle.tsx","layout/style/SubTitle.module.scss","features/New/components/styles/PhotoUpload.module.scss","features/New/components/styles/Step.module.scss","features/New/components/styles/Steps.module.scss","components/style/Message.module.scss","layout/style/Center.module.scss","features/New/components/Preview.tsx","features/New/components/PhotoUpload.tsx","features/New/components/Step.tsx","features/New/components/Steps.tsx","components/Message.tsx","features/New/components/ContentBlock.tsx","layout/Center.tsx","features/New/components/CatDescription.tsx","features/New/index.tsx","pages/New.tsx"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_style_SubTitle_module_scss__WEBPACK_IMPORTED_MODULE_1__","_style_SubTitle_module_scss__WEBPACK_IMPORTED_MODULE_1___default","SubTitle","props","a","createElement","className","direction","styles","titleR","title","module","exports","container","image","imageDef","input","step","filled","line-template","line","lineRTL","message","messageRTL","messageForm","messageFormRTL","attention","cancel","primary","secondary","center","centerBlock","Preview","_props$post","post","category","problem","solution","photo","link","numbersLine","react_default","style","wrapper","data-testid","components","src","edit","text","back","PhotoUpload","_React$useState","React","useState","_React$useState2","Object","slicedToArray","setPhoto","showPhoto","alt","id","type","name","onChange","e","event","imageEncoder","target","files","image64","imageDecoder","action","htmlFor","button","primarySmall","label","Step","iconStyle","current","onClick","Steps","stepsStyle","styleFactory","map","components_Step","key","Message","use","toUpperCase","slice","messageStyle","concat","messageMode","mode","children","ContentBlock","Content","paddedFlat","stepOne","stepTwo","stepThree","stepFour","stepFive","preview","components_Message","loadingElement","Center","centerStyle","block","CatDescription","Line","_id","categories","result","cat","description","getCategoryDescription","connect","state","language","location","locationData","token","submitResult","submitPost","prevModule","setStep","setModule","_props$language","_props$location","_React$useState3","_React$useState4","review","setReview","_React$useState5","_React$useState6","loading","setLoading","_React$useState7","_React$useState8","setTitle","_React$useState9","_React$useState10","setCategory","_React$useState11","_React$useState12","setProblem","_React$useState13","_React$useState14","setSolution","_React$useState15","_React$useState16","_React$useState17","_React$useState18","setLink","_React$useState19","_React$useState20","setMessage","useEffect","handleInputChange","value","pageSubTitle","stepsComponent","components_Steps","newStep","buttonPrimary","Button","check","response","RegExp","test","Utils","objectToSubmit","user","axios","then","data","status","catch","error","toString","formSection","placeholder","length","focus","formSelection","list","keys","includes","short","push","getCategories","components_CatDescription","Section","Label","components_PhotoUpload","categoryName","categoryIdToName","Preview_Preview","Loading","console","log","padded","layout_Center","Paragraph","components_ContentBlock","ButtonsWrapper","row","disabled","New","Page","opposite","features_New"],"mappings":"0FAAA,IAAAA,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAI,EAAAH,EAAA,KAAAI,EAAAJ,EAAAE,EAAAC,GAYeE,IARE,SAACC,GAChB,OACEL,EAAAM,EAAAC,cAAA,MAAIC,UAA+B,QAApBH,EAAMI,UAAsBC,IAAOC,OAASD,IAAOE,OAC/DP,EAAMO,6BCNbC,EAAAC,QAAA,CAAkBF,MAAA,wBAAAD,OAAA,+CCAlBE,EAAAC,QAAA,CAAkBC,UAAA,+BAAAC,MAAA,2BAAAC,SAAA,8BAAAC,MAAA,iDCAlBL,EAAAC,QAAA,CAAkBK,KAAA,mBAAAC,OAAA,2CCAlBP,EAAAC,QAAA,CAAkBO,gBAAA,6BAAAC,KAAA,oBAAAC,QAAA,6CCAlBV,EAAAC,QAAA,CAAkBU,QAAA,yBAAAC,WAAA,4BAAAC,YAAA,6BAAAC,eAAA,gCAAAC,UAAA,2BAAAC,OAAA,wBAAAC,QAAA,yBAAAC,UAAA,iDCAlBlB,EAAAC,QAAA,CAAkBkB,OAAA,uBAAAC,YAAA,4JCGLC,EAAU,SAAC7B,GAWlB,IAAA8B,EACwD9B,EAAM+B,KAA1DxB,EADJuB,EACIvB,MAAOyB,EADXF,EACWE,SAAUC,EADrBH,EACqBG,QAASC,EAD9BJ,EAC8BI,SAAUC,EADxCL,EACwCK,MAAOC,EAD/CN,EAC+CM,KAC7CC,EAAcC,EAAArC,EAAAC,cAAA,aACpB,OACEoC,EAAArC,EAAAC,cAAA,OAAKC,UAAWoC,IAAMC,SACpBF,EAAArC,EAAAC,cAAA,OAAKuC,cAAY,gBAAgBtC,UAAWoC,IAAMR,MAChDO,EAAArC,EAAAC,cAACwC,EAAA,EAAD,CAAUV,SAAUA,EAAUzB,MAAOA,EAAO8B,YAAaA,IACxDF,EAAQG,EAAArC,EAAAC,cAACwC,EAAA,EAAD,CAAOC,IAAKR,EAAOS,MAAM,IAAY,KAC9CN,EAAArC,EAAAC,cAACwC,EAAA,EAAD,CAAMjB,SAAO,EAACoB,KAAMT,EAAMhC,UAAWJ,EAAMI,UAAWwC,MAAM,IAC5DN,EAAArC,EAAAC,cAAA,OAAKC,UAAWoC,IAAMM,MACpBP,EAAArC,EAAAC,cAACwC,EAAA,EAAD,CACE5B,MAAI,EACJP,MAAOP,EAAM6C,KAAKZ,QAClBY,KAAMZ,EACN7B,UAAWJ,EAAMI,YAEnBkC,EAAArC,EAAAC,cAACwC,EAAA,EAAD,CACEI,MAAI,EACJvC,MAAOP,EAAM6C,KAAKX,SAClBW,KAAMX,EACN9B,UAAWJ,EAAMI,mGCgBd2C,EA7CK,SAAC/C,GAMnB,IADIgD,EAGsBC,IAAMC,SAASlD,EAAMmC,MAAQnC,EAAMmC,MAAQ,MAHjEgB,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GAGGb,EAHHgB,EAAA,GAGUG,EAHVH,EAAA,GAiBEI,EAAYpB,EAChBG,EAAArC,EAAAC,cAAA,OAAKyC,IAAKR,EAAOqB,IAAI,eAAerD,UAAWoC,IAAM5B,QAErD2B,EAAArC,EAAAC,cAAA,OAAKyC,IAlBL,8EAkBwBa,IAAI,eAAerD,UAAWoC,IAAM3B,WAG9D,OACE0B,EAAArC,EAAAC,cAAA,OAAKC,UAAWoC,IAAM7B,WACnB6C,EACDjB,EAAArC,EAAAC,cAAA,SACEuD,GAAG,OACHC,KAAK,OACLC,KAAK,OACLxD,UAAWoC,IAAM1B,MACjB+C,SAAU,SAACC,GAAD,OAtBKC,EAsBmDD,OArBtEE,YAAaD,EAAME,OAAOC,MAAM,GAAI,SAACC,GACnC,IAAMvD,EAAQwD,YAAaD,GAC3BZ,EAAS3C,GACTX,EAAMoE,OAAOF,KAJG,IAACJ,KAwBjBxB,EAAArC,EAAAC,cAAA,SAAOmE,QAAQ,OAAOlE,UAAWmE,IAAOC,cACrCvE,EAAMwE,2BCzBAC,EAhBF,SAACzE,GAKZ,IAAM0E,EAAY1E,EAAM2E,QAAU3E,EAAMc,KAAO,EAAIyB,IAAMzB,KAAOyB,IAAMxB,OACtE,OACEuB,EAAArC,EAAAC,cAAA,OACEuC,cAAY,YACZtC,UAAWuE,EACXE,QAAS,kBAAM5E,EAAMoE,OAAOpE,EAAMc,QACjCd,EAAMc,iCCqBE+D,EAtBD,SAAC7E,GAKb,IAAM8E,EAAavC,IAAMwC,YAAa,OAAQ/E,EAAMI,YACpD,OACEkC,EAAArC,EAAAC,cAAA,WAASC,UAAW2E,GACjB,CAAC,EAAG,EAAG,EAAG,EAAG,GAAGE,IAAI,SAAClE,GACpB,OACEwB,EAAArC,EAAAC,cAAC+E,EAAD,CACEC,IAAKpE,EACLA,KAAMA,EACN6D,QAAS3E,EAAM2E,QACfP,OAAQpE,EAAMoE,+BCLXe,EAZC,SAACnF,GACf,IAAMK,EAAckC,IACd6C,EAAMpF,EAAMoF,IAAMpF,EAAMoF,IAAI,GAAGC,cAAgBrF,EAAMoF,IAAIE,MAAM,GAAK,GACpEC,EAAelF,EAAO0E,YAAY,UAAAS,OAAWJ,GAAOpF,EAAMI,YAC1DqF,EAAcpF,EAAOL,EAAM0F,MACjC,OACEpD,EAAArC,EAAAC,cAAA,OAAKC,UAAWoF,GACdjD,EAAArC,EAAAC,cAAA,QAAMC,UAAWsF,GAAczF,EAAM2F,oBCc5BC,EA1BM,SAAC5F,GAAD,OAYnBsC,EAAArC,EAAAC,cAAC2F,EAAA,EAAD,CAASC,YAAU,GAChB9F,EAAM+F,QACN/F,EAAMgG,QACNhG,EAAMiG,UACNjG,EAAMkG,SACNlG,EAAMmG,SACNnG,EAAMoG,QACP9D,EAAArC,EAAAC,cAACmG,EAAD,CAASjG,UAAWJ,EAAMI,UAAWsF,KAAK,YAAYN,IAAI,QACvDpF,EAAMmB,SAERnB,EAAMsG,2CCVIC,EANA,SAACvG,GAEd,IAAMwG,EAAcnG,IAAM,SAAAmF,OAAUxF,EAAMyG,MAAQ,QAAU,KAC5D,OAAOnE,EAAArC,EAAAC,cAAA,OAAKC,UAAWqG,GAAcxG,EAAM2F,+DCY9Be,EAdQ,SAAC1G,GAKtB,OACEsC,EAAArC,EAAAC,cAACyG,EAAA,EAAD,CAAMvG,UAAWJ,EAAMI,WACrBkC,EAAArC,EAAAC,cAAA,KAAGC,UAAU,gBAhBY,SAACyG,EAAaC,GAC3C,IAAIC,EAAS,GAKb,OAJAD,EAAW7B,IAAI,SAAC+B,GACVA,EAAIH,MAAQA,IAAKE,EAASC,EAAIC,eAG7BF,EAWAG,CAAuBjH,EAAMgC,SAAUhC,EAAM6G,uBC+WvCK,cAXS,SAACC,GACvB,MAAO,CACLC,SAAUD,EAAMC,SAChBC,SAAUF,EAAMG,aAChBC,MAAOJ,EAAMI,MACbC,aAAcL,EAAMM,WACpB3G,KAAMqG,EAAMrG,KACZ4G,WAAYP,EAAMO,aAMpB,CAAEC,YAASF,eAAYG,eAFVV,CAtWC,SAAClH,GAUX,IAAA6H,EACwB7H,EAAMoH,SAA1BhH,EADJyH,EACIzH,UAAWyC,EADfgF,EACehF,KADfiF,EAEkC9H,EAAMqH,SAApCR,EAFJiB,EAEIjB,WAAYD,EAFhBkB,EAEgBlB,IAAKS,EAFrBS,EAEqBT,SAFrBrE,EAGoBC,IAAMC,SAASlD,EAAMc,MAHzCqC,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GAGGlC,EAHHqC,EAAA,GAGSwE,EAHTxE,EAAA,GAAA4E,EAIwB9E,IAAMC,UAAS,GAJvC8E,EAAA5E,OAAAC,EAAA,EAAAD,CAAA2E,EAAA,GAIGE,EAJHD,EAAA,GAIWE,EAJXF,EAAA,GAAAG,EAK0BlF,IAAMC,UAAS,GALzCkF,EAAAhF,OAAAC,EAAA,EAAAD,CAAA+E,EAAA,GAKGE,EALHD,EAAA,GAKYE,EALZF,EAAA,GAAAG,EAOsBtF,IAAMC,SAAS,IAPrCsF,EAAApF,OAAAC,EAAA,EAAAD,CAAAmF,EAAA,GAOGhI,EAPHiI,EAAA,GAOUC,EAPVD,EAAA,GAAAE,EAQ4BzF,IAAMC,SAAS2D,EAAW,GAAGD,KARzD+B,EAAAvF,OAAAC,EAAA,EAAAD,CAAAsF,EAAA,GAQG1G,EARH2G,EAAA,GAQaC,EARbD,EAAA,GAAAE,EAS0B5F,IAAMC,SAAS,IATzC4F,EAAA1F,OAAAC,EAAA,EAAAD,CAAAyF,EAAA,GASG5G,EATH6G,EAAA,GASYC,EATZD,EAAA,GAAAE,EAU4B/F,IAAMC,SAAS,IAV3C+F,EAAA7F,OAAAC,EAAA,EAAAD,CAAA4F,EAAA,GAUG9G,GAVH+G,EAAA,GAUaC,GAVbD,EAAA,GAAAE,GAWsBlG,IAAMC,SAAS,IAXrCkG,GAAAhG,OAAAC,EAAA,EAAAD,CAAA+F,GAAA,GAWGhH,GAXHiH,GAAA,GAWU9F,GAXV8F,GAAA,GAAAC,GAYoBpG,IAAMC,SAAS,IAZnCoG,GAAAlG,OAAAC,EAAA,EAAAD,CAAAiG,GAAA,GAYGjH,GAZHkH,GAAA,GAYSC,GAZTD,GAAA,GAAAE,GAc0BvG,IAAMC,SAAS,IAdzCuG,GAAArG,OAAAC,EAAA,EAAAD,CAAAoG,GAAA,GAcGrI,GAdHsI,GAAA,GAcYC,GAdZD,GAAA,GAgBJxG,IAAM0G,UAAU,WACD,IAAT7I,IAAyB,IAAXmH,GAChBC,GAAU,IAEX,CAACpH,IAEJ,IA6DM8I,GAAoB,SAAC9F,GAEzB,OADA4F,GAAW,IACH5F,EAAME,OAAOL,MACnB,IAAK,QACH8E,EAAS3E,EAAME,OAAO6F,OACtB,MACF,IAAK,UACHd,EAAWjF,EAAME,OAAO6F,OACxB,MACF,IAAK,WACHX,GAAYpF,EAAME,OAAO6F,OACzB,MACF,IAAK,OACHN,GAAQzF,EAAME,OAAO6F,SA6EvBC,GAAejH,EAAK,mBACpBkH,GACFzH,EAAArC,EAAAC,cAAC8J,EAAD,CAAOrF,QAAS7D,EAAMV,UAAWA,EAAWgE,OAlGxB,SAAC6F,GACjBhC,GACFN,EAAQsC,MAkGRC,GACF5H,EAAArC,EAAAC,cAACiK,EAAA,EAAD,CAAQzE,KAAK,UAAUtB,OAjJF,WACrB,GAAItD,EAAO,GAAK,EAAG,CACjB,IAAIsJ,GAAiB,EACjBC,EAAmBxH,EAAK,0BAC5B,OAAQ/B,GACN,KAAK,EACHsJ,EAAkB,KAAV7J,EACR,MACF,KAAK,EACH6J,EAAqB,KAAbpI,EACR,MACF,KAAK,EACHoI,EAAoB,KAAZnI,EACR,MACF,KAAK,EACHmI,EAAqB,KAAblI,GACR,MACF,KAAK,EACCE,MAIFgI,EAHc,IAAIE,OAChB,uEAEYC,KAAKnI,OAEjBiI,EAAWxH,EAAK,8BAKpBuH,GACFV,GAAW,IACX/B,EAAQ7G,EAAO,IAEf4I,GAAWW,MAiHZxH,EAAK,0BAIG,IAAT/B,IACFiJ,GAAiBzH,EAAArC,EAAAC,cAACsK,EAAA,EAAD,MACjBV,GAAejH,EAAK,eACpBqH,GACE5H,EAAArC,EAAAC,cAACiK,EAAA,EAAD,CAAQzE,KAAK,UAAUtB,OA/EN,WACnB,IAAMqG,EAAgC,CACpCC,KAAM9D,EACNS,WACAE,MAAOvH,EAAMuH,MACbxF,KAAM,CACJxB,QACAyB,WACAC,UACAC,YACAC,SACAC,UAgCJuI,IACG5I,KAFS,eAEC0I,GACVG,KAAK,SAACP,GACL/B,GAAW,GACXoB,GAAWW,EAASQ,KAAK1J,SACrBkJ,EAASS,QACX9K,EAAM4H,UAAU,UAGnBmD,MAAM,SAAAC,GACWA,EAAMX,SAAWW,EAAMX,SAASQ,KAAOG,EAAMC,aAI/D3C,GAAW,GACXtI,EAAM2H,QAAQ,GACd3H,EAAMyH,WAAWgD,KAqBd5H,EAAK,6BAKZ,IAAMkD,GACK,IAATjF,EACIoK,YAAY,CACV1G,MAAO3B,EAAK,yBACZa,KAAM,OACNC,KAAM,QACNkG,MAAOtJ,EACP4K,YAAatI,EAAK,0BAClBuB,OAAQwF,GACRwB,OAAQ,EACRC,OAAO,IAET,KAEArF,GACK,IAATlF,EACEwB,EAAArC,EAAAC,cAAA,OAAKC,UAAU,QACZmL,YAAc,CACbC,KA7Lc,WACpB,IAAIzE,EAA6C,GAOjD,OANAD,EAAW7B,IAAI,SAAC+B,GACd,IAAMK,EAAYhE,OAAOoI,KAAKzE,GAAK0E,SAASzL,EAAMoH,SAASsE,OAEvD1L,EAAMoH,SAASsE,MADf,eAEJ5E,EAAO6E,KAAK,CAAE9B,MAAO9C,EAAIH,IAAKpC,MAAOuC,EAAIK,OAEpCN,EAqLK8E,GACNxL,YACAoE,MAAO3B,EAAK,4BACZuB,OAlHe,SAACN,GACtB8E,EAAY9E,EAAME,OAAO6F,QAkHnBwB,OAAO,IAET/I,EAAArC,EAAAC,cAAC2L,EAAD,CACEzL,UAAWA,EACX4B,SAAUA,EACV6E,WAAYA,KAGd,KAEAZ,GACK,IAATnF,EACIoK,YAAY,CACV1G,MAAO3B,EAAK,2BACZa,KAAM,WACNC,KAAM,UACNkG,MAAO5H,EACPkJ,YAAatI,EAAK,4BAClBuB,OAAQwF,GACRwB,OAAQ,GACRC,OAAO,IAET,KACAnF,GACK,IAATpF,EACIoK,YAAY,CACV1G,MAAO3B,EAAK,4BACZa,KAAM,WACNC,KAAM,WACNkG,MAAO3H,GACPiJ,YAAatI,EAAK,6BAClBuB,OAAQwF,GACRwB,OAAQ,GACRC,OAAO,IAET,KACAlF,GACK,IAATrF,EACEwB,EAAArC,EAAAC,cAAC4L,EAAA,EAAD,KACExJ,EAAArC,EAAAC,cAAC6L,EAAA,EAAD,CAAO3L,UAAWA,EAAWyJ,MAAOhH,EAAK,2BACzCP,EAAArC,EAAAC,cAAC8L,EAAD,CACExH,MAAO3B,EAAK,0BACZzC,UAAWA,EACXgE,OA1Je,SAACpE,GACtBsD,GAAStD,IA0JHmC,MAAOA,KAER+I,YAAY,CACX1G,MAAO3B,EAAK,wBACZa,KAAM,MACNC,KAAM,OACNkG,MAAOzH,GACP+I,YAAatI,EAAK,yBAClBuB,OAAQwF,GACRwB,OAAQ,KAGV,KAIAa,GAAeC,YAAiBrF,EAAY7G,EAAMoH,SAASsE,MAAO1J,GAGlED,GAAO,CACXxB,QACAyB,SAAUiK,GACVhK,UACAC,YACAC,SACAC,SAGIgE,GACK,IAATtF,EACEwB,EAAArC,EAAAC,cAACiM,EAAD,CACEpK,KAAMA,GACN3B,UAAWA,EACXyC,KAAM,CACJZ,QAASY,EAAK,gBACdX,SAAUW,EAAK,oBAGjB,KACAyD,GAAiB+B,EAAU/F,EAAArC,EAAAC,cAACkM,EAAA,EAAD,MAAc,KAO/B9J,EAAArC,EAAAC,cAAA,mBAGhB,OADFmM,QAAQC,IAAInL,IAERmB,EAAArC,EAAAC,cAAC2F,EAAA,EAAD,CAAS0G,QAAM,GAEbjK,EAAArC,EAAAC,cAACsM,EAAD,KACElK,EAAArC,EAAAC,cAACH,EAAA,EAAD,CAAUQ,MAAOuJ,GAAc1J,UAAWA,IACzC2J,IAEHzH,EAAArC,EAAAC,cAACuM,EAAA,EAAD,CAAWrM,UAAWA,GAAYyC,EAAI,kBAAA2C,OAAmB1E,KACzDwB,EAAArC,EAAAC,cAACwM,EAAD,CACE3G,QAASA,GACTC,QAASA,GACTC,UAAWA,GACXC,SAAUA,GACVC,SAAUA,GACVC,QAASA,GACTE,eAAgBA,GAChBlG,UAAWA,EACXe,QAASA,KAEXmB,EAAArC,EAAAC,cAACyM,EAAA,EAAD,CAAgBC,KAAG,EAACxM,UAAWA,GAC5B8J,GACD5H,EAAArC,EAAAC,cAACiK,EAAA,EAAD,CAAQzE,KAAK,YAAYmH,SAAmB,IAAT/L,EAAYsD,OAlQ9B,WACjBtD,EAAO,EAAI,GACb6G,EAAQ7G,EAAO,KAiQV+B,EAAK,sCCpWDiK,UARH,WACV,OACExK,EAAArC,EAAAC,cAAC6M,EAAA,EAAD,CAAMC,UAAQ,GACZ1K,EAAArC,EAAAC,cAAC+M,EAAD","file":"static/js/6.402b25cd.chunk.js","sourcesContent":["import React from \"react\";\n\nimport styles from \"./style/SubTitle.module.scss\";\n\nconst SubTitle = (props: { title: string; direction: string }) => {\n  return (\n    <h2 className={props.direction === \"rtl\" ? styles.titleR : styles.title}>\n      {props.title}\n    </h2>\n  );\n};\n\nexport default SubTitle;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"SubTitle_title__2Xfou\",\"titleR\":\"SubTitle_titleR__3z-AB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PhotoUpload_container__1-JOj\",\"image\":\"PhotoUpload_image__2Zabf\",\"imageDef\":\"PhotoUpload_imageDef__2JDPm\",\"input\":\"PhotoUpload_input__1piRJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"step\":\"Step_step__2Ob0-\",\"filled\":\"Step_filled__1vPZN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"line-template\":\"Steps_line-template__1pr6S\",\"line\":\"Steps_line__3O_Uu\",\"lineRTL\":\"Steps_lineRTL__3yzCh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__wCUkq\",\"messageRTL\":\"Message_messageRTL__pxl-h\",\"messageForm\":\"Message_messageForm__3meN4\",\"messageFormRTL\":\"Message_messageFormRTL__17eOj\",\"attention\":\"Message_attention__384Il\",\"cancel\":\"Message_cancel__3bI_Z\",\"primary\":\"Message_primary__eLBOT\",\"secondary\":\"Message_secondary__8AWKh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"center\":\"Center_center__SOzh3\",\"centerBlock\":\"Center_centerBlock__2xXiY\"};","import React from \"react\";\nimport { TopBlock, Photo, Link, Text } from \"../../Post/components\";\nimport style from \"../../Post/style/Post.module.scss\";\n\nexport const Preview = (props: {\n  post: {\n    title: string;\n    category: string;\n    problem: string;\n    solution: string;\n    photo: string;\n    link: string;\n  };\n  direction: string;\n  text: { problem: string; solution: string };\n}) => {\n  const { title, category, problem, solution, photo, link } = props.post;\n  const numbersLine = <span />;\n  return (\n    <div className={style.wrapper}>\n      <div data-testid='post__preview' className={style.post}>\n        <TopBlock category={category} title={title} numbersLine={numbersLine} />\n        {photo ? <Photo src={photo} edit={false} /> : null}\n        <Link primary text={link} direction={props.direction} edit={false} />\n        <div className={style.text}>\n          <Text\n            step\n            title={props.text.problem}\n            text={problem}\n            direction={props.direction}\n          />\n          <Text\n            back\n            title={props.text.solution}\n            text={solution}\n            direction={props.direction}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { imageDecoder, imageEncoder } from \"../../../modules/image_coder\";\n\nimport button from \"../../../components/style/Button.module.scss\";\nimport style from \"./styles/PhotoUpload.module.scss\";\n\nconst PhotoUpload = (props: {\n  label: string;\n  direction: string;\n  action: (arg0: any) => void;\n  photo?: string;\n}) => {\n  const defaultPhoto =\n    \"https://res.cloudinary.com/diciu4xpu/image/upload/v1560088174/dev/photo.svg\";\n  const [photo, setPhoto] = React.useState(props.photo ? props.photo : null);\n\n  /**\n   * Function to convert file to base64, send it to props,set local URL as preview\n   * @params {Array} files - File selected by client\n   */\n  const getBaseFile = (event: any) => {\n    imageEncoder(event.target.files[0], (image64: any) => {\n      const image = imageDecoder(image64);\n      setPhoto(image);\n      props.action(image64);\n    });\n  };\n\n  const showPhoto = photo ? (\n    <img src={photo} alt='upload-image' className={style.image} />\n  ) : (\n    <img src={defaultPhoto} alt='upload-image' className={style.imageDef} />\n  );\n\n  return (\n    <div className={style.container}>\n      {showPhoto}\n      <input\n        id='file'\n        type='file'\n        name='file'\n        className={style.input}\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) => getBaseFile(e)}\n      />\n      <label htmlFor='file' className={button.primarySmall}>\n        {props.label}\n      </label>\n    </div>\n  );\n};\n\nexport default PhotoUpload;\n","import React from \"react\";\n\nimport style from \"./styles/Step.module.scss\";\n\nconst Step = (props: {\n  step: number;\n  current: number;\n  action: (arg0: number) => void;\n}) => {\n  const iconStyle = props.current < props.step + 1 ? style.step : style.filled;\n  return (\n    <div\n      data-testid='step-icon'\n      className={iconStyle}\n      onClick={() => props.action(props.step)}>\n      {props.step}\n    </div>\n  );\n};\n\nexport default Step;\n","import React from \"react\";\n\nimport Step from \"./Step\";\n\nimport style from \"./styles/Steps.module.scss\";\nimport styleFactory from \"../../../modules/style_factory\";\n\n/**\n * Function to create React.FunctionalComponent with set of step icons, clickable\n *\n * @param {Object} props\n *\n * @returns {React.FC}\n */\nconst Steps = (props: {\n  current: number;\n  direction: string;\n  action: (arg0: number) => void;\n}) => {\n  const stepsStyle = style[styleFactory(\"line\", props.direction)];\n  return (\n    <section className={stepsStyle}>\n      {[1, 2, 3, 4, 5].map((step: number) => {\n        return (\n          <Step\n            key={step}\n            step={step}\n            current={props.current}\n            action={props.action}\n          />\n        );\n      })}\n    </section>\n  );\n};\n\nexport default Steps;\n","import React from \"react\";\n\nimport styleFactory from \"../modules/style_factory\";\n\nimport style from \"./style/Message.module.scss\";\n\n/**\n * React JSX component to wrap message\n * @param {object} props - Children to display, mode/color\n * @returns {JSX.Element}\n */\nconst Message = (props: { children: any; direction: string; mode: string;use?:string }) => {\n  const styles: any = style;\n  const use = props.use ? props.use[0].toUpperCase() + props.use.slice(1) : ''\n  const messageStyle = styles[styleFactory(`message${use}`, props.direction)];\n  const messageMode = styles[props.mode];\n  return (\n    <div className={messageStyle}>\n      <span className={messageMode}>{props.children}</span>\n    </div>\n  );\n};\n\nexport default Message;\n","import React from \"react\";\n\nimport Message from \"../../../components/Message\";\n\nimport Content from \"../../../layout/Content\";\n\nconst ContentBlock = (props: {\n  stepOne: React.ClassicElement<any> | null;\n  stepTwo: React.ClassicElement<any> | null;\n  stepThree: React.ClassicElement<any> | null;\n  stepFour: React.ClassicElement<any> | null;\n  stepFive: React.ClassicElement<any> | null;\n  preview: React.ClassicElement<any> | null;\n  loadingElement: React.ClassicElement<any> | null;\n  message: string;\n\n  direction: string;\n}) => (\n  <Content paddedFlat>\n    {props.stepOne}\n    {props.stepTwo}\n    {props.stepThree}\n    {props.stepFour}\n    {props.stepFive}\n    {props.preview}\n    <Message direction={props.direction} mode='attention' use='form'>\n      {props.message}\n    </Message>\n    {props.loadingElement}\n  </Content>\n);\n\nexport default ContentBlock;\n","import React from \"react\";\n\nimport styles from \"./style/Center.module.scss\";\n\n/**\n * React JSX component to center content of the line\n *\n * @param {object} props - Children to display, boolean to show as block\n *\n * @returns {JSX.Element}\n *\n */\nconst Center = (props: { children: any; block?: boolean }) => {\n\n  const centerStyle = styles[`center${props.block ? \"Block\" : \"\"}`];\n  return <div className={centerStyle}>{props.children}</div>;\n};\n\nexport default Center;\n","import React from \"react\";\nimport { data } from \"../../../store/types\";\nimport Line from \"../../../layout/Line\";\n\nconst getCategoryDescription = (_id: string, categories: data) => {\n  let result = \"\";\n  categories.map((cat: data) => {\n    if (cat._id === _id) result = cat.description;\n  });\n\n  return result;\n};\n\nconst CatDescription = (props: {\n  direction: string;\n  category: string;\n  categories: data;\n}) => {\n  return (\n    <Line direction={props.direction}>\n      <p className='textStandard'>\n        {getCategoryDescription(props.category, props.categories)}\n      </p>\n    </Line>\n  );\n};\n\nexport default CatDescription;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\n\nimport { formSection, formSelection } from \"../../components/formSection\";\nimport { Preview } from \"./components\";\nimport { AppState } from \"../../store\";\nimport { setStep } from \"../../store/app/actions\";\nimport { submitPost } from \"../../store/post/actions\";\nimport { setModule } from \"../../store/users/actions\";\nimport { indexedObjAny, data } from \"../../store/types\";\n\nimport Button from \"../../components/Button\";\nimport Loading from \"../../components/Loading\";\nimport PhotoUpload from \"./components/PhotoUpload\";\nimport Steps from \"./components/Steps\";\nimport ContentBlock from \"./components/ContentBlock\";\n\nimport ButtonsWrapper from \"../../layout/ButtonsWrapper\";\nimport Center from \"../../layout/Center\";\nimport Content from \"../../layout/Content\";\nimport Label from \"../../layout/Label\";\nimport Section from \"../../layout/Section\";\nimport Paragraph from \"../../layout/Paragraph\";\nimport SubTitle from \"../../layout/SubTitle\";\nimport { Zero } from \"../../layout/Utils\";\nimport CatDescription from \"./components/CatDescription\";\nimport Header from \"../../components/Header\";\nimport { categoryIdToName } from \"../../modules/category_processor\";\n\nconst NewPost = (props: {\n  language: data;\n  location: data;\n  token: string;\n  step: number;\n  submitResult: data;\n  setStep: (arg0: number) => void;\n  submitPost: (arg0: indexedObjAny) => void;\n  setModule: (arg0: string) => void;\n  prevModule: string;\n}) => {\n  const { direction, text } = props.language;\n  const { categories, _id, location } = props.location;\n  const [step, setStep] = React.useState(props.step);\n  const [review, setReview] = React.useState(false);\n  const [loading, setLoading] = React.useState(false);\n  // form fields\n  const [title, setTitle] = React.useState(\"\");\n  const [category, setCategory] = React.useState(categories[0]._id);\n  const [problem, setProblem] = React.useState(\"\");\n  const [solution, setSolution] = React.useState(\"\");\n  const [photo, setPhoto] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n  // message\n  const [message, setMessage] = React.useState(\"\");\n\n  React.useEffect(() => {\n    if (step === 6 && review === false) {\n      setReview(true);\n    }\n  }, [step]);\n\n  const getCategories = () => {\n    let result: { value: string; label: string }[] = [];\n    categories.map((cat: any) => {\n      const language = !Object.keys(cat).includes(props.language.short)\n        ? \"עב\"\n        : props.language.short;\n      result.push({ value: cat._id, label: cat[language] });\n    });\n    return result;\n  };\n\n  const handleNextStep = () => {\n    if (step + 1 <= 6) {\n      let check: boolean = true;\n      let response: string = text[\"new.message.fieldEmpty\"];\n      switch (step) {\n        case 1:\n          check = title !== \"\";\n          break;\n        case 2:\n          check = category !== \"\";\n          break;\n        case 3:\n          check = problem !== \"\";\n          break;\n        case 4:\n          check = solution !== \"\";\n          break;\n        case 5:\n          if (link) {\n            const regex = new RegExp(\n              \"^([0-9A-Za-z-\\\\.@:%_+~#=]+)+((\\\\.[a-zA-Z]{2,3})+)(/(.)*)?(\\\\?(.)*)?\"\n            );\n            check = regex.test(link);\n            if (!check) {\n              response = text[\"new.message.urlMalformed\"];\n            }\n          }\n          break;\n      }\n      if (check) {\n        setMessage(\"\");\n        setStep(step + 1);\n      } else {\n        setMessage(response);\n      }\n    }\n  };\n  // console.log(step);\n  const handleBackStep = () => {\n    if (step - 1 > 0) {\n      setStep(step - 1);\n    }\n  };\n\n  const handleAnyStep = (newStep: number) => {\n    if (review) {\n      setStep(newStep);\n    }\n  };\n\n  const handleInputChange = (event: any) => {\n    setMessage(\"\");\n    switch (event.target.name) {\n      case \"title\":\n        setTitle(event.target.value);\n        break;\n      case \"problem\":\n        setProblem(event.target.value);\n        break;\n      case \"solution\":\n        setSolution(event.target.value);\n        break;\n      case \"link\":\n        setLink(event.target.value);\n        break;\n    }\n  };\n  const handleDropDown = (event: any) => {\n    setCategory(event.target.value);\n  };\n\n  const handleSetPhoto = (props: any) => {\n    setPhoto(props);\n  };\n\n  const handleSubmit = () => {\n    const objectToSubmit: indexedObjAny = {\n      user: _id,\n      location,\n      token: props.token,\n      post: {\n        title,\n        category,\n        problem,\n        solution,\n        photo,\n        link\n      }\n    };\n\n    let check = 0;\n    let counter = 0;\n\n    // Object.keys(objectToSubmit).map((el: any) => {\n    //   if (typeof objectToSubmit[el] === \"object\") {\n    //     Object.keys(objectToSubmit[el]).map((ele: any) => {\n    //       const empty = objectToSubmit[el][ele] === \"\";\n    //       if (!empty) {\n    //         check += 1;\n    //       }\n    //       counter += 1;\n    //     });\n    //   } else if (\n    //     objectToSubmit[el] === \"photo\" ||\n    //     objectToSubmit[el] === \"link\"\n    //   ) {\n    //     check += 1;\n    //     counter += 1;\n    //   } else {\n    //     const empty = objectToSubmit[el] === \"\";\n    //     if (!empty) {\n    //       check += 1;\n    //     }\n    //     counter += 1;\n    //   }\n    // });\n\n    const url = \"/post/create\";\n    axios\n      .post(url, objectToSubmit)\n      .then((response: any) => {\n        setLoading(false);\n        setMessage(response.data.message);\n        if (response.status) {\n          props.setModule(\"home\");\n        }\n      })\n      .catch(error => {\n        const payload = error.response ? error.response.data : error.toString();\n      });\n\n    if (check === counter) {\n      setLoading(true);\n      props.setStep(6);\n      props.submitPost(objectToSubmit);\n    } else {\n      setMessage(text[\"new.error.incomplete\"]);\n    }\n  };\n\n  let pageSubTitle = text[\"new.steps.title\"];\n  let stepsComponent = (\n    <Steps current={step} direction={direction} action={handleAnyStep} />\n  );\n  let buttonPrimary = (\n    <Button mode='primary' action={handleNextStep}>\n      {text[\"new.steps.button.next\"]}\n    </Button>\n  );\n\n  if (step === 6) {\n    stepsComponent = <Zero />;\n    pageSubTitle = text[\"new.preview\"];\n    buttonPrimary = (\n      <Button mode='primary' action={handleSubmit}>\n        {text[\"new.steps.button.submit\"]}\n      </Button>\n    );\n  }\n\n  const stepOne =\n    step === 1\n      ? formSection({\n          label: text[\"new.field.title.label\"],\n          type: \"text\",\n          name: \"title\",\n          value: title,\n          placeholder: text[\"new.field.title.prompt\"],\n          action: handleInputChange,\n          length: 2,\n          focus: true\n        })\n      : null;\n\n  const stepTwo =\n    step === 2 ? (\n      <div className='none'>\n        {formSelection({\n          list: getCategories(),\n          direction,\n          label: text[\"new.field.category.label\"],\n          action: handleDropDown,\n          focus: true\n        })}\n        <CatDescription\n          direction={direction}\n          category={category}\n          categories={categories}\n        />\n      </div>\n    ) : null;\n\n  const stepThree =\n    step === 3\n      ? formSection({\n          label: text[\"new.field.problem.label\"],\n          type: \"textarea\",\n          name: \"problem\",\n          value: problem,\n          placeholder: text[\"new.field.problem.prompt\"],\n          action: handleInputChange,\n          length: 50,\n          focus: true\n        })\n      : null;\n  const stepFour =\n    step === 4\n      ? formSection({\n          label: text[\"new.field.solution.label\"],\n          type: \"textarea\",\n          name: \"solution\",\n          value: solution,\n          placeholder: text[\"new.field.solution.prompt\"],\n          action: handleInputChange,\n          length: 50,\n          focus: true\n        })\n      : null;\n  const stepFive =\n    step === 5 ? (\n      <Section>\n        <Label direction={direction} value={text[\"new.field.photo.label\"]} />\n        <PhotoUpload\n          label={text[\"new.field.photo.prompt\"]}\n          direction={direction}\n          action={handleSetPhoto}\n          photo={photo}\n        />\n        {formSection({\n          label: text[\"new.field.link.label\"],\n          type: \"url\",\n          name: \"link\",\n          value: link,\n          placeholder: text[\"new.field.link.prompt\"],\n          action: handleInputChange,\n          length: 5\n        })}\n      </Section>\n    ) : null;\n\n  const mockFn = (props: any) => {};\n\n  const categoryName = categoryIdToName(categories, props.language.short, category);\n\n\n  const post = {\n    title,\n    category: categoryName,\n    problem,\n    solution,\n    photo,\n    link\n  };\n  // TODO: fix below\n  const preview =\n    step === 6 ? (\n      <Preview\n        post={post}\n        direction={direction}\n        text={{\n          problem: text[\"post.problem\"],\n          solution: text[\"post.solution\"]\n        }}\n      />\n    ) : null;\n  const loadingElement = loading ? <Loading /> : null;\n\n  const goHome = () => {\n    props.setModule(props.prevModule);\n  };\n  const headerObject = {\n    name: \"New Post\",\n    left: { icon: <div>back</div>, action: goHome }\n  };\nconsole.log(message)\n  return (\n    <Content padded>\n      {/* <Header {...headerObject} /> */}\n      <Center>\n        <SubTitle title={pageSubTitle} direction={direction} />\n        {stepsComponent}\n      </Center>\n      <Paragraph direction={direction}>{text[`new.steps.step.${step}`]}</Paragraph>\n      <ContentBlock\n        stepOne={stepOne}\n        stepTwo={stepTwo}\n        stepThree={stepThree}\n        stepFour={stepFour}\n        stepFive={stepFive}\n        preview={preview}\n        loadingElement={loadingElement}\n        direction={direction}\n        message={message}\n      />\n      <ButtonsWrapper row direction={direction}>\n        {buttonPrimary}\n        <Button mode='secondary' disabled={step === 1} action={handleBackStep}>\n          {text[\"new.steps.button.back\"]}\n        </Button>\n      </ButtonsWrapper>\n    </Content>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    language: state.language,\n    location: state.locationData,\n    token: state.token,\n    submitResult: state.submitPost,\n    step: state.step,\n    prevModule: state.prevModule\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { setStep, submitPost, setModule }\n)(NewPost);\n","import React from \"react\";\n\nimport NewPost from \"../features/New\";\n\nimport Page from \"../layout/Page\";\n\nconst New = () => {\n  return (\n    <Page opposite>\n      <NewPost />\n    </Page>\n  );\n};\n\nexport default New;\n"],"sourceRoot":""}