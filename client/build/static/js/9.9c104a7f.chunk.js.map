{"version":3,"sources":["styles/Title.ts","styles/Card.ts","features/Help/components/Home.tsx","features/Help/index.tsx","styles/header/Icon.ts","styles/Header.ts","components/Header.tsx","features/Help/components/style/index.module.scss","styles/VoteButton.ts","components/VoteButton.tsx","styles/Content.ts","layout/style/Block.module.scss","styles/post/ReplyTag.ts","styles/post/AlreadyPosted.ts","styles/post/Reply.ts","features/Post/index.tsx","layout/Block.tsx","features/Post/News.tsx","pages/Post.tsx"],"names":["Title","styled","h1","_templateObject","props","muni","secondary","primary","Card","article","radiusMed","cardShadow","transition","connect","state","language","type","_props$language","direction","text","headerStyle","style","styleFactory","headerDescStyle","titleStyle","react_default","a","createElement","className","content","Button","mode","onClick","cancel","iconHelp","pinned","card","photo","category","title","lineThree","voteButtonText","navLeft","navRight","module","help","showHelp","contentStyle","handleShowHelp","components_Home","Icon","div","rtl","Header","header","Header_templateObject","white","user","auth","name","useEffect","settings","left","header_Icon","noRtl","icon","styles_Header","action","right","features_Help","exports","central","headerRTL","iconRTL","titleRTL","headerDesc","headerDescRTL","button","buttonShadow","primary30","borderPrimaryLight","beatAnimation","_templateObject2","textButtonVote","VoteButton","Content","padding","block","border","borderRectangle","ReplyTag","Category","AlreadyPosted","AlreadyPosted_templateObject","textMessageSmall","Reply","Reply_templateObject","color","locations","posts","news","post","prevModule","token","categories","vote","updatePost","setModule","fetchData","getPosts","deletePost","showPost","votePost","short","_useState","useState","_useState2","Object","slicedToArray","textOpened","setTextOpened","_useState3","_useState4","_useState5","_useState6","showConfirm","setShowConfirm","_useState7","_useState8","showNewReply","setShowNewReply","originalPost","React","createRef","filter","_id","_useState9","_useState10","edit","setEdit","_useState11","_useState12","deleteConfirmation","setDeleteConfirmation","_useState13","_useState14","updateConfirmation","showUpdateConfirmation","_useState15","_useState16","muniEdit","setMuniEdit","_useState17","_useState18","muniDeleteConfirmation","setMuniDeleteConfirmation","_useState19","_useState20","showMuniEditModal","setMuniEditModal","location","el","showStyle","textClosed","voterText","votes","length","categoryIdToName","showMoreLessText","more","less","includes","author","createdBy","muniUser","console","log","allowToReply","reply","up","down","concat","toConsumableArray","toggleShowNewReplyButton","toggleCloseSave","toggleDeleteConfirmation","toggleMuniEdit","toggleMuniDeleteConfirmation","toggleMuniEditModal","handleReplyChange","event","target","value","submitUpdatePost","answer","logger","emph","handleReplyVoting","updown","toString","push","objectSpread","newPost","ageText","modal","components","close","voted","newReplyComponent","renderVoteButton","post_AlreadyPosted","voteButton","setTimeout","ReplyMessage","setOfThumbs","newReplyButton","goBack","setOfEditButtons","muniDeleteModal","muniEditModal","InLine","id","justify","width","onClickMessage","Field","autoFocus","onChange","placeholder","required","post_Reply","replies","Section","PlainText","Spacer","space","deleteConfirmationComponent","Modal","disabled","label","submit","submitText","updateConfirmComponent","deleteButton","editIcon","iconEdit","iconClose","headerObject","show","emptyPost","linkToShow","newsLink","link","styles_Post","post_ReplyTag","back","secondary70","date","createdAt","daysText","src","actions","set","remove","editText","message","confirm","newsClick","linkElements","split","newsToShow","Text","step","problem","solution","opened","Block","blockStyle","styles","rectangle","children","getNews","updateNews","deleteNews","goHome","layout_Block","Post","Page","News","features_Post"],"mappings":"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","file":"static/js/9.9c104a7f.chunk.js","sourcesContent":["import styled from 'styled-components';\nimport { secondary, primary } from './_colors';\nimport { h1 } from './_typography';\n\nexport interface IProps {\nmuni?:boolean\n}\n\nconst Title = styled.h1<IProps>`\ncolor: ${props => props.muni ? secondary : primary}\nfont: ${h1}\n`\n\nexport default Title","import styled from \"styled-components\";\nimport { cardShadow, radiusMed } from \"./_ui\";\nimport { transition, transitionSlow } from \"./_animation\";\n\nconst Card = styled.article`\n  margin: 1.5rem auto;\n  width: 90%;\n  border-radius: ${radiusMed};\n  box-shadow: ${cardShadow};\n  transition: ${transition};\n`;\nexport default Card;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport styleFactory from \"../../../modules/style_factory\";\n\nimport { AppState } from \"../../../store\";\nimport { data } from \"../../../store/types\";\n\nimport Button from \"../../../components/Button\";\nimport { iconHelp } from \"../../../icons\";\nimport style from \"./style/index.module.scss\";\n\nconst Home = (props: { language: data; cancel: () => void; type: any }) => {\n  const { direction, text } = props.language;\n\n  const headerStyle = style[styleFactory(\"header\", direction)];\n  const headerDescStyle = style[styleFactory(\"headerDesc\", direction)];\n  const titleStyle = style[styleFactory(\"title\", direction)];\n\n  return (\n    <div className={style.content}>\n      <section className={headerStyle}>\n        <Button mode='minimal' onClick={props.cancel}>\n          {iconHelp(\"white\")}\n        </Button>\n        <div className={titleStyle}>{text[\"help.mycity\"]}</div>\n        <Button mode='minimal' />\n      </section>\n      <section className={headerDescStyle}>\n        <div>{text[\"help.button.help\"]}</div>\n      </section>\n      <section className={style.pinned}>\n        <div>{text[\"help.post.pinned\"]}</div>\n      </section>\n      <section className={style.card}>\n        <div className={style.photo}>{text[\"help.post.photo\"]}</div>\n        <div className={style.category}>{text[\"help.post.category\"]}</div>\n        <div className={style.title}>{text[\"help.post.title\"]}</div>\n        <div className={style.lineThree}>{text[\"help.post.age\"]}</div>\n      </section>\n      <section>\n        <div className={style.voteButtonText}>\n          {text[props.type === \"muni\" ? \"help.new.muni\" : \"help.new\"]}\n        </div>\n      </section>\n      <section>\n        <div className={style.navLeft}>{text[\"help.navigation\"]}</div>\n        <div className={style.navRight}>{text[\"help.navigation\"]}</div>\n      </section>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    language: state.language,\n    type: state.type\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  {}\n)(Home);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { AppState } from \"../../store\";\nimport { showHelp } from \"../../store/users/actions\";\nimport styleFactory from \"../../modules/style_factory\";\n\nimport { data } from \"../../store/types\";\nimport Home from \"./components/Home\";\n\nconst Help = (props: {\n  language: data;\n  module: string;\n  help: boolean;\n  showHelp: (arg0: boolean) => void;\n}) => {\n  const { direction } = props.language;\n  const contentStyle = styleFactory(\"help-content\", direction);\n\n  const handleShowHelp = () => {\n    props.showHelp(!props.help);\n  };\n\n  let content = <div className={contentStyle} />;\n  switch (props.module) {\n    case \"post\":\n      break;\n    case \"home\":\n      content = <Home cancel={handleShowHelp} />;\n      break;\n  }\n\n  const component = (\n    <div onClick={() => handleShowHelp()} className='help'>\n      {content}\n    </div>\n  );\n  return component;\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    module: state.module,\n    language: state.language,\n    help: state.help\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  {\n    showHelp\n  }\n)(Help);\n","import styled from \"styled-components\";\n\nexport interface IProps {\n  rtl: boolean;\n}\n\nconst Icon = styled.div<IProps>`\n  height: 65%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transform: ${props => (props.rtl ? \"none\" : \"rotate(180deg)\")};\n`;\n\nexport default Icon;\n","import styled from \"styled-components\";\nimport { white } from \"./_colors\";\n\nexport interface HProps {\n  direction: string;\n}\n\nconst Header = styled.header<HProps>`\ndirection:${props => props.direction};\n  width: 100%;\n  height: 5rem;\n  position: fixed;\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: ${white};\n  z-index: 50;\n`;\n\nexport default Header;\n","import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { AppState } from \"../store\";\nimport { showHelp } from \"../store/users/actions\";\n\nimport Help from \"../features/Help\";\n\nimport Button from \"./Button\";\nimport Title from \"../styles/Title\";\nimport Icon from \"../styles/header/Icon\";\nimport PageHeader from \"../styles/Header\";\n\nimport { iconHelp } from \"../icons/\";\n\nconst Header = (props: {\n  help: boolean;\n  direction: string;\n  name: string;\n  right?: {\n    icon: JSX.Element;\n    action: () => void;\n    noRtl?: boolean;\n  };\n  left?: {\n    icon: JSX.Element;\n    action: () => void;\n    noRtl?: boolean;\n  };\n  user: any;\n  module: string;\n  showHelp: (arg0: boolean) => void;\n}) => {\n  const { name, user, module } = props;\n\n  useEffect(() => {\n    if (user.settings.help) {\n      props.showHelp(true);\n    }\n  }, []);\n\n  const toggleHelp = () => {\n    props.showHelp(!props.help);\n  };\n\n  const handleLeftAction = () => {\n    if (props.left) {\n      props.left.action();\n    } else if (module === \"home\") {\n      toggleHelp();\n    }\n  };\n  const handleRightAction = () => {\n    if (props.right) props.right.action();\n  };\n\n  const left = props.left ? (\n    <Icon rtl={props.left.noRtl ? props.left.noRtl : false}>\n      {props.left.icon}\n    </Icon>\n  ) : module === \"home\" ? (\n    <Icon rtl={true}>\n      {iconHelp(props.user.type === \"muni\" ? \"secondary\" : \"primary\")}\n    </Icon>\n  ) : null;\n\n  return (\n    <PageHeader direction={props.direction}>\n      <Button mode='minimal' onClick={handleLeftAction}>\n        {left}\n      </Button>\n      <Title muni={props.user.type === \"muni\"}>{name}</Title>\n      <Button mode='minimal' onClick={handleRightAction}>\n        {props.right ? (\n          <Icon rtl={props.right.noRtl ? props.right.noRtl : false}>\n            {props.right.icon}\n          </Icon>\n        ) : null}\n      </Button>\n      {props.help ? <Help /> : null}\n    </PageHeader>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    direction: state.language.direction,\n    user: state.auth.user,\n    help: state.help,\n    module: state.module\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { showHelp }\n)(Header);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"style_content__2T40g\",\"central\":\"style_central__ADLjj\",\"header\":\"style_header__tQ9Sx\",\"headerRTL\":\"style_headerRTL__2kFRT\",\"icon\":\"style_icon__1YFTz\",\"iconRTL\":\"style_iconRTL__3HH5-\",\"title\":\"style_title__1WHmK\",\"titleRTL\":\"style_titleRTL__vpycB\",\"headerDesc\":\"style_headerDesc__3ANCb\",\"headerDescRTL\":\"style_headerDescRTL__3knRN\",\"pinned\":\"style_pinned__Kl-fS\",\"card\":\"style_card__1D5C-\",\"photo\":\"style_photo__2fnix\",\"category\":\"style_category__24IMX\",\"lineThree\":\"style_lineThree__NkwpN\",\"voteButtonText\":\"style_voteButtonText__2_n0m\",\"navLeft\":\"style_navLeft__bzWVA\",\"navRight\":\"style_navRight__k7-Uq\"};","import styled from \"styled-components\";\nimport { primary, white, primary30 } from \"./_colors\";\nimport { buttonShadow, borderPrimaryLight } from \"./_ui\";\nimport { textButtonVote } from \"./_typography\";\nimport { beatAnimation, transition } from \"./_animation\";\n\nexport const Button = styled.button`\n  box-shadow: ${buttonShadow(primary30)};\n  width: 6.5rem;\n  height: 6.5rem;\n  border-radius: 50%;\n  background-color: ${primary};\n  border: ${borderPrimaryLight} !important;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  animation: ${beatAnimation};\n  transition: ${transition};\n  &:active {\n    transform: scale(0.95);\n  }\n`;\n\nexport const Title = styled.div`\n  width: 100%;\n  text-align: center;\n  user-select: none;\n  font: ${textButtonVote};\n  color: ${white};\n`;\n","import React from \"react\";\n\nimport { Button, Title } from \"../styles/VoteButton\";\n\nconst VoteButton = (props: { title: string }) => (\n  <Button>\n    <Title>{props.title}</Title>\n  </Button>\n);\n\nexport default VoteButton;\n","import styled from \"styled-components\";\nimport { white } from \"./_colors\";\n\nexport interface IProps {\n  padding?: string;\n}\n\nconst Content = styled.div<IProps>`\n  background-color: ${white};\n  padding: ${props => (props.padding ? props.padding : 0)};\n`;\n\nexport default Content;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Block_block__25D3U\",\"border\":\"Block_border__3jZ4R\",\"borderRectangle\":\"Block_borderRectangle__bDkgw\"};","import styled from \"styled-components\";\nimport Category from \"../common/Category\";\n\nconst ReplyTag = styled(Category)`\n  height: 2.5rem;\n  width: 1.5rem;\n  padding: .5rem 1rem .5rem .8rem;\n  transform: rotate(270deg);\n`;\n\nexport default ReplyTag;\n","import styled from \"styled-components\";\n\nimport { white, primary } from \"../_colors\";\nimport { textMessageSmall } from \"../_typography\";\n\nconst AlreadyPosted = styled.div`\nwhite-space: nowrap;\npadding: 0.5rem 2rem;\ntext-align: center;\nmargin: 0 auto;\nbackground-color: white;\ncolor: ${primary}\nfont: ${textMessageSmall}\n`;\n\nexport default AlreadyPosted;\n","import styled from \"styled-components\";\nimport { textSubtitle } from \"../_typography\";\nimport Card from \"../Card\";\n\nexport interface IProps {\n  color?: string;\n}\n\nconst Reply = styled(Card)<IProps>`\n  background-color: ${props => (props.color ? props.color : \"white\")};\n  width:90%;\n  margin: 0 auto;\n`;\n\nexport default Reply;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { connect } from \"react-redux\";\nimport { categoryIdToName } from \"../../modules/category_processor\";\nimport { goBack, iconEdit, iconClose } from \"../../icons\";\n\nimport { AppState } from \"../../store\";\nimport { vote, setModule, fetchData } from \"../../store/users/actions\";\nimport {\n  updatePost,\n  deletePost,\n  showPost,\n  getPosts,\n  votePost\n} from \"../../store/post/actions\";\nimport { indexedObjAny, data } from \"../../store/types\";\n\nimport VoteButton from \"../../components/VoteButton\";\nimport Header from \"../../components/Header\";\nimport Modal from \"../../components/Modal\";\n\nimport {\n  Photo,\n  Link,\n  ShowMore,\n  NumbersLine,\n  NewReply,\n  ReplyVotes,\n  NewReplyButton,\n  ModalView,\n  Confirm,\n  ModalEdit\n} from \"./components\";\nimport Text from \"./components/Text\";\n\nimport PostCard from \"../../styles/Post\";\nimport Content from \"../../styles/Content\";\nimport style from \"./style/Post.module.scss\";\nimport styleFactory from \"../../modules/style_factory\";\nimport Button from \"../../components/Button\";\nimport { AuthState } from \"../../models\";\nimport { emptyPost } from \"../../store/defaults\";\nimport logger from \"../../modules/logger\";\nimport ReplyTag from \"../../styles/post/ReplyTag\";\nimport Spacer from \"../../styles/utils/Spacer\";\nimport AlreadyPosted from \"../../styles/post/AlreadyPosted\";\nimport InLine from \"../../styles/utils/InLine\";\nimport Section from \"../../styles/Section\";\nimport Category from \"../../styles/common/Category\";\nimport Title from \"../../styles/common/Title\";\nimport Field from \"../../styles/form/Field\";\nimport Reply from \"../../styles/post/Reply\";\nimport { secondary70 } from \"../../styles/_colors\";\nimport PlainText from \"../../styles/post/PlainText\";\nimport newsLink from \"../../modules/news_link\";\n\nconst Post = (props: {\n  posts: any;\n  news: any;\n  post: any;\n  language: indexedObjAny;\n  votePost: (arg0: string) => void;\n  // location: data;\n  vote: (arg0: string, arg1: string) => void;\n  updatePost: (arg0: any) => void;\n  setModule: (arg0: string) => void;\n  getPosts: (arg0: string) => void;\n  prevModule: string;\n  token: string;\n  deletePost: (arg0: string) => void;\n  showPost: (arg0: any) => void;\n  auth: AuthState;\n  categories: any;\n  locations: data;\n}) => {\n  // destructuring props\n  const { categories, auth, locations, post } = props;\n  const { user } = auth;\n  const { direction, text, short } = props.language;\n  // state\n  const [textOpened, setTextOpened] = useState(false);\n  const [replyOpened, setReplyOpened] = useState(false);\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [showNewReply, setShowNewReply] = useState(false);\n  // const [newReply, setNewReply] = useState(post.reply.text);\n  const replyRef = React.createRef<HTMLDivElement>();\n\n  const originalPost = props.posts.filter(\n    (post: any) => post._id === props.post._id\n  )[0];\n\n  const [edit, setEdit] = useState(false);\n  const [deleteConfirmation, setDeleteConfirmation] = useState(false);\n  const [updateConfirmation, showUpdateConfirmation] = useState(false);\n  const [muniEdit, setMuniEdit] = useState(false);\n  const [muniDeleteConfirmation, setMuniDeleteConfirmation] = useState(false);\n  const [showMuniEditModal, setMuniEditModal] = useState(false);\n\n  const location = locations.filter((el: any) => el._id === user.location)[0];\n\n  // definitions\n  const showStyle = textOpened ? style.text : style.textClosed;\n  const voterText =\n    post.votes.length === 1 ? text[\"post.voter\"] : text[\"post.voters\"];\n  const category = categoryIdToName(categories, short, post.category);\n  const showMoreLessText = {\n    more: text[\"post.show-more\"],\n    less: text[\"post.show-less\"]\n  };\n  const includes = post.votes.includes(props.auth.user._id);\n  const author = post.createdBy === props.auth.user._id;\n  const muniUser = auth.user.type === \"muni\";\n\n  useEffect(() => {\n    console.log(\"posts changed\");\n    props.showPost(\n      props.posts.filter((post: any) => post._id === props.post._id)[0]\n    );\n  }, [props.posts]);\n\n  let allowToReply = false;\n  if (!post.reply.up && !post.reply.down) {\n    allowToReply = true;\n  } else if (post.reply.up.length > 0 && post.reply.down.length > 0) {\n    allowToReply = [...post.reply.up, ...post.reply.down].includes(\n      props.auth.user._id\n    );\n  } else if (post.reply.up.length > 0) {\n    allowToReply = post.reply.up.includes(props.auth.user._id);\n  } else if (post.reply.down.length > 0) {\n    allowToReply = post.reply.down.includes(props.auth.user._id);\n  }\n\n  // toggles\n  const toggleShowNewReplyButton = () => {\n    setShowNewReply(!showNewReply);\n  };\n  const toggleEdit = () => {\n    setEdit(!edit);\n  };\n  const toggleCloseSave = () => {\n    showUpdateConfirmation(!updateConfirmation);\n  };\n\n  const toggleShowConfirm = () => {\n    setShowConfirm(!showConfirm);\n  };\n\n  const toggleDeleteConfirmation = () => {\n    setDeleteConfirmation(!deleteConfirmation);\n  };\n\n  const toggleMuniEdit = () => {\n    setMuniEdit(!muniEdit);\n  };\n  const toggleMuniDeleteConfirmation = () => {\n    setMuniDeleteConfirmation(!muniDeleteConfirmation);\n  };\n  const toggleMuniEditModal = () => {\n    setMuniEditModal(!showMuniEditModal);\n  };\n\n  // small functions\n  const goHome = () => {\n    props.showPost({ show: false, ...emptyPost });\n    props.setModule(props.prevModule);\n  };\n\n  // edit\n  const handleRemovePhoto = () => {\n    props.showPost({ photo: \"\" });\n  };\n  const handleRemoveLink = () => {\n    props.showPost({ link: \"\" });\n  };\n  const handleSetPhoto = (photo: string) => {\n    props.showPost({ photo });\n  };\n\n  const handleSetLink = (link: string) => {\n    props.showPost({ link });\n  };\n\n  const handleReplyChange = (event: any) => {\n    props.showPost({ reply: { text: event.target.value } });\n  };\n\n  // submit\n  const submitUpdatePost = (answer?: string) => {\n    logger({\n      text: \"submitUpdatePost:\",\n      emph: answer || \"\",\n      type: \"positive\"\n    });\n    setMuniEditModal(false);\n    setMuniEdit(false);\n    setShowNewReply(false);\n    if (answer) {\n      setEdit(false);\n      showUpdateConfirmation(false);\n      if (answer === \"attention\") {\n        props.showPost(originalPost);\n      } else {\n        props.updatePost(post);\n      }\n    } else {\n      props.updatePost(post);\n    }\n  };\n  const submitVote = () => {\n    setShowConfirm(true);\n    setTimeout(() => {\n      setShowConfirm(false);\n    }, 2000);\n    props.showPost({ ...post, votes: [post.votes, user._id] });\n    props.votePost(post._id);\n  };\n\n  const submitDeletePost = (answer: string) => {\n    logger({ text: \"submitDeletePost:\", emph: answer, type: \"positive\" });\n\n    if (answer === \"secondary\") {\n      props.deletePost(post._id);\n      props.setModule(props.prevModule);\n    }\n  };\n\n  const submitDeleteMuniReply = (answer: string) => {\n    logger({ text: \"submitDeletePost:\", emph: answer, type: \"positive\" });\n\n    if (answer === \"primary\") {\n      const newPost = { ...post, reply: {} };\n      props.showPost(newPost);\n      props.updatePost(newPost);\n    }\n    setMuniEdit(false);\n  };\n\n  // TODO: refactor\n\n  const handleReplyVoting = (updown: boolean) => {\n    console.log(\"object\");\n    logger({\n      text: \"handleReplyVoting:\",\n      emph: updown.toString(),\n      type: \"positive\"\n    });\n\n    let up = post.reply.up;\n    let down = post.reply.down;\n\n    if (updown) {\n      up.push(props.auth.user._id);\n    } else {\n      down.push(props.auth.user._id);\n    }\n    const reply = { ...post.reply, reply: { ...post.reply, up, down } };\n    const newPost = { ...post, reply };\n    props.showPost(newPost);\n    props.updatePost({ ...post, reply });\n  };\n\n  // numbers line\n  const ageText: { [index: string]: string } = text[\"post.age\"];\n\n  // setting up components\n  const modal = showConfirm ? (\n    <ModalView close={toggleShowConfirm} text={text[\"vote.thanks\"]} />\n  ) : null;\n\n  const voted = post.votes.includes(props.auth.user._id);\n  console.log(\"voted \", voted);\n  const renderVoteButton = () => {\n    if (voted) return <AlreadyPosted>{text[\"post.voted\"]}</AlreadyPosted>;\n\n    const allowed = includes || author || muniUser;\n    if (!allowed)\n      return (\n        <div className={style.voteButton} onClick={() => submitVote()}>\n          <VoteButton title={text[\"card.button.vote\"]} />\n        </div>\n      );\n  };\n\n  let newReplyComponent: any = \"\";\n  let ReplyMessage: any = \"\";\n  let setOfThumbs: any = \"\";\n\n  const newReplyButton =\n    muniUser && !post.reply.text ? (\n      <NewReplyButton\n        action={toggleShowNewReplyButton}\n        text={text[\"post.muni.newreply\"]}\n      />\n    ) : null;\n\n  // if there is muni reply\n  if (post.reply) {\n    if (post.reply.text && !allowToReply) {\n      setOfThumbs = (\n        <div className={style[styleFactory(\"thumbsContainer\", direction)]}>\n          <div onClick={(event: any) => handleReplyVoting(true)}>\n            {goBack(\"white\")}\n          </div>\n          <div onClick={(event: any) => handleReplyVoting(false)}>\n            {goBack(\"white\")}\n          </div>\n        </div>\n      );\n    } else if (allowToReply) {\n      setOfThumbs = \"\";\n    }\n\n    let setOfEditButtons = null;\n    let muniDeleteModal = null;\n    let muniEditModal = null;\n\n    if (muniUser) {\n      setOfEditButtons = muniEdit ? (\n        <InLine\n          id='reply__edit-delete_buttons-wrapper'\n          direction={direction}\n          justify='space-around'\n          padding='0 0 2rem 0'\n          width='100%'>\n          <Button mode='secondary' onClick={toggleMuniEditModal}>\n            {text[\"muni-reply.edit\"]}\n          </Button>\n          <Button\n            mode='attention'\n            onClickMessage={toggleMuniDeleteConfirmation}>\n            {text[\"muni-reply.delete\"]}\n          </Button>\n        </InLine>\n      ) : null;\n      muniDeleteModal = muniDeleteConfirmation ? (\n        <ModalEdit\n          direction={direction}\n          close={toggleMuniDeleteConfirmation}\n          action={submitDeleteMuniReply}\n          text={text[\"muni-reply.delete.text\"]}></ModalEdit>\n      ) : null;\n\n      muniEditModal = showMuniEditModal ? (\n        <ModalEdit\n          direction={direction}\n          close={toggleMuniEditModal}\n          action={submitUpdatePost}\n          text={text[\"muni-reply.edit.text\"]}>\n          {\n            <div className='section'>\n              <Field\n                direction={direction}\n                autoFocus={true}\n                type='text'\n                name='reply'\n                value={post.reply.text}\n                onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n                  handleReplyChange(event)\n                }\n                placeholder={text[\"muni.post.prompt.text\"]}\n                required\n              />\n            </div>\n          }\n        </ModalEdit>\n      ) : null;\n    }\n    ReplyMessage = post.reply.text ? (\n      <Reply>\n        <InLine\n          padding='1rem 1rem 0 1rem'\n          direction={direction}\n          justify='space-between'>\n          <Title direction={direction}>{text[\"munireply.title\"]}</Title>\n          <ReplyVotes\n            replies={{ up: post.reply.up, down: post.reply.down }}\n            direction={direction}\n          />\n        </InLine>\n        <Section direction={direction}>\n          <PlainText direction={direction}>{post.reply.text}</PlainText>\n          {/* {voted ? <AlreadyPosted>{text[\"post.voted\"]}</AlreadyPosted> : null} */}\n          <Spacer space={1} />\n        </Section>\n\n        {/* {post.reply.text.length > 50 ? (\n          <ShowMore\n            color={replyCardColor === \"white\" ? \"primary\" : \"white\"}\n            title={showMoreLessText}\n            direction={direction}\n            opened={replyOpened}\n            action={setReplyOpened}\n          />\n        ) : null} */}\n        {setOfEditButtons}\n        {muniDeleteModal}\n        {muniEditModal}\n      </Reply>\n    ) : null;\n    if (muniUser) setOfThumbs = null;\n  }\n\n  // modals\n  const deleteConfirmationComponent = deleteConfirmation ? (\n    <Confirm\n      text={text[\"post.delete.confirm\"]}\n      close={toggleDeleteConfirmation}\n      action={submitDeletePost}\n      direction={direction}\n    />\n  ) : null;\n\n  newReplyComponent = showNewReply ? (\n    <Modal disabled close={toggleShowNewReplyButton}>\n      <NewReply\n        label={text[\"newreply.label\"]}\n        value={post.reply.text}\n        placeholder={text[\"newreply.placeholder\"]}\n        action={handleReplyChange}\n        direction={direction}\n        submit={submitUpdatePost}\n        submitText={text[\"login.button.submit\"]}\n      />\n    </Modal>\n  ) : null;\n\n  const updateConfirmComponent = updateConfirmation ? (\n    <div>\n      <Confirm\n        text={text[\"post.update.confirm\"]}\n        close={toggleCloseSave}\n        action={submitUpdatePost}\n        direction={direction}\n      />\n    </div>\n  ) : null;\n\n  const deleteButton = edit ? (\n    <div className={style.deleteButton}>\n      <Button mode='attention' onClick={toggleDeleteConfirmation}>\n        {text[\"post.delete.button\"]}\n      </Button>\n    </div>\n  ) : null;\n\n  // default\n  let editIcon =\n    author || muniUser\n      ? {\n          right: {\n            icon: iconEdit(muniUser ? \"secondary\" : \"primary\"),\n            action: muniUser ? toggleMuniEdit : toggleEdit,\n            noRtl: true\n          }\n        }\n      : null;\n  // edit mode\n  if (edit || muniEdit)\n    editIcon = {\n      right: {\n        icon: iconClose(muniEdit ? \"secondary\" : \"primary\"),\n        action: muniEdit ? toggleMuniEdit : toggleCloseSave,\n        noRtl: true\n      }\n    };\n\n  const headerObject = {\n    name: location.name[user.settings.language],\n    ...editIcon,\n    left: { icon: goBack(muniUser ? \"secondary\" : \"primary\"), action: goHome }\n  };\n\n  const linkToShow = newsLink(post.link, props.news);\n\n  const handleNewsClick = () => {\n    const linkElements = post.link.split(\":\");\n    const newsToShow = props.news.filter(\n      (el: any) => el._id === linkElements[1]\n    );\n    props.showPost({ show: true, type: \"news\", ...newsToShow[0] });\n  };\n\n  return (\n    <Content>\n      <Header {...headerObject} />\n      <Spacer space={7} />\n      <PostCard>\n        <Section direction={direction} padding='0 1rem'>\n          <InLine direction={direction} justify='space-between'>\n            <Category>{category}</Category>\n            {post.reply.text ? (\n              <ReplyTag back={secondary70}>{goBack(\"white\")}</ReplyTag>\n            ) : null}\n          </InLine>\n          <Title direction={direction} padding='0 1rem;'>\n            {post.title}\n          </Title>\n          <NumbersLine\n            date={post.createdAt}\n            daysText={ageText}\n            direction={direction}\n            votes={post.votes.length}\n            voterText={voterText}\n          />\n        </Section>\n        <Photo\n          direction={direction}\n          src={post.photo}\n          edit={edit}\n          actions={{ set: handleSetPhoto, remove: handleRemovePhoto }}\n          editText={{\n            message: text[\"post.photo.edit\"].message,\n            confirm: text[\"post.photo.edit\"].confirm,\n            cancel: text[\"post.photo.edit\"].cancel,\n            label: text[\"new.field.photo.prompt\"],\n            placeholder: \"\"\n          }}\n        />\n        <Link\n          primary\n          text={linkToShow}\n          direction={direction}\n          edit={edit}\n          actions={{ set: handleSetLink, remove: handleRemoveLink }}\n          newsClick={handleNewsClick}\n          editText={{\n            message: text[\"post.link.edit\"],\n            confirm: text[\"confirm\"],\n            cancel: text[\"cancel\"],\n            label: text[\"new.field.link.label\"],\n            placeholder: text[\"new.field.link.prompt\"]\n          }}\n        />\n        <div className={showStyle}>\n          <Text\n            step\n            title={text[\"post.problem\"]}\n            text={post.problem}\n            direction={direction}\n          />\n          {post.solution ? (\n            <Text\n              back\n              title={text[\"post.solution\"]}\n              text={post.solution}\n              direction={direction}\n            />\n          ) : null}\n        </div>\n        <InLine direction={direction} justify='space-between'>\n          {voted ? renderVoteButton() : null}\n          <ShowMore\n            color='primary'\n            title={showMoreLessText}\n            direction={direction}\n            opened={textOpened}\n            action={setTextOpened}\n          />\n        </InLine>\n      </PostCard>\n      {voted ? null : renderVoteButton()}\n      <Spacer space={3} />\n      {modal}\n      {newReplyButton}\n      {newReplyComponent}\n      {ReplyMessage}\n      {post.reply.text ? setOfThumbs : null}\n      {deleteButton}\n      {deleteConfirmationComponent}\n      {updateConfirmComponent}\n      <Spacer space={5} />\n    </Content>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    language: state.language,\n    locations: state.locations,\n    posts: state.posts,\n    news: state.news,\n    post: state.post,\n    mode: state.mode,\n    prevModule: state.prevModule,\n    token: state.token,\n    auth: state.auth,\n    categories: state.categories\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  {\n    vote,\n    updatePost,\n    setModule,\n    fetchData,\n    getPosts,\n    deletePost,\n    showPost,\n    votePost\n  }\n)(Post);\n","import React from \"react\";\n\nimport styles from \"./style/Block.module.scss\";\n\n/**\n * React JSX component to wrap block with paragraph style\n *\n * @param {object} props - Children to display, boolean label - thin\n *\n * @returns {JSX.Element}\n */\nconst Block = (props: {\n  children: any;\n  border?: boolean;\n  rectangle?: boolean;\n}): JSX.Element => {\n  let blockStyle = styles.block;\n\n  if (props.border) {\n    blockStyle = styles.border;\n  } else if (props.rectangle) {\n    blockStyle = styles.borderRectangle;\n  }\n\n  return <div className={blockStyle}>{props.children}</div>;\n};\n\nexport default Block;\n","import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { AppState } from \"../../store\";\nimport { setModule } from \"../../store/users/actions\";\nimport {\n  getNews,\n  updateNews,\n  showPost,\n  deleteNews\n} from \"../../store/post/actions\";\nimport { indexedObjAny } from \"../../store/types\";\n\nimport { Photo, Link, Confirm, NumbersLine } from \"./components\";\nimport Text from \"./components/Text\";\n\nimport Block from \"../../layout/Block\";\n\nimport PostCard from \"../../styles/Post\";\nimport Content from \"../../styles/Content\";\nimport Header from \"../../components/Header\";\nimport { goBack, iconEdit, iconClose } from \"../../icons\";\nimport Button from \"../../components/Button\";\nimport { AuthState } from \"../../models\";\nimport Section from \"../../styles/Section\";\nimport Title from \"../../styles/common/Title\";\nimport Spacer from \"../../styles/utils/Spacer\";\nimport InLine from \"../../styles/utils/InLine\";\nimport { emptyPost } from \"../../store/defaults\";\n\nconst PostMuni = (props: {\n  auth: AuthState;\n  post: any;\n  news: any;\n  language: indexedObjAny;\n  locations: indexedObjAny;\n  setModule: (arg0: string) => void;\n  getNews: (arg0: string) => void;\n  updateNews: (arg0: any) => void;\n  showPost: (arg0: any) => void;\n  deleteNews: (arg0: string) => void;\n  prevModule: string;\n}) => {\n  const { direction, text } = props.language;\n  const { user } = props.auth;\n  const location = props.locations.filter(\n    (el: any) => el._id === user.location\n  )[0];\n\n  const originalPost = props.news.filter(\n    (post: any) => post._id === props.post._id\n  )[0];\n\n  const [deleteConfirmation, setDeleteConfirmation] = useState(false);\n  const [updateConfirmation, showUpdateConfirmation] = useState(false);\n\n  const [muniEdit, setMuniEdit] = useState(false);\n\n  // !\n  const muniUser = user.type === \"muni\";\n\n  const toggleMuniEdit = () => {\n    setMuniEdit(!muniEdit);\n  };\n  const toggleDeleteConfirmation = () => {\n    setDeleteConfirmation(!deleteConfirmation);\n  };\n  const toggleCloseSave = () => {\n    showUpdateConfirmation(!updateConfirmation);\n  };\n\n  const goHome = () => {\n    props.showPost({ show: false, ...emptyPost });\n    props.setModule(props.prevModule);\n  };\n\n  const handleUpdate = (answer: string) => {\n    if (answer === \"attention\") {\n      props.showPost(originalPost);\n    } else {\n      props.updateNews(props.post);\n    }\n    setMuniEdit(false);\n    showUpdateConfirmation(false);\n  };\n\n  const handleDelete = (mode: string) => {\n    if (mode === \"primary\") {\n      props.deleteNews(props.post._id);\n      goHome();\n    }\n  };\n  const handleRemovePhoto = () => {\n    props.showPost({ photo: \"\" });\n  };\n  const handleRemoveLink = () => {\n    props.showPost({ link: \"\" });\n  };\n  const handleSetPhoto = (photo: string) => {\n    props.showPost({ photo });\n  };\n\n  const handleSetLink = (link: string) => {\n    props.showPost({ link });\n  };\n  const handleSetText = (text: string) => {\n    props.showPost({ text });\n  };\n\n  const deleteButton = muniEdit ? (\n    <InLine\n      direction={direction}\n      justify='center'\n      width='100%'\n      padding='2rem 0'>\n      <Button mode='attention' onClick={toggleDeleteConfirmation}>\n        {text[\"post.delete.button\"]}\n      </Button>\n    </InLine>\n  ) : null;\n\n  const updateConfirmComponent = updateConfirmation ? (\n    <div>\n      <Confirm\n        text={text[\"post.update.confirm\"]}\n        close={toggleCloseSave}\n        action={handleUpdate}\n        direction={direction}\n      />\n    </div>\n  ) : null;\n\n  const deleteConfirmationComponent = deleteConfirmation ? (\n    <Confirm\n      text={text[\"post.delete.confirm\"]}\n      close={toggleDeleteConfirmation}\n      action={handleDelete}\n      direction={direction}\n    />\n  ) : null;\n  const ageText: { [index: string]: string } = text[\"post.age\"];\n\n  // header\n  let editIcon = muniUser\n    ? {\n        right: {\n          icon: iconEdit(\"secondary\"),\n          action: toggleMuniEdit,\n          noRtl: true\n        }\n      }\n    : null;\n  // edit mode\n  if (muniEdit)\n    editIcon = {\n      right: {\n        icon: iconClose(\"secondary\"),\n        action: toggleCloseSave,\n        noRtl: true\n      }\n    };\n\n  const headerObject = {\n    name: location.name[user.settings.language],\n    ...editIcon,\n    left: { icon: goBack(muniUser ? \"secondary\" : \"primary\"), action: goHome }\n  };\n  return (\n    <Content>\n      <Header {...headerObject} />\n      <Spacer space={7} />\n      <PostCard>\n        <Section direction={direction} padding='0 1rem'>\n          <Spacer space={1} />\n          <Title direction={direction} padding='0 1rem;'>\n            {props.post.title}\n          </Title>\n          <NumbersLine\n            date={props.post.createdAt}\n            daysText={ageText}\n            direction={direction}\n          />\n        </Section>\n        <Photo\n          src={props.post.photo}\n          edit={muniEdit}\n          actions={{ set: handleSetPhoto, remove: handleRemovePhoto }}\n        />\n        <Block>\n          <Link\n            primary\n            text={props.post.link}\n            direction={direction}\n            edit={muniEdit}\n            actions={{ set: handleSetLink, remove: handleRemoveLink }}\n            editText={{\n              message: text[\"post.link.edit\"],\n              confirm: text[\"confirm\"],\n              cancel: text[\"cancel\"],\n              label: text[\"new.field.link.label\"],\n              placeholder: text[\"new.field.link.prompt\"]\n            }}\n          />\n        </Block>\n        <Text\n          muni\n          text={props.post.text}\n          direction={direction}\n          edit={muniEdit}\n          action={handleSetText}\n        />\n      </PostCard>\n      {deleteButton}\n      {deleteConfirmationComponent}\n      {updateConfirmComponent}\n    </Content>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    auth: state.auth,\n    language: state.language,\n    locations: state.locations,\n    prevModule: state.prevModule,\n    post: state.post,\n    news: state.news\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { setModule, getNews, updateNews, showPost, deleteNews }\n)(PostMuni);\n","import React from \"react\";\n\nimport PostUser from \"../features/Post/\";\nimport News from \"../features/Post/News\";\n\nimport { Page } from \"../styles/Page\";\n\nconst Post = (props: { news?: boolean }) => (\n  <Page>{props.news ? <News /> : <PostUser />}</Page>\n);\n\nexport default Post;\n"],"sourceRoot":""}