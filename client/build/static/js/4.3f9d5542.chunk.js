(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{100:function(e,t,l){"use strict";var a=l(0),n=l.n(a),o=l(5),c=l(88),i=l(101),r=l(102),d=l(103),m=l(93),s=l.n(m),u=function(e){var t={background:"url(".concat(e.photo,") no-repeat scroll center center / cover")};return n.a.createElement("div",{style:t,className:s.a.photo})},p=l(104),_=l(94),f=l.n(_),g=function(e){return n.a.createElement("h2",{id:"title",className:"rtl"===e.direction?f.a.titleRTL:f.a.title},e.title)},h=l(105),E=l(89),v=l(23),C=l(96),b=l.n(C),Z=Object(o.b)(function(e){return{language:e.language,locationData:e.locationData}},{})(function(e){var t=e.language,l=t.text,a=t.direction,o=t.short,m=e.post,s=m._id,_=m.title,f=m.date,C=m.photo,Z=m.category,R=m.createdBy,k=e.post.votes?e.post.votes:[],w="",L=n.a.createElement(v.c,null),x=n.a.createElement(v.c,null),T=n.a.createElement(v.c,null);if(!e.muni){var j=e.locationData.categories,y=Object(i.a)(j,o,Z||"");L=n.a.createElement(p.a,{category:y}),w=1===k.length?l["post.voter"]:l["post.voters"],x=n.a.createElement(r.a,{number:k.length,text:w,direction:a});var D=R===e.locationData._id,O=k.includes(e.locationData._id),P="muni"===e.locationData.type;T=D||O||P?n.a.createElement(v.c,null):n.a.createElement("span",{className:b.a.button},n.a.createElement(d.a,null))}return n.a.createElement(E.a,{id:s,direction:a,action:function(){e.action(e.post)}},n.a.createElement(u,{photo:C}),n.a.createElement("section",{className:"rtl"===a?b.a.informationRTL:b.a.information},L,n.a.createElement(g,{title:Object(c.a)(_,50),direction:a}),n.a.createElement("section",{id:"age",className:"rtl"===a?b.a.dataRTL:b.a.data},n.a.createElement(h.a,{date:f,text:[l["post.age.day"],l["post.age.days"]],direction:a}),x,T)))});t.a=function(e){return e.posts.map(function(t){return n.a.createElement(Z,{key:t._id,post:t,muni:e.muni,action:e.action})})}},115:function(e,t,l){"use strict";var a=l(0),n=l.n(a),o=l(99),c=l(5),i=l(106),r=l(107),d=l(114),m=l(92),s=l(111),u=l.n(s),p=Object(c.b)(function(e){return{language:e.language}},{})(function(e){var t=e.post,l=e.language.direction;e.language.text;return n.a.createElement("div",{className:u.a.post},n.a.createElement(i.a,{src:t.photo}),n.a.createElement(m.a,null,n.a.createElement(r.a,{primary:!0,text:t.link,direction:l})),n.a.createElement(d.a,{muni:!0,text:t.text,direction:l}))});t.a=function(e){console.log(e.edit);var t=e.muni?n.a.createElement(p,{post:e.post,edit:e.edit}):n.a.createElement(o.a,{post:e.post,edit:e.edit,action:function(e){}});return t}},137:function(e,t,l){e.exports={line:"PinnedCard_line__CWah8",lineRTL:"PinnedCard_lineRTL__1U8yv",title:"PinnedCard_title__Zd35D",date:"PinnedCard_date__p1PXH",text:"PinnedCard_text__-1h-N","icon-template":"PinnedCard_icon-template__iCaHr",icon:"PinnedCard_icon__1ygcU",iconRTL:"PinnedCard_iconRTL__HyXqG"}},144:function(e,t,l){"use strict";l.r(t);var a=l(6),n=l(0),o=l.n(n),c=l(5),i=l(83),r=l(2),d=l(117),m=l(88),s=l(7),u=l(92),p=l(89),_=l(91),f=l(90),g=l(10),h=function(e){var t,l=Object.keys(g.a).includes(e.color)?g.a[e.color]:"white";return e.filled?(t=l,o.a.createElement("svg",{width:"90%",height:"90%",viewBox:"0 0 390 429",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeMiterlimit:"1.414"},o.a.createElement("path",{d:"M369.367,408.915l-349.467,0l0,-13.721l349.467,0l0,13.721Zm-25.826,-25.827l-26.634,0l0,-149.311l26.634,0l0,149.311Zm-180.787,0l-78.287,0l0,-149.311l39.547,0l0,135.59l12.106,0l0,-135.59l26.634,0l0,149.311Zm51.653,0l-39.547,0l0,-149.311l39.547,0l0,149.311Zm38.74,0l-26.633,0l0,-149.311l26.633,0l0,149.311Zm51.654,0l-39.547,0l0,-149.311l39.547,0l0,149.311Zm-232.44,0l-26.634,0l0,-149.311l26.634,0l0,149.311Zm297.006,-161.417l-349.467,0l0,-13.72l349.467,0l0,13.72Zm-39.362,-25.826l-269.936,0l134.968,-89.979l134.968,89.979Zm-154.337,-38.74l-12.914,0l0,12.106l12.914,0l0,-12.106Zm51.653,0l-12.914,0l0,12.106l12.914,0l0,-12.106Zm-25.827,0l-12.913,0l0,12.106l12.913,0l0,-12.106Zm38.74,-103.307l-39.547,0l0,-26.634l39.547,0l0,26.634Z",fill:t}),o.a.createElement("path",{d:"M355.647,383.088l0,-149.311l25.827,0l0,-37.932l-29.644,0l-151.143,-100.494l0,-29.447l51.653,0l0,-50.846l-51.653,0l0,-7.264l-12.106,0l0,87.557l-150.336,100.494l-30.451,0l0,37.932l25.827,0l0,149.311l-25.827,0l0,37.933l373.68,0l0,-37.933l-25.827,0Zm-115.413,-355.924l0,26.634l-39.547,0l0,-26.634l39.547,0Zm-220.334,180.787l349.467,0l0,13.72l-349.467,0l0,-13.72Zm349.467,200.964l-349.467,0l0,-13.721l349.467,0l0,13.721Z",fill:"none",fillRule:"nonzero",stroke:t,strokeWidth:"9"}))):function(e){return o.a.createElement("svg",{width:"90%",height:"90%",viewBox:"0 0 379 418",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"1.414"},o.a.createElement("g",{fill:e},o.a.createElement("rect",{x:"157.057",y:"150.972",width:"13.088",height:"12.241"}),o.a.createElement("rect",{x:"183.234",y:"150.972",width:"13.088",height:"12.241"}),o.a.createElement("rect",{x:"209.41",y:"150.972",width:"13.088",height:"12.241"}),o.a.createElement("path",{d:"M352.561,379.469l0,-150.971l26.177,0l0,-38.355l-30.046,0l-153.188,-101.612l0,-29.774l52.352,0l0,-51.412l-52.352,0l0,-7.345l-12.27,0l0,88.531l-152.371,101.612l-30.863,0l0,38.355l26.176,0l0,150.971l-26.176,0l0,38.355l378.738,0l0,-38.355l-26.177,0Zm-12.27,0l-26.994,0l0,-150.971l26.994,0l0,150.971Zm-222.498,-150.971l0,137.098l12.27,0l0,-137.098l26.994,0l0,150.971l-79.346,0l0,-150.971l40.082,0Zm51.535,0l40.082,0l0,150.971l-40.082,0l0,-150.971Zm52.352,0l26.994,0l0,150.971l-26.994,0l0,-150.971Zm39.264,0l40.083,0l0,150.971l-40.083,0l0,-150.971Zm-25.358,-208.912l0,26.93l-40.082,0l0,-26.93l40.082,0Zm-45.808,79.577l136.794,90.98l-273.59,0l136.796,-90.98Zm-177.508,103.221l354.197,0l0,13.873l-354.197,0l0,-13.873Zm26.176,26.114l26.995,0l0,150.971l-26.995,0l0,-150.971Zm328.021,177.085l-354.197,0l0,-13.873l354.197,0l0,13.873Z",fillRule:"nonzero"})))}(l)},E=l(137),v=l.n(E),C=Object(c.b)(function(e){return{language:e.language}},{})(function(e){var t=e.language.direction,l=Object(s.a)("icon",t);return o.a.createElement(p.a,{direction:t,id:e.post._id,margin:25,action:function(){e.action(e.post)}},o.a.createElement("div",{className:v.a[l]},o.a.createElement(h,{filled:!0,color:"primary"})),o.a.createElement(u.a,null,o.a.createElement(_.a,{direction:t},o.a.createElement("span",{className:v.a.title},Object(m.a)(e.post.title,55))),o.a.createElement(_.a,{thin:!0,direction:t},o.a.createElement("span",{className:v.a.date},Object(d.a)(e.post.date,t))),o.a.createElement(f.a,{direction:t},Object(m.a)(e.post.text,95))))}),b=l(87),Z=l(115),R=l(100),k=l(22),w=l(86),L=l(99);t.default=Object(c.b)(function(e){return{language:e.language,locationData:e.locationData,help:e.help,posts:e.posts}},{showHelp:i.b,vote:r.m,setPosts:r.k})(function(e){var t=e.locationData,l=t.posts,c=t.pinned,i=Object(n.useState)(c||{}),d=Object(a.a)(i,2),m=d[0],s=(d[1],Object(n.useState)({_id:"",createdBy:""})),u=Object(a.a)(s,2),p=u[0],_=u[1],f=Object(n.useState)({_id:"",createdBy:""}),g=Object(a.a)(f,2),h=g[0],E=g[1];Object(n.useEffect)(function(){l&&Object(r.k)(l)},[e.locationData,l]);var v=function(){e.showHelp(!e.help)},x=function(e){console.log(e)},T=o.a.createElement(b.a,{help:v,returnTo:"home"}),j=null,y=o.a.createElement(R.a,{posts:e.posts,action:function(e){p!==e&&_(e)}});if(""!==p._id){var D=p.createdBy===e.locationData._id,O=e.locationData.type;T=o.a.createElement(b.a,{help:v,returnTo:"home",edit:!0,action:x}),D||(T=o.a.createElement(b.a,{help:v,returnTo:"home",complain:!0,action:x})),O&&(T=o.a.createElement(b.a,{help:v,returnTo:"home"})),y=o.a.createElement(L.a,{post:p,action:function(t){switch(console.log("handle"),t.action){case"vote":var l=e.posts;l.map(function(l){l._id===t._id&&(l.votes.includes(e.locationData._id)||(console.log(l.votes),l.votes.push(e.locationData._id)))}),e.setPosts(l),e.vote(t._id,e.locationData._id)}}}),j=null}else m!=={}&&(j=o.a.createElement(C,{post:m,action:function(e){h!==e&&E(e)}}));return""!==h._id&&(y=o.a.createElement(Z.a,{muni:!0,post:h}),j=null,T=o.a.createElement(b.a,{help:v,returnTo:"home"})),function(e){return o.a.createElement(k.a,null,e.header," ",o.a.createElement(w.a,{padded:!0},e.pinnedCard,e.main))}({header:T,pinnedCard:j,main:y})})},84:function(e,t,l){e.exports={title:"Title_title__3E1da",titleR:"Title_titleR__2xWHP"}},85:function(e,t,l){e.exports={plank:"Header_plank__noG37",plankRTL:"Header_plankRTL__CAKGN"}},87:function(e,t,l){"use strict";var a=l(7),n=l(16),o=l(0),c=l.n(o),i=l(10),r=function(e){return c.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 302 300",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"1.41421"},c.a.createElement("path",{d:"M278.287,188.267c-4.148,0 -7.509,3.362 -7.509,7.509l0,66.675c-0.015,12.437 -10.091,22.516 -22.528,22.527l-210.704,0c-12.437,-0.011 -22.513,-10.09 -22.527,-22.527l0,-195.685c0.014,-12.434 10.09,-22.513 22.527,-22.528l66.675,0c4.148,0 7.509,-3.361 7.509,-7.509c0,-4.145 -3.361,-7.509 -7.509,-7.509l-66.675,0c-20.726,0.023 -37.523,16.819 -37.546,37.546l0,195.688c0.023,20.726 16.82,37.523 37.546,37.546l210.704,0c20.726,-0.023 37.523,-16.82 37.546,-37.546l0,-66.678c0,-4.147 -3.361,-7.509 -7.509,-7.509Z",fill:i.a[e.color],fillRule:"nonzero"}),c.a.createElement("path",{d:"M282.822,9.898c-13.197,-13.197 -34.593,-13.197 -47.79,0l-133.97,133.97c-0.919,0.918 -1.581,2.057 -1.928,3.306l-17.617,63.603c-0.725,2.608 0.012,5.4 1.924,7.316c1.916,1.912 4.708,2.649 7.316,1.927l63.603,-17.62c1.25,-0.346 2.388,-1.009 3.306,-1.927l133.967,-133.974c13.177,-13.206 13.177,-34.584 0,-47.79l-8.811,-8.811Zm-165.398,138.851l109.644,-109.647l35.361,35.361l-109.647,109.647l-35.358,-35.361Zm-7.064,14.174l28.251,28.254l-39.078,10.827l10.827,-39.081Zm170.655,-107.043l-7.964,7.964l-35.364,-35.364l7.967,-7.964c7.33,-7.33 19.216,-7.33 26.546,0l8.815,8.812c7.318,7.339 7.318,19.216 0,26.552Z",fill:i.a[e.color],fillRule:"nonzero"}))},d=function(e){return c.a.createElement("svg",{viewBox:"0 0 300 300",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"1.414"},c.a.createElement("path",{d:"M234.195,84.195C316.982,84.195 384.195,151.408 384.195,234.195C384.195,316.982 316.982,384.195 234.195,384.195C151.408,384.195 84.195,316.982 84.195,234.195C84.195,151.408 151.408,84.195 234.195,84.195ZM234.195,100.615C307.92,100.615 367.775,160.47 367.775,234.195C367.775,307.92 307.92,367.775 234.195,367.775C160.47,367.775 100.615,307.92 100.615,234.195C100.615,160.47 160.47,100.615 234.195,100.615Z",fill:e.color?i.a[e.color]:i.a.attention,transform:"matrix(1 0 0 1 -84.19 -84.195)"}),c.a.createElement("path",{d:"M0.183,-0.22C0.167,-0.22 0.153,-0.226 0.142,-0.237C0.131,-0.248 0.125,-0.261 0.124,-0.277L0.109,-0.673C0.108,-0.688 0.113,-0.702 0.124,-0.713C0.135,-0.724 0.148,-0.73 0.163,-0.73L0.217,-0.73C0.232,-0.73 0.245,-0.724 0.256,-0.713C0.267,-0.702 0.272,-0.688 0.271,-0.673L0.256,-0.277C0.255,-0.261 0.249,-0.248 0.238,-0.237C0.227,-0.226 0.213,-0.22 0.197,-0.22L0.183,-0.22ZM0.207,-0.14C0.222,-0.14 0.236,-0.134 0.247,-0.123C0.258,-0.112 0.263,-0.098 0.263,-0.083L0.263,-0.057C0.263,-0.042 0.258,-0.028 0.247,-0.017C0.236,-0.006 0.222,0 0.207,0L0.173,0C0.158,0 0.145,-0.006 0.134,-0.017C0.123,-0.028 0.117,-0.042 0.117,-0.057L0.117,-0.083C0.117,-0.098 0.123,-0.112 0.134,-0.123C0.145,-0.134 0.158,-0.14 0.173,-0.14L0.207,-0.14Z",fill:e.color?i.a[e.color]:i.a.attention,fillRule:"nonzero",transform:"matrix(202.96834 0 0 202.968 111.44 224.083)"}))},m=function(e){return c.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 300 300",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"1.41421"},c.a.createElement("path",{d:"M150,0c82.787,0 150,67.213 150,150c0,82.787 -67.213,150 -150,150c-82.787,0 -150,-67.213 -150,-150c0,-82.787 67.213,-150 150,-150Zm0,16.42c73.725,0 133.58,59.855 133.58,133.58c0,73.725 -59.855,133.58 -133.58,133.58c-73.725,0 -133.58,-59.855 -133.58,-133.58c0,-73.725 59.855,-133.58 133.58,-133.58Z",fill:i.a[e.color]}),c.a.createElement("path",{d:"M111.256,103.147c-2.669,0.668 -5.172,0.167 -7.508,-1.501c-2.336,-1.669 -3.504,-3.905 -3.504,-6.708l0,-1.602c0,-3.337 1.068,-6.34 3.204,-9.01c2.135,-2.67 4.805,-4.271 8.009,-4.805c12.414,-2.403 24.894,-3.604 37.442,-3.604c16.151,0 28.665,3.17 37.542,9.51c8.877,6.341 13.315,14.717 13.315,25.129c0,4.805 -0.634,9.11 -1.902,12.914c-1.268,3.804 -3.27,7.242 -6.007,10.312c-2.736,3.07 -5.206,5.473 -7.408,7.208c-2.203,1.735 -5.239,3.938 -9.11,6.607c-3.605,2.536 -6.408,4.539 -8.41,6.007c-2.002,1.468 -4.171,3.537 -6.507,6.207c-2.336,2.67 -4.105,5.473 -5.306,8.41c-2.937,7.475 -7.409,11.212 -13.415,11.212l-4.005,0c-3.203,0 -5.873,-1.168 -8.009,-3.504c-2.136,-2.336 -2.87,-4.972 -2.202,-7.909c1.201,-4.805 3.37,-9.377 6.507,-13.715c3.137,-4.338 5.873,-7.442 8.209,-9.311c2.336,-1.868 5.907,-4.605 10.712,-8.209c4.138,-2.937 7.175,-5.239 9.111,-6.908c1.935,-1.668 3.804,-3.937 5.606,-6.807c1.802,-2.87 2.703,-5.907 2.703,-9.111c0,-10.278 -8.476,-15.417 -25.429,-15.417c-9.878,0 -21.09,1.535 -33.638,4.605Zm25.029,92.905l6.607,0c3.07,0 5.74,1.134 8.009,3.404c2.269,2.269 3.404,4.939 3.404,8.009l0,5.206c0,3.07 -1.135,5.739 -3.404,8.009c-2.269,2.269 -4.939,3.403 -8.009,3.403l-6.607,0c-3.071,0 -5.74,-1.134 -8.009,-3.403c-2.27,-2.27 -3.404,-4.939 -3.404,-8.009l0,-5.206c0,-3.07 1.134,-5.74 3.404,-8.009c2.269,-2.27 4.938,-3.404 8.009,-3.404Z",fill:i.a[e.color],fillRule:"nonzero"}))},s=l(84),u=l.n(s),p=function(e){return c.a.createElement("h1",{className:"rtl"===e.direction?u.a.titleR:u.a.title,onClick:function(){return e.return()}},e.title)},_=l(5),f=l(2),g=l(85),h=l.n(g);t.a=Object(_.b)(function(e){return{language:e.language,locationData:e.locationData}},{setModule:f.j})(function(e){var t=e.language.direction,l=e.locationData.name[e.language.short]?e.locationData.name[e.language.short]:e.locationData.name.en,o="",i=c.a.createElement("div",null);return e.edit?(i=c.a.createElement(r,{color:"primary"}),o="edit"):e.complain&&(i=c.a.createElement(d,null),o="complain"),c.a.createElement("header",{className:h.a[Object(a.a)("plank",t)]},c.a.createElement(n.a,{mode:"minimal",action:e.help},c.a.createElement(m,{color:"primary"})),c.a.createElement(p,{title:l,direction:t,return:function(){e.setModule(e.returnTo)}}),c.a.createElement(n.a,{mode:"minimal",action:function(){e.action&&e.action({mode:o,details:"something"})}},i))})},88:function(e,t,l){"use strict";t.a=function(e,t){return e&&t&&"string"===typeof e&&"number"===typeof t&&0!==e.length&&0!==t?e.length<=t?e:"".concat(e.split("").splice(0,t).join(""),"..."):""}},89:function(e,t,l){"use strict";var a=l(0),n=l.n(a),o=l(95),c=l.n(o);t.a=function(e){var t="rtl"===e.direction?c.a.cardRTL:c.a.card,l={marginTop:e.margin||0};return n.a.createElement("article",{id:e.id,className:t,style:e.margin?l:{},onClick:function(){return e.action()}},e.children)}},92:function(e,t,l){"use strict";var a=l(0),n=l.n(a),o=l(98),c=l.n(o);t.a=function(e){var t=c.a.block;return e.border?t=c.a.border:e.rectangle&&(t=c.a.borderRectangle),n.a.createElement("div",{className:t},e.children)}},93:function(e,t,l){e.exports={photo:"Photo_photo__2jLDr"}},94:function(e,t,l){e.exports={title:"Title_title__1_kEt",titleRTL:"Title_titleRTL__2EpgU"}},95:function(e,t,l){e.exports={"card-template":"Card_card-template__3uJ4i",card:"Card_card__3mid8",cardRTL:"Card_cardRTL__2qsIY"}},96:function(e,t,l){e.exports={information:"PostCard_information__S82Q7",informationRTL:"PostCard_informationRTL__vzk33",data:"PostCard_data__Qw1d9",dataRTL:"PostCard_dataRTL__2L54S",line:"PostCard_line__HaM_v",lineRTL:"PostCard_lineRTL__3irZ8",voters:"PostCard_voters__1l4UD",button:"PostCard_button__3kO3D"}},98:function(e,t,l){e.exports={block:"Block_block__25D3U",border:"Block_border__3jZ4R",borderRectangle:"Block_borderRectangle__bDkgw"}}}]);
//# sourceMappingURL=4.3f9d5542.chunk.js.map