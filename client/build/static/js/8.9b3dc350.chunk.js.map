{"version":3,"sources":["layout/style/Block.module.scss","layout/SubTitle.tsx","layout/style/SubTitle.module.scss","features/New/components/styles/PhotoUpload.module.scss","features/New/components/styles/Step.module.scss","features/New/components/styles/Steps.module.scss","components/styles/Message.module.scss","features/New/components/PhotoUpload.tsx","modules/image_coder.ts","features/New/components/Step.tsx","features/New/components/Steps.tsx","components/Message.tsx","features/New/components/ContentBlock.tsx","features/New/index.tsx","pages/New.tsx","layout/Block.tsx"],"names":["module","exports","block","border","borderRectangle","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_style_SubTitle_module_scss__WEBPACK_IMPORTED_MODULE_1__","_style_SubTitle_module_scss__WEBPACK_IMPORTED_MODULE_1___default","SubTitle","props","a","createElement","className","direction","styles","titleR","title","image","imageDef","input","step","filled","line-template","line","lineRTL","message","messageRTL","messageForm","messageFormRTL","attention","cancel","primary","secondary","PhotoUpload","_React$useState","React","useState","_React$useState2","Object","slicedToArray","photo","setPhoto","getBaseFile","event","file","callback","reader","FileReader","readAsDataURL","onloadend","result","imageEncoder","target","files","image64","parts","split","imageType","decodedData","window","atob","uInt8Array","Uint8Array","length","i","charCodeAt","URL","createObjectURL","Blob","type","imageDecoder","action","showPhoto","react_default","src","alt","style","Block","id","name","onChange","e","htmlFor","button","primarySmall","label","Step","iconStyle","current","data-testid","onClick","Steps","stepsStyle","styleFactory","map","components_Step","key","Message","use","toUpperCase","slice","messageStyle","concat","messageMode","mode","children","ContentBlock","Content","padded","stepOne","stepTwo","stepThree","stepFour","stepFive","preview","components_Message","loadingElement","connect","state","language","locationData","token","submitResult","submitPost","setStep","text","_React$useState3","_React$useState4","review","setReview","_React$useState5","_React$useState6","loading","setLoading","_React$useState7","_React$useState8","setTitle","_React$useState9","categories","short","_React$useState10","category","setCategory","_React$useState11","_React$useState12","problem","setProblem","_React$useState13","_React$useState14","solution","setSolution","_React$useState15","_React$useState16","_React$useState17","_React$useState18","link","setLink","_React$useState19","_React$useState20","setMessage","useEffect","handleInputChange","value","pageSubTitle","stepsComponent","components_Steps","newStep","buttonPrimary","Button","check","response","RegExp","test","Utils","objectToSubmit","user","_id","location","post","axios","then","data","catch","error","toString","formSection","placeholder","focus","formSelection","list","cat","keys","includes","push","getCategories","Section","Label","components_PhotoUpload","createdBy","date","status","votes","Post","Loading","Center","Paragraph","components_ContentBlock","ButtonsWrapper","row","disabled","New","Page","opposite","features_New","_style_Block_module_scss__WEBPACK_IMPORTED_MODULE_1__","_style_Block_module_scss__WEBPACK_IMPORTED_MODULE_1___default","blockStyle","rectangle"],"mappings":"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","file":"static/js/8.9b3dc350.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Block_block__25D3U\",\"border\":\"Block_border__3jZ4R\",\"borderRectangle\":\"Block_borderRectangle__bDkgw\"};","import React from \"react\";\n\nimport styles from \"./style/SubTitle.module.scss\";\n\nconst SubTitle = (props: { title: string; direction: string }) => {\n  return (\n    <h2 className={props.direction === \"rtl\" ? styles.titleR : styles.title}>\n      {props.title}\n    </h2>\n  );\n};\n\nexport default SubTitle;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"SubTitle_title__2Xfou\",\"titleR\":\"SubTitle_titleR__3z-AB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"PhotoUpload_image__2Zabf\",\"imageDef\":\"PhotoUpload_imageDef__2JDPm\",\"input\":\"PhotoUpload_input__1piRJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"step\":\"Step_step__2Ob0-\",\"filled\":\"Step_filled__1vPZN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"line-template\":\"Steps_line-template__1pr6S\",\"line\":\"Steps_line__3O_Uu\",\"lineRTL\":\"Steps_lineRTL__3yzCh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__1Ow9o\",\"messageRTL\":\"Message_messageRTL__3vHmD\",\"messageForm\":\"Message_messageForm__2lKkb\",\"messageFormRTL\":\"Message_messageFormRTL__34syT\",\"attention\":\"Message_attention__3IUqP\",\"cancel\":\"Message_cancel__2CF6p\",\"primary\":\"Message_primary__1iLkV\",\"secondary\":\"Message_secondary__1TENZ\"};","import React from \"react\";\n\nimport { imageDecoder, imageEncoder } from \"../../../modules/image_coder\";\n\nimport Block from \"../../../layout/Block\";\n\nimport button from \"../../../components/styles/Button.module.scss\";\nimport style from \"./styles/PhotoUpload.module.scss\";\n\nconst PhotoUpload = (props: {\n  label: string;\n  direction: string;\n  action: (arg0: any) => void;\n}) => {\n  const defaultPhoto =\n    \"https://res.cloudinary.com/diciu4xpu/image/upload/v1560088174/dev/photo.svg\";\n  const [photo, setPhoto] = React.useState(\"\");\n\n  /**\n   * Function to convert file to base64, send it to props,set local URL as preview\n   * @params {Array} files - File selected by client\n   */\n  const getBaseFile = (event: any) => {\n    imageEncoder(event.target.files[0], (image64: any) => {\n      const image = imageDecoder(image64);\n      setPhoto(image);\n      props.action(image64);\n    });\n  };\n\n  const showPhoto = photo ? (\n    <img src={photo} alt='upload-image' className={style.image} />\n  ) : (\n    <img src={defaultPhoto} alt='upload-image' className={style.imageDef} />\n  );\n\n  return (\n    <Block border>\n      {showPhoto}\n      <input\n        id='file'\n        type='file'\n        name='file'\n        className={style.input}\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) => getBaseFile(e)}\n        // onDone={(e: any) => getBaseFile(e)}\n      />\n      <label htmlFor='file' className={button.primarySmall}>\n        {props.label}\n      </label>\n    </Block>\n  );\n};\n\nexport default PhotoUpload;\n","export const imageEncoder = (file: any, callback: (arg0: any) => void) => {\n  const reader = new FileReader();\n  reader.readAsDataURL(file);\n  reader.onloadend = () => {\n    callback(reader.result);\n  };\n};\n\nexport const imageDecoder = (image64: any) => {\n  // const convertBase64ToBlob = (Base64Image: any) => {\n  // SPLIT INTO TWO PARTS\n  const parts = image64.split(\";base64,\");\n  // HOLD THE CONTENT TYPE\n  const imageType = parts[0].split(\":\")[1];\n  // DECODE BASE64 STRING\n  const decodedData = window.atob(parts[1]);\n  // CREATE UNIT8ARRAY OF SIZE SAME AS ROW DATA LENGTH\n  const uInt8Array = new Uint8Array(decodedData.length);\n  // INSERT ALL CHARACTER CODE INTO UINT8ARRAY\n  for (let i = 0; i < decodedData.length; ++i) {\n    uInt8Array[i] = decodedData.charCodeAt(i);\n  }\n  // RETURN BLOB IMAGE AFTER CONVERSION\n  return URL.createObjectURL(new Blob([uInt8Array], { type: imageType }));\n};\n\n// export const imageEncoderAsync = async (\n//   file: any,\n//   callback: (arg0: any) => void\n// ) => {\n//   const reader = new FileReader();\n//   reader.readAsDataURL(file);\n//   // reader.onloadend = () => {\n//   //   callback(reader.result);\n//   // };\n//   return await reader.result;\n// };\n","import React from \"react\";\n\nimport style from \"./styles/Step.module.scss\";\n\nconst Step = (props: {\n  step: number;\n  current: number;\n  action: (arg0: number) => void;\n}) => {\n  const iconStyle = props.current < props.step + 1 ? style.step : style.filled;\n  return (\n    <div\n      data-testid='step-icon'\n      className={iconStyle}\n      onClick={() => props.action(props.step)}>\n      {props.step}\n    </div>\n  );\n};\n\nexport default Step;\n","import React from \"react\";\n\nimport Step from \"./Step\";\n\nimport style from \"./styles/Steps.module.scss\";\nimport styleFactory from \"../../../modules/style_factory\";\n\n/**\n * Function to create React.FunctionalComponent with set of step icons, clickable\n *\n * @param {Object} props\n *\n * @returns {React.FC}\n */\nconst Steps = (props: {\n  current: number;\n  direction: string;\n  action: (arg0: number) => void;\n}) => {\n  const stepsStyle = style[styleFactory(\"line\", props.direction)];\n  return (\n    <section className={stepsStyle}>\n      {[1, 2, 3, 4, 5].map((step: number) => {\n        return (\n          <Step\n            key={step}\n            step={step}\n            current={props.current}\n            action={props.action}\n          />\n        );\n      })}\n    </section>\n  );\n};\n\nexport default Steps;\n","import React from \"react\";\n\nimport styleFactory from \"../modules/style_factory\";\n\nimport style from \"./styles/Message.module.scss\";\n\n/**\n * React JSX component to wrap message\n *\n * @param {object} props - Children to display, mode/color\n *\n * @returns {JSX.Element}\n *\n */\nconst Message = (props: { children: any; direction: string; mode: string;use?:string }) => {\n  const styles: any = style;\n  const use = props.use ? props.use[0].toUpperCase() + props.use.slice(1) : ''\n  const messageStyle = styles[styleFactory(`message${use}`, props.direction)];\n  const messageMode = styles[props.mode];\n  return (\n    <div className={messageStyle}>\n      <span className={messageMode}>{props.children}</span>\n    </div>\n  );\n};\n\nexport default Message;\n","import React from \"react\";\n\nimport Message from \"../../../components/Message\";\n\nimport Content from \"../../../layout/Content\";\n\nconst ContentBlock = (props: {\n  stepOne: React.ClassicElement<any> | null;\n  stepTwo: React.ClassicElement<any> | null;\n  stepThree: React.ClassicElement<any> | null;\n  stepFour: React.ClassicElement<any> | null;\n  stepFive: React.ClassicElement<any> | null;\n  preview: React.ClassicElement<any> | null;\n  loadingElement: React.ClassicElement<any> | null;\n  message: string;\n\n  direction: string;\n}) => {\n  return (\n    <Content padded>\n      {props.stepOne}\n      {props.stepTwo}\n      {props.stepThree}\n      {props.stepFour}\n      {props.stepFive}\n      {props.preview}\n      <Message direction={props.direction} mode='attention' use='form'>\n        {props.message}\n      </Message>\n      {props.loadingElement}\n    </Content>\n  );\n};\n\nexport default ContentBlock;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\n\nimport { formSection, formSelection } from \"../../components/formSection\";\n\nimport { AppState } from \"../../store\";\nimport { setStep } from \"../../store/app/actions\";\nimport { submitPost } from \"../../store/post/actions\";\nimport { indexedObjAny, data } from \"../../store/types\";\n\nimport Post from \"../Post\";\n\nimport Button from \"../../components/Button\";\nimport Loading from \"../../components/Loading\";\nimport PhotoUpload from \"./components/PhotoUpload\";\nimport Steps from \"./components/Steps\";\nimport ContentBlock from \"./components/ContentBlock\";\n\nimport ButtonsWrapper from \"../../layout/ButtonsWrapper\";\nimport Center from \"../../layout/Center\";\nimport Content from \"../../layout/Content\";\nimport Label from \"../../layout/Label\";\nimport Section from \"../../layout/Section\";\nimport Paragraph from \"../../layout/Paragraph\";\nimport SubTitle from \"../../layout/SubTitle\";\nimport { Zero } from \"../../layout/Utils\";\n\nconst NewPost = (props: {\n  language: data;\n  locationData: data;\n  token: string;\n  step: number;\n  submitResult: data;\n  setStep: (arg0: number) => void;\n  submitPost: (arg0: indexedObjAny) => void;\n}) => {\n  const { direction } = props.language;\n  const { text } = props.language;\n  const [step, setStep] = React.useState(props.step);\n  const [review, setReview] = React.useState(false);\n  const [loading, setLoading] = React.useState(false);\n  // form fields\n  const [title, setTitle] = React.useState(\"\");\n  const [category, setCategory] = React.useState(\n    props.locationData.categories[0][props.language.short]\n  );\n  const [problem, setProblem] = React.useState(\"\");\n  const [solution, setSolution] = React.useState(\"\");\n  const [photo, setPhoto] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n  // message\n  const [message, setMessage] = React.useState(\"\");\n\n  React.useEffect(() => {\n    if (step === 6 && review === false) {\n      setReview(true);\n    }\n  }, [step]);\n\n  const getCategories = () => {\n    let categories: Array<{ [index: string]: string }> = [];\n    props.locationData.categories.map((cat: any) => {\n      const language = !Object.keys(cat).includes(props.language.short)\n        ? \"en\"\n        : props.language.short;\n      categories.push({ value: cat._id, label: cat[language] });\n    });\n    return categories;\n  };\n\n  const handleNextStep = () => {\n    if (step + 1 <= 6) {\n      let check: boolean = true;\n      let response: string = text[\"new.message.fieldEmpty\"];\n      switch (step) {\n        case 1:\n          check = title !== \"\";\n          break;\n        case 2:\n          check = category !== \"\";\n          break;\n        case 3:\n          check = problem !== \"\";\n          break;\n        case 4:\n          check = solution !== \"\";\n          break;\n        case 5:\n          if (link) {\n            const regex = new RegExp(\n              \"^([0-9A-Za-z-\\\\.@:%_+~#=]+)+((\\\\.[a-zA-Z]{2,3})+)(/(.)*)?(\\\\?(.)*)?\"\n            );\n            check = regex.test(link);\n            if (!check) {\n              response = text[\"new.message.urlMalformed\"];\n            }\n          }\n          break;\n      }\n      if (check) {\n        setMessage(\"\");\n        setStep(step + 1);\n      } else {\n        setMessage(response);\n      }\n    }\n  };\n\n  const handleBackStep = () => {\n    if (step - 1 > 0) {\n      setStep(step - 1);\n    }\n  };\n\n  const handleAnyStep = (newStep: number) => {\n    if (review) {\n      setStep(newStep);\n    }\n  };\n\n  const handleInputChange = (event: any) => {\n    setMessage(\"\");\n    switch (event.target.name) {\n      case \"title\":\n        setTitle(event.target.value);\n        break;\n      case \"problem\":\n        setProblem(event.target.value);\n        break;\n      case \"solution\":\n        setSolution(event.target.value);\n        break;\n      case \"link\":\n        setLink(event.target.value);\n        break;\n    }\n  };\n  const handleDropDown = (event: any) => {\n    setCategory(event.target.value);\n  };\n\n  const handleSetPhoto = (props: any) => {\n    setPhoto(props);\n  };\n\n  const disableFormSubmit = (e: any) => {\n    e.preventDefault();\n  };\n\n  const handleSubmit = () => {\n    const objectToSubmit: indexedObjAny = {\n      user: props.locationData._id,\n      location: props.locationData.location,\n      token: props.token,\n      post: {\n        title,\n        category,\n        problem,\n        solution,\n        photo,\n        link\n      }\n    };\n\n    let check = 0;\n    let counter = 0;\n\n    // Object.keys(objectToSubmit).map((el: any) => {\n    //   if (typeof objectToSubmit[el] === \"object\") {\n    //     Object.keys(objectToSubmit[el]).map((ele: any) => {\n    //       const empty = objectToSubmit[el][ele] === \"\";\n    //       if (!empty) {\n    //         check += 1;\n    //       }\n    //       counter += 1;\n    //     });\n    //   } else if (\n    //     objectToSubmit[el] === \"photo\" ||\n    //     objectToSubmit[el] === \"link\"\n    //   ) {\n    //     check += 1;\n    //     counter += 1;\n    //   } else {\n    //     const empty = objectToSubmit[el] === \"\";\n    //     if (!empty) {\n    //       check += 1;\n    //     }\n    //     counter += 1;\n    //   }\n    // });\n\n    const url = \"/post/create\";\n    axios\n      .post(url, objectToSubmit)\n      .then((response: any) => {\n        setLoading(false);\n        setMessage(response.data.message);\n      })\n      .catch(error => {\n        const payload = error.response ? error.response.data : error.toString();\n      });\n\n    if (check === counter) {\n      setLoading(true);\n      // props.setStep(6);\n      // props.submitPost(objectToSubmit);\n    } else {\n      setMessage(text[\"new.error.incomplete\"]);\n    }\n  };\n\n  let pageSubTitle = text[\"new.steps.title\"];\n  let stepsComponent = (\n    <Steps current={step} direction={direction} action={handleAnyStep} />\n  );\n  let buttonPrimary = (\n    <Button mode='primary' action={handleNextStep}>\n      {text[\"new.steps.button.next\"]}\n    </Button>\n  );\n\n  if (step === 6) {\n    stepsComponent = <Zero />;\n    pageSubTitle = text[\"new.preview\"];\n    buttonPrimary = (\n      <Button mode='primary' action={handleSubmit}>\n        {text[\"new.steps.button.submit\"]}\n      </Button>\n    );\n  }\n\n  const stepOne =\n    step === 1\n      ? formSection({\n          label: text[\"new.field.title.label\"],\n          type: \"text\",\n          name: \"title\",\n          value: title,\n          placeholder: text[\"new.field.title.prompt\"],\n          action: handleInputChange,\n          length: 2,\n          focus: true\n        })\n      : null;\n\n  const stepTwo =\n    step === 2\n      ? formSelection({\n          list: getCategories(),\n          direction,\n          label: text[\"new.field.category.label\"],\n          action: handleDropDown,\n          focus: true\n        })\n      : null;\n\n  const stepThree =\n    step === 3\n      ? formSection({\n          label: text[\"new.field.problem.label\"],\n          type: \"textarea\",\n          name: \"problem\",\n          value: problem,\n          placeholder: text[\"new.field.problem.prompt\"],\n          action: handleInputChange,\n          length: 50,\n          focus: true\n        })\n      : null;\n  const stepFour =\n    step === 4\n      ? formSection({\n          label: text[\"new.field.solution.label\"],\n          type: \"textarea\",\n          name: \"solution\",\n          value: solution,\n          placeholder: text[\"new.field.solution.prompt\"],\n          action: handleInputChange,\n          length: 50,\n          focus: true\n        })\n      : null;\n  const stepFive =\n    step === 5 ? (\n      <Section>\n        <Label direction={direction} value={text[\"new.field.photo.label\"]} />\n        <PhotoUpload\n          label={text[\"new.field.photo.prompt\"]}\n          direction={direction}\n          action={handleSetPhoto}\n        />\n        {formSection({\n          label: text[\"new.field.link.label\"],\n          type: \"url\",\n          name: \"link\",\n          value: link,\n          placeholder: text[\"new.field.link.prompt\"],\n          action: handleInputChange,\n          length: 5\n        })}\n      </Section>\n    ) : null;\n\n  const mockFn = (props: any) => {};\n  const post = {\n    title,\n    category,\n    problem,\n    solution,\n    photo,\n    link,\n    _id: \"\",\n    createdBy: \"\",\n    date: \"\",\n    status: \"\",\n    votes: []\n  };\n  const preview =\n    step === 6 ? <Post preview post={post} action={mockFn} /> : null;\n  const loadingElement = loading ? <Loading /> : null;\n  return (\n    <Content padded>\n      <Center>\n        <SubTitle title={pageSubTitle} direction={direction} />\n        {stepsComponent}\n      </Center>\n      <Paragraph direction={direction}>{text[\"new.steps.step.1\"]}</Paragraph>\n      <ContentBlock\n        stepOne={stepOne}\n        stepTwo={stepTwo}\n        stepThree={stepThree}\n        stepFour={stepFour}\n        stepFive={stepFive}\n        preview={preview}\n        loadingElement={loadingElement}\n        direction={direction}\n        message={message}\n      />\n      <ButtonsWrapper row direction={direction}>\n        {buttonPrimary}\n        <Button mode='secondary' disabled={step === 1} action={handleBackStep}>\n          {text[\"new.steps.button.back\"]}\n        </Button>\n      </ButtonsWrapper>\n    </Content>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    language: state.language,\n    // step: state.step,\n    locationData: state.locationData,\n    token: state.token,\n    submitResult: state.submitPost,\n    step: state.step\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { setStep, submitPost }\n)(NewPost);\n","import React from \"react\";\n\nimport NewPost from \"../features/New\";\n\nimport Page from \"../layout/Page\";\n\nconst New = () => {\n  return (\n    <Page opposite>\n      <NewPost />\n    </Page>\n  );\n};\n\nexport default New;\n","import React from \"react\";\n\nimport styles from \"./style/Block.module.scss\";\n\n/**\n * React JSX component to wrap block with paragraph style\n *\n * @param {object} props - Children to display, boolean label - thin\n *\n * @returns {JSX.Element}\n */\nconst Block = (props: {\n  children: any;\n  border?: boolean;\n  rectangle?: boolean;\n}): JSX.Element => {\n  let blockStyle = styles.block;\n\n  if (props.border) {\n    blockStyle = styles.border;\n  } else if (props.rectangle) {\n    blockStyle = styles.borderRectangle;\n  }\n\n  return <div className={blockStyle}>{props.children}</div>;\n};\n\nexport default Block;\n"],"sourceRoot":""}