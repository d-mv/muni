{"version":3,"sources":["layout/SubTitle.tsx","layout/style/SubTitle.module.scss","pages/Mine.tsx"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_style_SubTitle_module_scss__WEBPACK_IMPORTED_MODULE_1__","_style_SubTitle_module_scss__WEBPACK_IMPORTED_MODULE_1___default","SubTitle","props","a","createElement","className","direction","styles","titleR","title","module","exports","makePostsArray","posts","id","result","map","post","createdBy","push","connect","state","language","locationData","help","login","showHelp","_props$language","text","_id","_props$locationData","_useState","pinned","useState","_useState2","Object","_Users_dmitry_Desktop_Projects_muni_app_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","postsLcl","setPosts","_useState3","_useState4","setPost","_useState5","_useState6","editPost","setEditPost","useEffect","toggleHelp","header","react__WEBPACK_IMPORTED_MODULE_1___default","_components_Header__WEBPACK_IMPORTED_MODULE_4__","returnTo","subtitle","_layout_SubTitle__WEBPACK_IMPORTED_MODULE_8__","content","_components_PostList__WEBPACK_IMPORTED_MODULE_6__","action","newPost","_components_ShowPost__WEBPACK_IMPORTED_MODULE_5__","edit","actions","console","log","mode","_layout_Page__WEBPACK_IMPORTED_MODULE_7__","_layout_Content__WEBPACK_IMPORTED_MODULE_9__"],"mappings":"0FAAA,IAAAA,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAI,EAAAH,EAAA,KAAAI,EAAAJ,EAAAE,EAAAC,GAYeE,IARE,SAACC,GAChB,OACEL,EAAAM,EAAAC,cAAA,MAAIC,UAA+B,QAApBH,EAAMI,UAAsBC,IAAOC,OAASD,IAAOE,OAC/DP,EAAMO,6BCNbC,EAAAC,QAAA,CAAkBF,MAAA,wBAAAD,OAAA,gKCcZI,EAAiB,SAACC,EAAoBC,GAC1C,IAAIC,EAAsB,GAI1B,OAHAF,EAAMG,IAAI,SAACC,GACLA,EAAKC,YAAcJ,GAAIC,EAAOI,KAAKF,KAElCF,GAqFMK,sBATS,SAACC,GACvB,MAAO,CACLC,SAAUD,EAAMC,SAChBC,aAAcF,EAAME,aACpBC,KAAMH,EAAMG,KACZC,MAAOJ,EAAMI,QAMf,CAAEC,cAFWN,CAlFF,SAAClB,GAKR,IAAAyB,EACwBzB,EAAMoB,SAA1BhB,EADJqB,EACIrB,UAAWsB,EADfD,EACeC,KACXC,EAAQ3B,EAAMqB,aAAdM,IAFJC,EAGsB5B,EAAMqB,aAAxBV,EAHJiB,EAGIjB,MAHJkB,GAAAD,EAGWE,OACcC,mBAC3BpB,EAAQD,EAAeC,EAAOgB,GAAO,KALnCK,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GAIGM,EAJHH,EAAA,GAIaI,EAJbJ,EAAA,GAAAK,EAOoBN,mBAAS,CAAEJ,IAAK,KAPpCW,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAOGtB,EAPHuB,EAAA,GAOSC,EAPTD,EAAA,GAAAE,EAQ4BT,oBAAS,GARrCU,EAAAR,OAAAC,EAAA,EAAAD,CAAAO,EAAA,GAQGE,EARHD,EAAA,GAQaE,EARbF,EAAA,GAUJG,oBAAU,WACJjC,GACFyB,EAAS1B,EAAeC,EAAOgB,KAEhC,CAAC3B,EAAMqB,aAAcV,IAExB,IAcMkC,EAAa,WACjB7C,EAAMwB,UAAUxB,EAAMsB,OAWpBwB,EAASC,EAAA9C,EAAAC,cAAC8C,EAAA,EAAD,CAAQ1B,KAAMuB,EAAYI,SAAS,SAE1CC,EACJH,EAAA9C,EAAAC,cAACiD,EAAA,EAAD,CAAU5C,MAAOmB,EAAK,iBAAkBtB,UAAWA,IAGjDgD,EAAUL,EAAA9C,EAAAC,cAACmD,EAAA,EAAD,CAAU1C,MAAOwB,EAAUmB,OA5BnB,SAACC,GACjBxC,IAASwC,GACXhB,EAAQgB,MAmCZ,OAPIxC,EAAI,MACNqC,EAAUL,EAAA9C,EAAAC,cAACsD,EAAA,EAAD,CAAUzC,KAAMA,EAAM0C,KAAMf,IACtCI,EACEC,EAAA9C,EAAAC,cAAC8C,EAAA,EAAD,CAAQ1B,KAAMuB,EAAYI,SAAS,OAAOQ,MAAI,EAACH,OApB9B,SAACI,GAEpB,OADAC,QAAQC,IAAIF,GACJA,EAAQG,MACd,IAAK,OACHlB,GAAaD,QAqBjBK,EAAA9C,EAAAC,cAAC4D,EAAA,EAAD,KACGhB,EACDC,EAAA9C,EAAAC,cAAC6D,EAAA,EAAD,KACGb,EACAE","file":"static/js/6.c6c5ce49.chunk.js","sourcesContent":["import React from \"react\";\n\nimport styles from \"./style/SubTitle.module.scss\";\n\nconst SubTitle = (props: { title: string; direction: string }) => {\n  return (\n    <h2 className={props.direction === \"rtl\" ? styles.titleR : styles.title}>\n      {props.title}\n    </h2>\n  );\n};\n\nexport default SubTitle;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"SubTitle_title__2Xfou\",\"titleR\":\"SubTitle_titleR__3z-AB\"};","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { AppState } from \"../store\";\nimport { data, indexedObjAny, post } from \"../store/types\";\nimport { showHelp } from \"../store/app/actions\";\n\nimport Header from \"../components/Header\";\nimport ShowPost from \"../components/ShowPost\";\nimport PostList from \"../components/PostList\";\n\nimport Page from \"../layout/Page\";\nimport SubTitle from \"../layout/SubTitle\";\nimport Content from \"../layout/Content\";\n\nconst makePostsArray = (posts: Array<post>, id: string) => {\n  let result: Array<post> = [];\n  posts.map((post: post) => {\n    if (post.createdBy === id) result.push(post);\n  });\n  return result;\n};\n\nconst Mine = (props: {\n  language: data;\n  locationData: indexedObjAny;\n  help: boolean;\n  showHelp: (arg0: boolean) => void;\n}) => {\n  const { direction, text } = props.language;\n  const { _id } = props.locationData;\n  const { posts, pinned } = props.locationData;\n  const [postsLcl, setPosts] = useState(\n    posts ? makePostsArray(posts, _id) : []\n  );\n  const [post, setPost] = useState({ _id: \"\" });\n  const [editPost, setEditPost] = useState(false);\n\n  useEffect(() => {\n    if (posts) {\n      setPosts(makePostsArray(posts, _id));\n    }\n  }, [props.locationData, posts]);\n\n  const toggleEditPost = () => {\n    setEditPost(!editPost);\n  };\n\n  const handleSetPost = (newPost: any) => {\n    if (post !== newPost) {\n      setPost(newPost);\n    }\n  };\n\n  const handleClearPost = () => {\n    setPost({ _id: \"\" });\n  };\n\n  const toggleHelp = () => {\n    props.showHelp(!props.help);\n  };\n  const handleAction = (actions: { mode: string; details?: string }) => {\n    console.log(actions)\n    switch (actions.mode) {\n      case \"edit\":\n        setEditPost(!editPost);\n        break;\n    }\n  };\n\n  let header = <Header help={toggleHelp} returnTo='mine' />;\n\n  const subtitle = (\n    <SubTitle title={text[\"mine.subtitle\"]} direction={direction} />\n  );\n\n  let content = <PostList posts={postsLcl} action={handleSetPost} />;\n\n  if (post[\"_id\"]) {\n    content = <ShowPost post={post} edit={editPost} />;\n    header = (\n      <Header help={toggleHelp} returnTo='mine' edit action={handleAction} />\n    );\n  }\n\n  return (\n    <Page>\n      {header}\n      <Content>\n        {subtitle}\n        {content}\n      </Content>\n    </Page>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    language: state.language,\n    locationData: state.locationData,\n    help: state.help,\n    login: state.login\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { showHelp }\n)(Mine);\n"],"sourceRoot":""}